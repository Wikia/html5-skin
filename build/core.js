try{!function(){var OO={};OO.VERSION={core:{releaseVersion:"4.14.8",rev:"<CORE_REV>"}},OO.playerParams={core_version:4,vast_proxy_url:"http://player.ooyala.com/adinsertion/vast_proxy"},OO.publicApi=OO.publicApi||{},OO.playerParams=OO.playerParams||{};var consoleFilter,recordingConsole=!1,MAX_CONSOLE_OUTPUT_LINES=2e3;OO.consoleOutput=[],OO.log=function(){if("undefined"!=typeof window.console&&"function"==typeof window.console.log&&OO.playerParams.debug&&window.console.log.apply(window.console,arguments),recordingConsole){var e,t="";for(e=0;e<arguments.length;e++)t+=arguments[e]+" ";OO.consoleOutput||(OO.consoleOutput=[]);var i;consoleFilter&&(i=new RegExp(consoleFilter)),(!i||i.test(t))&&(OO.consoleOutput.length>=MAX_CONSOLE_OUTPUT_LINES&&OO.consoleOutput.shift(),OO.consoleOutput.push(t))}},OO.startRecordingConsoleOutput=function(e){return consoleFilter=e,recordingConsole=!0,"CONSOLE RECORDING STARTED"},OO.stopRecordingConsoleOutput=function(){return recordingConsole=!1,"CONSOLE RECORDING STOPPED"},OO.clearRecordedConsoleOutput=function(){return OO.consoleOutput||(OO.consoleOutput=[]),OO.consoleOutput.splice(0,OO.consoleOutput.length),"CONSOLE RECORDING CLEARED"},OO.setMaxConsoleOutputLines=function(e){return OO.consoleOutput||(OO.consoleOutput=[]),e<OO.consoleOutput.length&&OO.consoleOutput.splice(0,OO.consoleOutput.length-e),MAX_CONSOLE_OUTPUT_LINES=e,"CONSOLE MAX LINES: "+MAX_CONSOLE_OUTPUT_LINES},window.JSON||(window.JSON={stringify:function(){return"<object>"},__end_marker:!0}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var i,n=this.length;for(i=t||0;n>i;i++)if(this[i]===e)return i;return-1});var namespace=OO.playerParams.namespace||"OO";if(window[namespace]&&window[namespace].Player)throw OO.log("PlayerV3 is loaded already!!!"),window[namespace].REV!=OO.publicApi.REV&&OO.log("there is a different VERSION loaded:",window[namespace].REV,OO.publicApi.REV),"PlayerV3 already defined!!";OO.publicApi.__static=window[namespace]&&window[namespace].__static?window[namespace].__static:{readyList:[],docReady:!1,apiReady:!1},window[namespace]=OO.publicApi,window[namespace].__internal=OO,OO.isReady=function(){return OO.publicApi.__static.apiReady&&OO.publicApi.__static.docReady},OO.tryCallReady=function(){if(OO.isReady())for(;OO.publicApi.__static.readyList.length>0;){var e=OO.publicApi.__static.readyList.pop();if("function"==typeof e)try{e(OO.publicApi)}catch(t){OO.log("Error executing ready function",t,t.stack)}}},OO.publicApi.ready=function(e){OO.publicApi.__static.readyList.unshift(e),OO.tryCallReady()};var curOO=OO;OO.publicApi.plugin=function(e,t){curOO.isReady()?(OO.log("plugin is ready to register",curOO,e),curOO.plugin(e,t)):(OO.log("plugin",e),OO.publicApi.__static.readyList.push(function(i){i.plugin(e,t)}))},function(){function e(t,i,n){if(t===i)return 0!==t||1/t==1/i;if(null==t||null==i)return t===i;if(t._chain&&(t=t._wrapped),i._chain&&(i=i._wrapped),t.isEqual&&A.isFunction(t.isEqual))return t.isEqual(i);if(i.isEqual&&A.isFunction(i.isEqual))return i.isEqual(t);var a=u.call(t);if(a!=u.call(i))return!1;switch(a){case"[object String]":return t==String(i);case"[object Number]":return t!=+t?i!=+i:0==t?1/t==1/i:t==+i;case"[object Date]":case"[object Boolean]":return+t==+i;case"[object RegExp]":return t.source==i.source&&t.global==i.global&&t.multiline==i.multiline&&t.ignoreCase==i.ignoreCase}if("object"!=typeof t||"object"!=typeof i)return!1;for(var r=n.length;r--;)if(n[r]==t)return!0;n.push(t);var s=0,o=!0;if("[object Array]"==a){if(s=t.length,o=s==i.length)for(;s--&&(o=s in t==s in i&&e(t[s],i[s],n)););}else{if("constructor"in t!="constructor"in i||t.constructor!=i.constructor)return!1;for(var l in t)if(A.has(t,l)&&(s++,!(o=A.has(i,l)&&e(t[l],i[l],n))))break;if(o){for(l in i)if(A.has(i,l)&&!s--)break;o=!s}}return n.pop(),o}var t=this,i=t._,n={},a=Array.prototype,r=Object.prototype,s=Function.prototype,o=a.slice,l=a.unshift,u=r.toString,d=(r.hasOwnProperty,a.forEach),c=a.map,h=a.reduce,p=a.reduceRight,E=a.filter,f=a.every,g=a.some,y=a.indexOf,T=a.lastIndexOf,m=Array.isArray,_=Object.keys,O=s.bind,A=function(e){return new w(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=A),exports._=A):t._=A,A.VERSION="1.3.3";var I=A.each=A.forEach=function(e,t,i){if(null!=e)if(d&&e.forEach===d)e.forEach(t,i);else if(e.length===+e.length){for(var a=0,r=e.length;r>a;a++)if(a in e&&t.call(i,e[a],a,e)===n)return}else for(var s in e)if(A.has(e,s)&&t.call(i,e[s],s,e)===n)return};A.map=A.collect=function(e,t,i){var n=[];return null==e?n:c&&e.map===c?e.map(t,i):(I(e,function(e,a,r){n[n.length]=t.call(i,e,a,r)}),e.length===+e.length&&(n.length=e.length),n)},A.reduce=A.foldl=A.inject=function(e,t,i,n){var a=arguments.length>2;if(null==e&&(e=[]),h&&e.reduce===h)return n&&(t=A.bind(t,n)),a?e.reduce(t,i):e.reduce(t);if(I(e,function(e,r,s){a?i=t.call(n,i,e,r,s):(i=e,a=!0)}),!a)throw new TypeError("Reduce of empty array with no initial value");return i},A.reduceRight=A.foldr=function(e,t,i,n){var a=arguments.length>2;if(null==e&&(e=[]),p&&e.reduceRight===p)return n&&(t=A.bind(t,n)),a?e.reduceRight(t,i):e.reduceRight(t);var r=A.toArray(e).reverse();return n&&!a&&(t=A.bind(t,n)),a?A.reduce(r,t,i,n):A.reduce(r,t)},A.find=A.detect=function(e,t,i){var n;return v(e,function(e,a,r){return t.call(i,e,a,r)?(n=e,!0):void 0}),n},A.filter=A.select=function(e,t,i){var n=[];return null==e?n:E&&e.filter===E?e.filter(t,i):(I(e,function(e,a,r){t.call(i,e,a,r)&&(n[n.length]=e)}),n)},A.reject=function(e,t,i){var n=[];return null==e?n:(I(e,function(e,a,r){t.call(i,e,a,r)||(n[n.length]=e)}),n)},A.every=A.all=function(e,t,i){var a=!0;return null==e?a:f&&e.every===f?e.every(t,i):(I(e,function(e,r,s){return(a=a&&t.call(i,e,r,s))?void 0:n}),!!a)};var v=A.some=A.any=function(e,t,i){t||(t=A.identity);var a=!1;return null==e?a:g&&e.some===g?e.some(t,i):(I(e,function(e,r,s){return a||(a=t.call(i,e,r,s))?n:void 0}),!!a)};A.include=A.contains=function(e,t){var i=!1;return null==e?i:y&&e.indexOf===y?-1!=e.indexOf(t):i=v(e,function(e){return e===t})},A.invoke=function(e,t){var i=o.call(arguments,2);return A.map(e,function(e){return(A.isFunction(t)?t||e:e[t]).apply(e,i)})},A.pluck=function(e,t){return A.map(e,function(e){return e[t]})},A.max=function(e,t,i){if(!t&&A.isArray(e)&&e[0]===+e[0])return Math.max.apply(Math,e);if(!t&&A.isEmpty(e))return-1/0;var n={computed:-1/0};return I(e,function(e,a,r){var s=t?t.call(i,e,a,r):e;s>=n.computed&&(n={value:e,computed:s})}),n.value},A.min=function(e,t,i){if(!t&&A.isArray(e)&&e[0]===+e[0])return Math.min.apply(Math,e);if(!t&&A.isEmpty(e))return 1/0;var n={computed:1/0};return I(e,function(e,a,r){var s=t?t.call(i,e,a,r):e;s<n.computed&&(n={value:e,computed:s})}),n.value},A.shuffle=function(e){var t,i=[];return I(e,function(e,n){t=Math.floor(Math.random()*(n+1)),i[n]=i[t],i[t]=e}),i},A.sortBy=function(e,t,i){var n=A.isFunction(t)?t:function(e){return e[t]};return A.pluck(A.map(e,function(e,t,a){return{value:e,criteria:n.call(i,e,t,a)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;return void 0===i?1:void 0===n?-1:n>i?-1:i>n?1:0}),"value")},A.groupBy=function(e,t){var i={},n=A.isFunction(t)?t:function(e){return e[t]};return I(e,function(e,t){var a=n(e,t);(i[a]||(i[a]=[])).push(e)}),i},A.sortedIndex=function(e,t,i){i||(i=A.identity);for(var n=0,a=e.length;a>n;){var r=n+a>>1;i(e[r])<i(t)?n=r+1:a=r}return n},A.toArray=function(e){return e?A.isArray(e)?o.call(e):A.isArguments(e)?o.call(e):e.toArray&&A.isFunction(e.toArray)?e.toArray():A.values(e):[]},A.size=function(e){return A.isArray(e)?e.length:A.keys(e).length},A.first=A.head=A.take=function(e,t,i){return null==t||i?e[0]:o.call(e,0,t)},A.initial=function(e,t,i){return o.call(e,0,e.length-(null==t||i?1:t))},A.last=function(e,t,i){return null==t||i?e[e.length-1]:o.call(e,Math.max(e.length-t,0))},A.rest=A.tail=function(e,t,i){return o.call(e,null==t||i?1:t)},A.compact=function(e){return A.filter(e,function(e){return!!e})},A.flatten=function(e,t){return A.reduce(e,function(e,i){return A.isArray(i)?e.concat(t?i:A.flatten(i)):(e[e.length]=i,e)},[])},A.without=function(e){return A.difference(e,o.call(arguments,1))},A.uniq=A.unique=function(e,t,i){var n=i?A.map(e,i):e,a=[];return e.length<3&&(t=!0),A.reduce(n,function(i,n,r){return(t?A.last(i)===n&&i.length:A.include(i,n))||(i.push(n),a.push(e[r])),i},[]),a},A.union=function(){return A.uniq(A.flatten(arguments,!0))},A.intersection=A.intersect=function(e){var t=o.call(arguments,1);return A.filter(A.uniq(e),function(e){return A.every(t,function(t){return A.indexOf(t,e)>=0})})},A.difference=function(e){var t=A.flatten(o.call(arguments,1),!0);return A.filter(e,function(e){return!A.include(t,e)})},A.zip=function(){for(var e=o.call(arguments),t=A.max(A.pluck(e,"length")),i=new Array(t),n=0;t>n;n++)i[n]=A.pluck(e,""+n);return i},A.indexOf=function(e,t,i){if(null==e)return-1;var n,a;if(i)return n=A.sortedIndex(e,t),e[n]===t?n:-1;if(y&&e.indexOf===y)return e.indexOf(t);for(n=0,a=e.length;a>n;n++)if(n in e&&e[n]===t)return n;return-1},A.lastIndexOf=function(e,t){if(null==e)return-1;if(T&&e.lastIndexOf===T)return e.lastIndexOf(t);for(var i=e.length;i--;)if(i in e&&e[i]===t)return i;return-1},A.range=function(e,t,i){arguments.length<=1&&(t=e||0,e=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((t-e)/i),0),a=0,r=new Array(n);n>a;)r[a++]=e,e+=i;return r};var S=function(){};A.bind=function(e,t){var i,n;if(e.bind===O&&O)return O.apply(e,o.call(arguments,1));if(!A.isFunction(e))throw new TypeError;return n=o.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(o.call(arguments)));S.prototype=e.prototype;var a=new S,r=e.apply(a,n.concat(o.call(arguments)));return Object(r)===r?r:a}},A.bindAll=function(e){var t=o.call(arguments,1);return 0==t.length&&(t=A.functions(e)),I(t,function(t){e[t]=A.bind(e[t],e)}),e},A.memoize=function(e,t){var i={};return t||(t=A.identity),function(){var n=t.apply(this,arguments);return A.has(i,n)?i[n]:i[n]=e.apply(this,arguments)}},A.delay=function(e,t){var i=o.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},A.defer=function(e){return A.delay.apply(A,[e,1].concat(o.call(arguments,1)))},A.throttle=function(e,t){var i,n,a,r,s,o,l=A.debounce(function(){s=r=!1},t);return function(){i=this,n=arguments;var u=function(){a=null,s&&e.apply(i,n),l()};return a||(a=setTimeout(u,t)),r?s=!0:o=e.apply(i,n),l(),r=!0,o}},A.debounce=function(e,t,i){var n;return function(){var a=this,r=arguments,s=function(){n=null,i||e.apply(a,r)};i&&!n&&e.apply(a,r),clearTimeout(n),n=setTimeout(s,t)}},A.once=function(e){var t,i=!1;return function(){return i?t:(i=!0,t=e.apply(this,arguments))}},A.wrap=function(e,t){return function(){var i=[e].concat(o.call(arguments,0));return t.apply(this,i)}},A.compose=function(){var e=arguments;return function(){for(var t=arguments,i=e.length-1;i>=0;i--)t=[e[i].apply(this,t)];return t[0]}},A.after=function(e,t){return 0>=e?t():function(){return--e<1?t.apply(this,arguments):void 0}},A.keys=_||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var i in e)A.has(e,i)&&(t[t.length]=i);return t},A.values=function(e){return A.map(e,A.identity)},A.functions=A.methods=function(e){var t=[];for(var i in e)A.isFunction(e[i])&&t.push(i);return t.sort()},A.extend=function(e){return I(o.call(arguments,1),function(t){for(var i in t)e[i]=t[i]}),e},A.pick=function(e){var t={};return I(A.flatten(o.call(arguments,1)),function(i){i in e&&(t[i]=e[i])}),t},A.defaults=function(e){return I(o.call(arguments,1),function(t){for(var i in t)null==e[i]&&(e[i]=t[i])}),e},A.clone=function(e){return A.isObject(e)?A.isArray(e)?e.slice():A.extend({},e):e},A.tap=function(e,t){return t(e),e},A.isEqual=function(t,i){return e(t,i,[])},A.isEmpty=function(e){if(null==e)return!0;if(A.isArray(e)||A.isString(e))return 0===e.length;for(var t in e)if(A.has(e,t))return!1;return!0},A.isElement=function(e){return!(!e||1!=e.nodeType)},A.isArray=m||function(e){return"[object Array]"==u.call(e)},A.isObject=function(e){return e===Object(e)},A.isArguments=function(e){return"[object Arguments]"==u.call(e)},A.isArguments(arguments)||(A.isArguments=function(e){return!(!e||!A.has(e,"callee"))}),A.isFunction=function(e){return"[object Function]"==u.call(e)},A.isString=function(e){return"[object String]"==u.call(e)},A.isNumber=function(e){return"[object Number]"==u.call(e)},A.isFinite=function(e){return A.isNumber(e)&&isFinite(e)},A.isNaN=function(e){return e!==e},A.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==u.call(e)},A.isDate=function(e){return"[object Date]"==u.call(e)},A.isRegExp=function(e){return"[object RegExp]"==u.call(e)},A.isNull=function(e){return null===e},A.isUndefined=function(e){return void 0===e},A.has=function(e,t){return"function"==typeof e.hasOwnProperty?e.hasOwnProperty(t):!(void 0===typeof e[t])},A.noConflict=function(){return t._=i,this},A.identity=function(e){return e},A.times=function(e,t,i){for(var n=0;e>n;n++)t.call(i,n)},A.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},A.result=function(e,t){if(null==e)return null;var i=e[t];return A.isFunction(i)?i.call(e):i},A.mixin=function(e){I(A.functions(e),function(t){V(t,A[t]=e[t])})};var b=0;A.uniqueId=function(e){var t=b++;return e?e+t:t},A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/.^/,D={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var R in D)D[D[R]]=R;var C=/\\|'|\r|\n|\t|\u2028|\u2029/g,L=/\\(\\|'|r|n|t|u2028|u2029)/g,P=function(e){return e.replace(L,function(e,t){return D[t]})};A.template=function(e,t,i){i=A.defaults(i||{},A.templateSettings);var n="__p+='"+e.replace(C,function(e){return"\\"+D[e]}).replace(i.escape||N,function(e,t){return"'+\n_.escape("+P(t)+")+\n'"}).replace(i.interpolate||N,function(e,t){return"'+\n("+P(t)+")+\n'"}).replace(i.evaluate||N,function(e,t){return"';\n"+P(t)+"\n;__p+='"})+"';\n";i.variable||(n="with(obj||{}){\n"+n+"}\n"),n="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+n+"return __p;\n";var a=new Function(i.variable||"obj","_",n);if(t)return a(t,A);var r=function(e){return a.call(this,e,A)};return r.source="function("+(i.variable||"obj")+"){\n"+n+"}",r},A.chain=function(e){return A(e).chain()};var w=function(e){this._wrapped=e};A.prototype=w.prototype;var k=function(e,t){return t?A(e).chain():e},V=function(e,t){w.prototype[e]=function(){var e=o.call(arguments);return l.call(e,this._wrapped),k(t.apply(A,e),this._chain)}};A.mixin(A),I(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];w.prototype[e]=function(){var i=this._wrapped;t.apply(i,arguments);var n=i.length;return"shift"!=e&&"splice"!=e||0!==n||delete i[0],k(i,this._chain)}}),I(["concat","join","slice"],function(e){var t=a[e];w.prototype[e]=function(){return k(t.apply(this._wrapped,arguments),this._chain)}}),w.prototype.chain=function(){return this._chain=!0,this},w.prototype.value=function(){return this._wrapped}}.call(this),function(e,t){function i(e){var t=Et[e]={};return Z.each(e.split(tt),function(e,i){t[i]=!0}),t}function n(e,i,n){if(n===t&&1===e.nodeType){var a="data-"+i.replace(gt,"-$1").toLowerCase();if(n=e.getAttribute(a),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:ft.test(n)?Z.parseJSON(n):n}catch(r){}Z.data(e,i,n)}else n=t}return n}function a(e){var t;for(t in e)if(("data"!==t||!Z.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function r(){return!1}function s(){return!0}function o(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function l(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function u(e,t,i){if(t=t||0,Z.isFunction(t))return Z.grep(e,function(e,n){var a=!!t.call(e,n,e);return a===i});if(t.nodeType)return Z.grep(e,function(e){return e===t===i});if("string"==typeof t){var n=Z.grep(e,function(e){return 1===e.nodeType});if(Ft.test(t))return Z.filter(t,n,!i);t=Z.filter(t,n)}return Z.grep(e,function(e){return Z.inArray(e,t)>=0===i})}function d(e){var t=Ut.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function c(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function h(e,t){if(1===t.nodeType&&Z.hasData(e)){var i,n,a,r=Z._data(e),s=Z._data(t,r),o=r.events;if(o){delete s.handle,s.events={};for(i in o)for(n=0,a=o[i].length;a>n;n++)Z.event.add(t,i,o[i][n])}s.data&&(s.data=Z.extend({},s.data))}}function p(e,t){var i;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),i=t.nodeName.toLowerCase(),"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),Z.support.html5Clone&&e.innerHTML&&!Z.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Xt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.selected=e.defaultSelected:"input"===i||"textarea"===i?t.defaultValue=e.defaultValue:"script"===i&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(Z.expando))}function E(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function f(e){Xt.test(e.type)&&(e.defaultChecked=e.checked)}function g(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,a=yi.length;a--;)if(t=yi[a]+i,t in e)return t;return n}function y(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)}function T(e,t){for(var i,n,a=[],r=0,s=e.length;s>r;r++)i=e[r],i.style&&(a[r]=Z._data(i,"olddisplay"),t?(a[r]||"none"!==i.style.display||(i.style.display=""),""===i.style.display&&y(i)&&(a[r]=Z._data(i,"olddisplay",A(i.nodeName)))):(n=ii(i,"display"),a[r]||"none"===n||Z._data(i,"olddisplay",n)));for(r=0;s>r;r++)i=e[r],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?a[r]||"":"none"));return e}function m(e,t,i){var n=di.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function _(e,t,i,n){for(var a=i===(n?"border":"content")?4:"width"===t?1:0,r=0;4>a;a+=2)"margin"===i&&(r+=Z.css(e,i+gi[a],!0)),n?("content"===i&&(r-=parseFloat(ii(e,"padding"+gi[a]))||0),"margin"!==i&&(r-=parseFloat(ii(e,"border"+gi[a]+"Width"))||0)):(r+=parseFloat(ii(e,"padding"+gi[a]))||0,"padding"!==i&&(r+=parseFloat(ii(e,"border"+gi[a]+"Width"))||0));return r}function O(e,t,i){var n="width"===t?e.offsetWidth:e.offsetHeight,a=!0,r=Z.support.boxSizing&&"border-box"===Z.css(e,"boxSizing");if(0>=n||null==n){if(n=ii(e,t),(0>n||null==n)&&(n=e.style[t]),ci.test(n))return n;a=r&&(Z.support.boxSizingReliable||n===e.style[t]),n=parseFloat(n)||0}return n+_(e,t,i||(r?"border":"content"),a)+"px"}function A(e){if(pi[e])return pi[e];var t=Z("<"+e+">").appendTo(H.body),i=t.css("display");return t.remove(),("none"===i||""===i)&&(ni=H.body.appendChild(ni||Z.extend(H.createElement("iframe"),{frameBorder:0,width:0,height:0})),ai&&ni.createElement||(ai=(ni.contentWindow||ni.contentDocument).document,ai.write("<!doctype html><html><body>"),ai.close()),t=ai.body.appendChild(ai.createElement(e)),i=ii(t,"display"),H.body.removeChild(ni)),pi[e]=i,i}function I(e,t,i,n){var a;if(Z.isArray(t))Z.each(t,function(t,a){i||_i.test(e)?n(e,a):I(e+"["+("object"==typeof a?t:"")+"]",a,i,n)});else if(i||"object"!==Z.type(t))n(e,t);else for(a in t)I(e+"["+a+"]",t[a],i,n)}function v(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,a,r,s=t.toLowerCase().split(tt),o=0,l=s.length;if(Z.isFunction(i))for(;l>o;o++)n=s[o],r=/^\+/.test(n),r&&(n=n.substr(1)||"*"),a=e[n]=e[n]||[],a[r?"unshift":"push"](i)}}function S(e,i,n,a,r,s){r=r||i.dataTypes[0],s=s||{},s[r]=!0;for(var o,l=e[r],u=0,d=l?l.length:0,c=e===Fi;d>u&&(c||!o);u++)o=l[u](i,n,a),"string"==typeof o&&(!c||s[o]?o=t:(i.dataTypes.unshift(o),o=S(e,i,n,a,o,s)));return!c&&o||s["*"]||(o=S(e,i,n,a,"*",s)),o}function b(e,i){var n,a,r=Z.ajaxSettings.flatOptions||{};for(n in i)i[n]!==t&&((r[n]?e:a||(a={}))[n]=i[n]);a&&Z.extend(!0,e,a)}function N(e,i,n){var a,r,s,o,l=e.contents,u=e.dataTypes,d=e.responseFields;for(r in d)r in n&&(i[d[r]]=n[r]);for(;"*"===u[0];)u.shift(),a===t&&(a=e.mimeType||i.getResponseHeader("content-type"));if(a)for(r in l)if(l[r]&&l[r].test(a)){u.unshift(r);break}if(u[0]in n)s=u[0];else{for(r in n){if(!u[0]||e.converters[r+" "+u[0]]){s=r;break}o||(o=r)}s=s||o}return s?(s!==u[0]&&u.unshift(s),n[s]):void 0}function D(e,t){var i,n,a,r,s=e.dataTypes.slice(),o=s[0],l={},u=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s[1])for(i in e.converters)l[i.toLowerCase()]=e.converters[i];for(;a=s[++u];)if("*"!==a){if("*"!==o&&o!==a){if(i=l[o+" "+a]||l["* "+a],!i)for(n in l)if(r=n.split(" "),r[1]===a&&(i=l[o+" "+r[0]]||l["* "+r[0]])){i===!0?i=l[n]:l[n]!==!0&&(a=r[0],s.splice(u--,0,a));break}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(d){return{state:"parsererror",error:i?d:"No conversion from "+o+" to "+a}}}o=a}return{state:"success",data:t}}function R(){try{return new e.XMLHttpRequest}catch(t){}}function C(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function L(){return setTimeout(function(){zi=t},0),zi=Z.now()}function P(e,t){Z.each(t,function(t,i){for(var n=(Ji[t]||[]).concat(Ji["*"]),a=0,r=n.length;r>a;a++)if(n[a].call(e,t,i))return})}function w(e,t,i){var n,a=0,r=Zi.length,s=Z.Deferred().always(function(){delete o.elem}),o=function(){for(var t=zi||L(),i=Math.max(0,l.startTime+l.duration-t),n=i/l.duration||0,a=1-n,r=0,o=l.tweens.length;o>r;r++)l.tweens[r].run(a);return s.notifyWith(e,[l,a,i]),1>a&&o?i:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:zi||L(),duration:i.duration,tweens:[],createTween:function(t,i){var n=Z.Tween(e,l.opts,t,i,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(n),n},stop:function(t){for(var i=0,n=t?l.tweens.length:0;n>i;i++)l.tweens[i].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),u=l.props;for(k(u,l.opts.specialEasing);r>a;a++)if(n=Zi[a].call(l,e,u,l.opts))return n;return P(l,u),Z.isFunction(l.opts.start)&&l.opts.start.call(e,l),Z.fx.timer(Z.extend(o,{anim:l,queue:l.opts.queue,elem:e})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function k(e,t){var i,n,a,r,s;for(i in e)if(n=Z.camelCase(i),a=t[n],r=e[i],Z.isArray(r)&&(a=r[1],r=e[i]=r[0]),i!==n&&(e[n]=r,delete e[i]),s=Z.cssHooks[n],s&&"expand"in s){r=s.expand(r),delete e[n];for(i in r)i in e||(e[i]=r[i],t[i]=a)}else t[n]=a}function V(e,t,i){var n,a,r,s,o,l,u,d,c,h=this,p=e.style,E={},f=[],g=e.nodeType&&y(e);i.queue||(d=Z._queueHooks(e,"fx"),null==d.unqueued&&(d.unqueued=0,c=d.empty.fire,d.empty.fire=function(){d.unqueued||c()}),d.unqueued++,h.always(function(){h.always(function(){d.unqueued--,Z.queue(e,"fx").length||d.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===Z.css(e,"display")&&"none"===Z.css(e,"float")&&(Z.support.inlineBlockNeedsLayout&&"inline"!==A(e.nodeName)?p.zoom=1:p.display="inline-block")),i.overflow&&(p.overflow="hidden",Z.support.shrinkWrapBlocks||h.done(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in t)if(r=t[n],Xi.exec(r)){if(delete t[n],l=l||"toggle"===r,r===(g?"hide":"show"))continue;f.push(n)}if(s=f.length){o=Z._data(e,"fxshow")||Z._data(e,"fxshow",{}),"hidden"in o&&(g=o.hidden),l&&(o.hidden=!g),g?Z(e).show():h.done(function(){Z(e).hide()}),h.done(function(){var t;Z.removeData(e,"fxshow",!0);for(t in E)Z.style(e,t,E[t])});for(n=0;s>n;n++)a=f[n],u=h.createTween(a,g?o[a]:0),E[a]=o[a]||Z.style(e,a),a in o||(o[a]=u.start,g&&(u.end=u.start,u.start="width"===a||"height"===a?1:0))}}function F(e,t,i,n,a){return new F.prototype.init(e,t,i,n,a)}function B(e,t){var i,n={height:e},a=0;for(t=t?1:0;4>a;a+=2-t)i=gi[a],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function M(e){return Z.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var U,x,H=e.document,G=e.location,Y=e.navigator,W=e.jQuery,j=e.$,K=Array.prototype.push,z=Array.prototype.slice,q=Array.prototype.indexOf,X=Object.prototype.toString,$=Object.prototype.hasOwnProperty,Q=String.prototype.trim,Z=function(e,t){return new Z.fn.init(e,t,U)},J=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,et=/\S/,tt=/\s+/,it=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,nt=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,at=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,rt=/^[\],:{}\s]*$/,st=/(?:^|:|,)(?:\s*\[)+/g,ot=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,lt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ut=/^-ms-/,dt=/-([\da-z])/gi,ct=function(e,t){return(t+"").toUpperCase()},ht=function(){H.addEventListener?(H.removeEventListener("DOMContentLoaded",ht,!1),Z.ready()):"complete"===H.readyState&&(H.detachEvent("onreadystatechange",ht),Z.ready())},pt={};Z.fn=Z.prototype={constructor:Z,init:function(e,i,n){var a,r,s;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(a="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:nt.exec(e),!a||!a[1]&&i)return!i||i.jquery?(i||n).find(e):this.constructor(i).find(e);if(a[1])return i=i instanceof Z?i[0]:i,s=i&&i.nodeType?i.ownerDocument||i:H,e=Z.parseHTML(a[1],s,!0),at.test(a[1])&&Z.isPlainObject(i)&&this.attr.call(e,i,!0),Z.merge(this,e);if(r=H.getElementById(a[2]),r&&r.parentNode){if(r.id!==a[2])return n.find(e);this.length=1,this[0]=r}return this.context=H,this.selector=e,this}return Z.isFunction(e)?n.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return z.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,i){var n=Z.merge(this.constructor(),e);return n.prevObject=this,n.context=this.context,"find"===t?n.selector=this.selector+(this.selector?" ":"")+i:t&&(n.selector=this.selector+"."+t+"("+i+")"),n},each:function(e,t){return Z.each(this,e,t)},ready:function(e){return Z.ready.promise().done(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(z.apply(this,arguments),"slice",z.call(arguments).join(","))},map:function(e){return this.pushStack(Z.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:[].sort,splice:[].splice},Z.fn.init.prototype=Z.fn,Z.extend=Z.fn.extend=function(){var e,i,n,a,r,s,o=arguments[0]||{},l=1,u=arguments.length,d=!1;for("boolean"==typeof o&&(d=o,o=arguments[1]||{},l=2),"object"==typeof o||Z.isFunction(o)||(o={}),u===l&&(o=this,--l);u>l;l++)if(null!=(e=arguments[l]))for(i in e)n=o[i],a=e[i],o!==a&&(d&&a&&(Z.isPlainObject(a)||(r=Z.isArray(a)))?(r?(r=!1,s=n&&Z.isArray(n)?n:[]):s=n&&Z.isPlainObject(n)?n:{},o[i]=Z.extend(d,s,a)):a!==t&&(o[i]=a));return o},Z.extend({noConflict:function(t){return e.$===Z&&(e.$=j),t&&e.jQuery===Z&&(e.jQuery=W),Z},isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){if(e===!0?!--Z.readyWait:!Z.isReady){if(!H.body)return setTimeout(Z.ready,1);Z.isReady=!0,e!==!0&&--Z.readyWait>0||(x.resolveWith(H,[Z]),Z.fn.trigger&&Z(H).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray||function(e){return"array"===Z.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):pt[X.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==Z.type(e)||e.nodeType||Z.isWindow(e))return!1;try{if(e.constructor&&!$.call(e,"constructor")&&!$.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}var n;for(n in e);return n===t||$.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,i){var n;return e&&"string"==typeof e?("boolean"==typeof t&&(i=t,t=0),t=t||H,(n=at.exec(e))?[t.createElement(n[1])]:(n=Z.buildFragment([e],t,i?null:[]),Z.merge([],(n.cacheable?Z.clone(n.fragment):n.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=Z.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):rt.test(t.replace(ot,"@").replace(lt,"]").replace(st,""))?new Function("return "+t)():void Z.error("Invalid JSON: "+t)):null},parseXML:function(i){var n,a;if(!i||"string"!=typeof i)return null;try{e.DOMParser?(a=new DOMParser,n=a.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(r){n=t}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||Z.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(t){t&&et.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ut,"ms-").replace(dt,ct)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,i,n){var a,r=0,s=e.length,o=s===t||Z.isFunction(e);if(n)if(o){for(a in e)if(i.apply(e[a],n)===!1)break}else for(;s>r&&i.apply(e[r++],n)!==!1;);else if(o){for(a in e)if(i.call(e[a],a,e[a])===!1)break}else for(;s>r&&i.call(e[r],r,e[r++])!==!1;);return e},trim:Q&&!Q.call("﻿ ")?function(e){return null==e?"":Q.call(e)}:function(e){return null==e?"":(e+"").replace(it,"")},makeArray:function(e,t){var i,n=t||[];return null!=e&&(i=Z.type(e),null==e.length||"string"===i||"function"===i||"regexp"===i||Z.isWindow(e)?K.call(n,e):Z.merge(n,e)),n},inArray:function(e,t,i){var n;if(t){if(q)return q.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,i){var n=i.length,a=e.length,r=0;if("number"==typeof n)for(;n>r;r++)e[a++]=i[r];else for(;i[r]!==t;)e[a++]=i[r++];return e.length=a,e},grep:function(e,t,i){var n,a=[],r=0,s=e.length;for(i=!!i;s>r;r++)n=!!t(e[r],r),i!==n&&a.push(e[r]);return a},map:function(e,i,n){var a,r,s=[],o=0,l=e.length,u=e instanceof Z||l!==t&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||Z.isArray(e));if(u)for(;l>o;o++)a=i(e[o],o,n),null!=a&&(s[s.length]=a);else for(r in e)a=i(e[r],r,n),null!=a&&(s[s.length]=a);return s.concat.apply([],s)},guid:1,proxy:function(e,i){var n,a,r;return"string"==typeof i&&(n=e[i],i=e,e=n),Z.isFunction(e)?(a=z.call(arguments,2),r=function(){return e.apply(i,a.concat(z.call(arguments)))},r.guid=e.guid=e.guid||Z.guid++,r):t},access:function(e,i,n,a,r,s,o){var l,u=null==n,d=0,c=e.length;if(n&&"object"==typeof n){for(d in n)Z.access(e,i,d,n[d],1,s,a);r=1}else if(a!==t){if(l=o===t&&Z.isFunction(a),u&&(l?(l=i,i=function(e,t,i){return l.call(Z(e),i)}):(i.call(e,a),i=null)),i)for(;c>d;d++)i(e[d],n,l?a.call(e[d],d,i(e[d],n)):a,o);r=1}return r?e:u?i.call(e):c?i(e[0],n):s},now:function(){return(new Date).getTime()}}),Z.ready.promise=function(t){if(!x)if(x=Z.Deferred(),"complete"===H.readyState)setTimeout(Z.ready,1);else if(H.addEventListener)H.addEventListener("DOMContentLoaded",ht,!1),e.addEventListener("load",Z.ready,!1);else{H.attachEvent("onreadystatechange",ht),e.attachEvent("onload",Z.ready);var i=!1;try{i=null==e.frameElement&&H.documentElement}catch(n){}i&&i.doScroll&&!function a(){if(!Z.isReady){try{i.doScroll("left")}catch(e){return setTimeout(a,50)}Z.ready()}}()}return x.promise(t)},Z.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){pt["[object "+t+"]"]=t.toLowerCase()}),U=Z(H);var Et={};Z.Callbacks=function(e){e="string"==typeof e?Et[e]||i(e):Z.extend({},e);var n,a,r,s,o,l,u=[],d=!e.once&&[],c=function(t){for(n=e.memory&&t,a=!0,l=s||0,s=0,o=u.length,r=!0;u&&o>l;l++)if(u[l].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;
break}r=!1,u&&(d?d.length&&c(d.shift()):n?u=[]:h.disable())},h={add:function(){if(u){var t=u.length;!function i(t){Z.each(t,function(t,n){var a=Z.type(n);"function"===a?e.unique&&h.has(n)||u.push(n):n&&n.length&&"string"!==a&&i(n)})}(arguments),r?o=u.length:n&&(s=t,c(n))}return this},remove:function(){return u&&Z.each(arguments,function(e,t){for(var i;(i=Z.inArray(t,u,i))>-1;)u.splice(i,1),r&&(o>=i&&o--,l>=i&&l--)}),this},has:function(e){return Z.inArray(e,u)>-1},empty:function(){return u=[],this},disable:function(){return u=d=n=t,this},disabled:function(){return!u},lock:function(){return d=t,n||h.disable(),this},locked:function(){return!d},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||a&&!d||(r?d.push(t):c(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!a}};return h},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(i){Z.each(t,function(t,n){var r=n[0],s=e[t];a[n[1]](Z.isFunction(s)?function(){var e=s.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[r+"With"](this===a?i:this,[e])}:i[r])}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,n):n}},a={};return n.pipe=n.then,Z.each(t,function(e,r){var s=r[2],o=r[3];n[r[1]]=s.add,o&&s.add(function(){i=o},t[1^e][2].disable,t[2][2].lock),a[r[0]]=s.fire,a[r[0]+"With"]=s.fireWith}),n.promise(a),e&&e.call(a,a),a},when:function(e){var t,i,n,a=0,r=z.call(arguments),s=r.length,o=1!==s||e&&Z.isFunction(e.promise)?s:0,l=1===o?e:Z.Deferred(),u=function(e,i,n){return function(a){i[e]=this,n[e]=arguments.length>1?z.call(arguments):a,n===t?l.notifyWith(i,n):--o||l.resolveWith(i,n)}};if(s>1)for(t=new Array(s),i=new Array(s),n=new Array(s);s>a;a++)r[a]&&Z.isFunction(r[a].promise)?r[a].promise().done(u(a,n,r)).fail(l.reject).progress(u(a,i,t)):--o;return o||l.resolveWith(n,r),l.promise()}}),Z.support=function(){var t,i,n,a,r,s,o,l,u,d,c,h=H.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=h.getElementsByTagName("*"),n=h.getElementsByTagName("a")[0],!i||!n||!i.length)return{};a=H.createElement("select"),r=a.appendChild(H.createElement("option")),s=h.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:3===h.firstChild.nodeType,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.5/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:"on"===s.value,optSelected:r.selected,getSetAttribute:"t"!==h.className,enctype:!!H.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==H.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===H.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},s.checked=!0,t.noCloneChecked=s.cloneNode(!0).checked,a.disabled=!0,t.optDisabled=!r.disabled;try{delete h.test}catch(p){t.deleteExpando=!1}if(!h.addEventListener&&h.attachEvent&&h.fireEvent&&(h.attachEvent("onclick",c=function(){t.noCloneEvent=!1}),h.cloneNode(!0).fireEvent("onclick"),h.detachEvent("onclick",c)),s=H.createElement("input"),s.value="t",s.setAttribute("type","radio"),t.radioValue="t"===s.value,s.setAttribute("checked","checked"),s.setAttribute("name","t"),h.appendChild(s),o=H.createDocumentFragment(),o.appendChild(h.lastChild),t.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=s.checked,o.removeChild(s),o.appendChild(h),h.attachEvent)for(u in{submit:!0,change:!0,focusin:!0})l="on"+u,d=l in h,d||(h.setAttribute(l,"return;"),d="function"==typeof h[l]),t[u+"Bubbles"]=d;return Z(function(){var i,n,a,r,s="padding:0;margin:0;border:0;display:block;overflow:hidden;",o=H.getElementsByTagName("body")[0];o&&(i=H.createElement("div"),i.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",o.insertBefore(i,o.firstChild),n=H.createElement("div"),i.appendChild(n),n.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=n.getElementsByTagName("td"),a[0].style.cssText="padding:0;margin:0;border:0;display:none",d=0===a[0].offsetHeight,a[0].style.display="",a[1].style.display="none",t.reliableHiddenOffsets=d&&0===a[0].offsetHeight,n.innerHTML="",n.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===n.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==o.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(n,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(n,null)||{width:"4px"}).width,r=H.createElement("div"),r.style.cssText=n.style.cssText=s,r.style.marginRight=r.style.width="0",n.style.width="1px",n.appendChild(r),t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),"undefined"!=typeof n.style.zoom&&(n.innerHTML="",n.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===n.offsetWidth,n.style.display="block",n.style.overflow="visible",n.innerHTML="<div></div>",n.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==n.offsetWidth,i.style.zoom=1),o.removeChild(i),i=n=a=r=null)}),o.removeChild(h),i=n=a=r=s=o=h=null,t}();var ft=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,gt=/([A-Z])/g;Z.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(Z.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?Z.cache[e[Z.expando]]:e[Z.expando],!!e&&!a(e)},data:function(e,i,n,a){if(Z.acceptData(e)){var r,s,o=Z.expando,l="string"==typeof i,u=e.nodeType,d=u?Z.cache:e,c=u?e[o]:e[o]&&o;if(c&&d[c]&&(a||d[c].data)||!l||n!==t)return c||(u?e[o]=c=Z.deletedIds.pop()||Z.guid++:c=o),d[c]||(d[c]={},u||(d[c].toJSON=Z.noop)),("object"==typeof i||"function"==typeof i)&&(a?d[c]=Z.extend(d[c],i):d[c].data=Z.extend(d[c].data,i)),r=d[c],a||(r.data||(r.data={}),r=r.data),n!==t&&(r[Z.camelCase(i)]=n),l?(s=r[i],null==s&&(s=r[Z.camelCase(i)])):s=r,s}},removeData:function(e,t,i){if(Z.acceptData(e)){var n,r,s,o=e.nodeType,l=o?Z.cache:e,u=o?e[Z.expando]:Z.expando;if(l[u]){if(t&&(n=i?l[u]:l[u].data)){Z.isArray(t)||(t in n?t=[t]:(t=Z.camelCase(t),t=t in n?[t]:t.split(" ")));for(r=0,s=t.length;s>r;r++)delete n[t[r]];if(!(i?a:Z.isEmptyObject)(n))return}(i||(delete l[u].data,a(l[u])))&&(o?Z.cleanData([e],!0):Z.support.deleteExpando||l!=l.window?delete l[u]:l[u]=null)}}},_data:function(e,t,i){return Z.data(e,t,i,!0)},acceptData:function(e){var t=e.nodeName&&Z.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),Z.fn.extend({data:function(e,i){var a,r,s,o,l,u=this[0],d=0,c=null;if(e===t){if(this.length&&(c=Z.data(u),1===u.nodeType&&!Z._data(u,"parsedAttrs"))){for(s=u.attributes,l=s.length;l>d;d++)o=s[d].name,o.indexOf("data-")||(o=Z.camelCase(o.substring(5)),n(u,o,c[o]));Z._data(u,"parsedAttrs",!0)}return c}return"object"==typeof e?this.each(function(){Z.data(this,e)}):(a=e.split(".",2),a[1]=a[1]?"."+a[1]:"",r=a[1]+"!",Z.access(this,function(i){return i===t?(c=this.triggerHandler("getData"+r,[a[0]]),c===t&&u&&(c=Z.data(u,e),c=n(u,e,c)),c===t&&a[1]?this.data(a[0]):c):(a[1]=i,void this.each(function(){var t=Z(this);t.triggerHandler("setData"+r,a),Z.data(this,e,i),t.triggerHandler("changeData"+r,a)}))},null,i,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){Z.removeData(this,e)})}}),Z.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=Z._data(e,t),i&&(!n||Z.isArray(i)?n=Z._data(e,t,Z.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=Z.queue(e,t),n=i.length,a=i.shift(),r=Z._queueHooks(e,t),s=function(){Z.dequeue(e,t)};"inprogress"===a&&(a=i.shift(),n--),a&&("fx"===t&&i.unshift("inprogress"),delete r.stop,a.call(e,s,r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return Z._data(e,i)||Z._data(e,i,{empty:Z.Callbacks("once memory").add(function(){Z.removeData(e,t+"queue",!0),Z.removeData(e,i,!0)})})}}),Z.fn.extend({queue:function(e,i){var n=2;return"string"!=typeof e&&(i=e,e="fx",n--),arguments.length<n?Z.queue(this[0],e):i===t?this:this.each(function(){var t=Z.queue(this,e,i);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},delay:function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){var n,a=1,r=Z.Deferred(),s=this,o=this.length,l=function(){--a||r.resolveWith(s,[s])};for("string"!=typeof e&&(i=e,e=t),e=e||"fx";o--;)n=Z._data(s[o],e+"queueHooks"),n&&n.empty&&(a++,n.empty.add(l));return l(),r.promise(i)}});var yt,Tt,mt,_t=/[\t\r\n]/g,Ot=/\r/g,At=/^(?:button|input)$/i,It=/^(?:button|input|object|select|textarea)$/i,vt=/^a(?:rea|)$/i,St=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,bt=Z.support.getSetAttribute;Z.fn.extend({attr:function(e,t){return Z.access(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})},prop:function(e,t){return Z.access(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return e=Z.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(i){}})},addClass:function(e){var t,i,n,a,r,s,o;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(tt),i=0,n=this.length;n>i;i++)if(a=this[i],1===a.nodeType)if(a.className||1!==t.length){for(r=" "+a.className+" ",s=0,o=t.length;o>s;s++)r.indexOf(" "+t[s]+" ")<0&&(r+=t[s]+" ");a.className=Z.trim(r)}else a.className=e;return this},removeClass:function(e){var i,n,a,r,s,o,l;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(i=(e||"").split(tt),o=0,l=this.length;l>o;o++)if(a=this[o],1===a.nodeType&&a.className){for(n=(" "+a.className+" ").replace(_t," "),r=0,s=i.length;s>r;r++)for(;n.indexOf(" "+i[r]+" ")>=0;)n=n.replace(" "+i[r]+" "," ");a.className=e?Z.trim(n):""}return this},toggleClass:function(e,t){var i=typeof e,n="boolean"==typeof t;return this.each(Z.isFunction(e)?function(i){Z(this).toggleClass(e.call(this,i,this.className,t),t)}:function(){if("string"===i)for(var a,r=0,s=Z(this),o=t,l=e.split(tt);a=l[r++];)o=n?o:!s.hasClass(a),s[o?"addClass":"removeClass"](a);else("undefined"===i||"boolean"===i)&&(this.className&&Z._data(this,"__className__",this.className),this.className=this.className||e===!1?"":Z._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(_t," ").indexOf(t)>=0)return!0;return!1},val:function(e){var i,n,a,r=this[0];{if(arguments.length)return a=Z.isFunction(e),this.each(function(n){var r,s=Z(this);1===this.nodeType&&(r=a?e.call(this,n,s.val()):e,null==r?r="":"number"==typeof r?r+="":Z.isArray(r)&&(r=Z.map(r,function(e){return null==e?"":e+""})),i=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,r,"value")!==t||(this.value=r))});if(r)return i=Z.valHooks[r.type]||Z.valHooks[r.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(r,"value"))!==t?n:(n=r.value,"string"==typeof n?n.replace(Ot,""):null==n?"":n)}}}),Z.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,i,n=e.options,a=e.selectedIndex,r="select-one"===e.type||0>a,s=r?null:[],o=r?a+1:n.length,l=0>a?o:r?a:0;o>l;l++)if(i=n[l],!(!i.selected&&l!==a||(Z.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&Z.nodeName(i.parentNode,"optgroup"))){if(t=Z(i).val(),r)return t;s.push(t)}return s},set:function(e,t){var i=Z.makeArray(t);return Z(e).find("option").each(function(){this.selected=Z.inArray(Z(this).val(),i)>=0}),i.length||(e.selectedIndex=-1),i}}},attrFn:{},attr:function(e,i,n,a){var r,s,o,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return a&&Z.isFunction(Z.fn[i])?Z(e)[i](n):"undefined"==typeof e.getAttribute?Z.prop(e,i,n):(o=1!==l||!Z.isXMLDoc(e),o&&(i=i.toLowerCase(),s=Z.attrHooks[i]||(St.test(i)?Tt:yt)),n!==t?null===n?void Z.removeAttr(e,i):s&&"set"in s&&o&&(r=s.set(e,n,i))!==t?r:(e.setAttribute(i,n+""),n):s&&"get"in s&&o&&null!==(r=s.get(e,i))?r:(r=e.getAttribute(i),null===r?t:r))},removeAttr:function(e,t){var i,n,a,r,s=0;if(t&&1===e.nodeType)for(n=t.split(tt);s<n.length;s++)a=n[s],a&&(i=Z.propFix[a]||a,r=St.test(a),r||Z.attr(e,a,""),e.removeAttribute(bt?a:i),r&&i in e&&(e[i]=!1))},attrHooks:{type:{set:function(e,t){if(At.test(e.nodeName)&&e.parentNode)Z.error("type property can't be changed");else if(!Z.support.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}},value:{get:function(e,t){return yt&&Z.nodeName(e,"button")?yt.get(e,t):t in e?e.value:null},set:function(e,t,i){return yt&&Z.nodeName(e,"button")?yt.set(e,t,i):void(e.value=t)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,i,n){var a,r,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return s=1!==o||!Z.isXMLDoc(e),s&&(i=Z.propFix[i]||i,r=Z.propHooks[i]),n!==t?r&&"set"in r&&(a=r.set(e,n,i))!==t?a:e[i]=n:r&&"get"in r&&null!==(a=r.get(e,i))?a:e[i]},propHooks:{tabIndex:{get:function(e){var i=e.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):It.test(e.nodeName)||vt.test(e.nodeName)&&e.href?0:t}}}}),Tt={get:function(e,i){var n,a=Z.prop(e,i);return a===!0||"boolean"!=typeof a&&(n=e.getAttributeNode(i))&&n.nodeValue!==!1?i.toLowerCase():t},set:function(e,t,i){var n;return t===!1?Z.removeAttr(e,i):(n=Z.propFix[i]||i,n in e&&(e[n]=!0),e.setAttribute(i,i.toLowerCase())),i}},bt||(mt={name:!0,id:!0,coords:!0},yt=Z.valHooks.button={get:function(e,i){var n;return n=e.getAttributeNode(i),n&&(mt[i]?""!==n.value:n.specified)?n.value:t},set:function(e,t,i){var n=e.getAttributeNode(i);return n||(n=H.createAttribute(i),e.setAttributeNode(n)),n.value=t+""}},Z.each(["width","height"],function(e,t){Z.attrHooks[t]=Z.extend(Z.attrHooks[t],{set:function(e,i){return""===i?(e.setAttribute(t,"auto"),i):void 0}})}),Z.attrHooks.contenteditable={get:yt.get,set:function(e,t,i){""===t&&(t="false"),yt.set(e,t,i)}}),Z.support.hrefNormalized||Z.each(["href","src","width","height"],function(e,i){Z.attrHooks[i]=Z.extend(Z.attrHooks[i],{get:function(e){var n=e.getAttribute(i,2);return null===n?t:n}})}),Z.support.style||(Z.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),Z.support.optSelected||(Z.propHooks.selected=Z.extend(Z.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),Z.support.enctype||(Z.propFix.enctype="encoding"),Z.support.checkOn||Z.each(["radio","checkbox"],function(){Z.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]=Z.extend(Z.valHooks[this],{set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}})});var Nt=/^(?:textarea|input|select)$/i,Dt=/^([^\.]*|)(?:\.(.+)|)$/,Rt=/(?:^|\s)hover(\.\S+|)\b/,Ct=/^key/,Lt=/^(?:mouse|contextmenu)|click/,Pt=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){return Z.event.special.hover?e:e.replace(Rt,"mouseenter$1 mouseleave$1")};Z.event={add:function(e,i,n,a,r){var s,o,l,u,d,c,h,p,E,f,g;if(3!==e.nodeType&&8!==e.nodeType&&i&&n&&(s=Z._data(e))){for(n.handler&&(E=n,n=E.handler,r=E.selector),n.guid||(n.guid=Z.guid++),l=s.events,l||(s.events=l={}),o=s.handle,o||(s.handle=o=function(e){return"undefined"==typeof Z||e&&Z.event.triggered===e.type?t:Z.event.dispatch.apply(o.elem,arguments)},o.elem=e),i=Z.trim(wt(i)).split(" "),u=0;u<i.length;u++)d=Dt.exec(i[u])||[],c=d[1],h=(d[2]||"").split(".").sort(),g=Z.event.special[c]||{},c=(r?g.delegateType:g.bindType)||c,g=Z.event.special[c]||{},p=Z.extend({type:c,origType:d[1],data:a,handler:n,guid:n.guid,selector:r,needsContext:r&&Z.expr.match.needsContext.test(r),namespace:h.join(".")},E),f=l[c],f||(f=l[c]=[],f.delegateCount=0,g.setup&&g.setup.call(e,a,h,o)!==!1||(e.addEventListener?e.addEventListener(c,o,!1):e.attachEvent&&e.attachEvent("on"+c,o))),g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,p):f.push(p),Z.event.global[c]=!0;e=null}},global:{},remove:function(e,t,i,n,a){var r,s,o,l,u,d,c,h,p,E,f,g=Z.hasData(e)&&Z._data(e);if(g&&(h=g.events)){for(t=Z.trim(wt(t||"")).split(" "),r=0;r<t.length;r++)if(s=Dt.exec(t[r])||[],o=l=s[1],u=s[2],o){for(p=Z.event.special[o]||{},o=(n?p.delegateType:p.bindType)||o,E=h[o]||[],d=E.length,u=u?new RegExp("(^|\\.)"+u.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c=0;c<E.length;c++)f=E[c],!a&&l!==f.origType||i&&i.guid!==f.guid||u&&!u.test(f.namespace)||n&&n!==f.selector&&("**"!==n||!f.selector)||(E.splice(c--,1),f.selector&&E.delegateCount--,p.remove&&p.remove.call(e,f));0===E.length&&d!==E.length&&(p.teardown&&p.teardown.call(e,u,g.handle)!==!1||Z.removeEvent(e,o,g.handle),delete h[o])}else for(o in h)Z.event.remove(e,o+t[r],i,n,!0);Z.isEmptyObject(h)&&(delete g.handle,Z.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(i,n,a,r){if(!a||3!==a.nodeType&&8!==a.nodeType){var s,o,l,u,d,c,h,p,E,f,g=i.type||i,y=[];if(!Pt.test(g+Z.event.triggered)&&(g.indexOf("!")>=0&&(g=g.slice(0,-1),o=!0),g.indexOf(".")>=0&&(y=g.split("."),g=y.shift(),y.sort()),a&&!Z.event.customEvent[g]||Z.event.global[g]))if(i="object"==typeof i?i[Z.expando]?i:new Z.Event(g,i):new Z.Event(g),i.type=g,i.isTrigger=!0,i.exclusive=o,i.namespace=y.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c=g.indexOf(":")<0?"on"+g:"",a){if(i.result=t,i.target||(i.target=a),n=null!=n?Z.makeArray(n):[],n.unshift(i),h=Z.event.special[g]||{},!h.trigger||h.trigger.apply(a,n)!==!1){if(E=[[a,h.bindType||g]],!r&&!h.noBubble&&!Z.isWindow(a)){for(f=h.delegateType||g,u=Pt.test(f+g)?a:a.parentNode,d=a;u;u=u.parentNode)E.push([u,f]),d=u;d===(a.ownerDocument||H)&&E.push([d.defaultView||d.parentWindow||e,f])}for(l=0;l<E.length&&!i.isPropagationStopped();l++)u=E[l][0],i.type=E[l][1],p=(Z._data(u,"events")||{})[i.type]&&Z._data(u,"handle"),p&&p.apply(u,n),p=c&&u[c],p&&Z.acceptData(u)&&p.apply&&p.apply(u,n)===!1&&i.preventDefault();return i.type=g,r||i.isDefaultPrevented()||h._default&&h._default.apply(a.ownerDocument,n)!==!1||"click"===g&&Z.nodeName(a,"a")||!Z.acceptData(a)||c&&a[g]&&("focus"!==g&&"blur"!==g||0!==i.target.offsetWidth)&&!Z.isWindow(a)&&(d=a[c],d&&(a[c]=null),Z.event.triggered=g,a[g](),Z.event.triggered=t,d&&(a[c]=d)),i.result}}else{s=Z.cache;for(l in s)s[l].events&&s[l].events[g]&&Z.event.trigger(i,n,s[l].handle.elem,!0)}}},dispatch:function(i){i=Z.event.fix(i||e.event);var n,a,r,s,o,l,u,d,c,h=(Z._data(this,"events")||{})[i.type]||[],p=h.delegateCount,E=z.call(arguments),f=!i.exclusive&&!i.namespace,g=Z.event.special[i.type]||{},y=[];if(E[0]=i,i.delegateTarget=this,!g.preDispatch||g.preDispatch.call(this,i)!==!1){if(p&&(!i.button||"click"!==i.type))for(r=i.target;r!=this;r=r.parentNode||this)if(r.disabled!==!0||"click"!==i.type){for(o={},u=[],n=0;p>n;n++)d=h[n],c=d.selector,o[c]===t&&(o[c]=d.needsContext?Z(c,this).index(r)>=0:Z.find(c,this,null,[r]).length),o[c]&&u.push(d);u.length&&y.push({elem:r,matches:u})}for(h.length>p&&y.push({elem:this,matches:h.slice(p)}),n=0;n<y.length&&!i.isPropagationStopped();n++)for(l=y[n],i.currentTarget=l.elem,a=0;a<l.matches.length&&!i.isImmediatePropagationStopped();a++)d=l.matches[a],(f||!i.namespace&&!d.namespace||i.namespace_re&&i.namespace_re.test(d.namespace))&&(i.data=d.data,i.handleObj=d,s=((Z.event.special[d.origType]||{}).handle||d.handler).apply(l.elem,E),s!==t&&(i.result=s,s===!1&&(i.preventDefault(),i.stopPropagation())));return g.postDispatch&&g.postDispatch.call(this,i),i.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var n,a,r,s=i.button,o=i.fromElement;return null==e.pageX&&null!=i.clientX&&(n=e.target.ownerDocument||H,a=n.documentElement,r=n.body,e.pageX=i.clientX+(a&&a.scrollLeft||r&&r.scrollLeft||0)-(a&&a.clientLeft||r&&r.clientLeft||0),e.pageY=i.clientY+(a&&a.scrollTop||r&&r.scrollTop||0)-(a&&a.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?i.toElement:o),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,i,n=e,a=Z.event.fixHooks[e.type]||{},r=a.props?this.props.concat(a.props):this.props;for(e=Z.Event(n),t=r.length;t;)i=r[--t],e[i]=n[i];return e.target||(e.target=n.srcElement||H),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,n):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,i){Z.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,i,n){var a=Z.extend(new Z.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?Z.event.trigger(a,null,t):Z.event.dispatch.call(t,a),a.isDefaultPrevented()&&i.preventDefault()}},Z.event.handle=Z.event.dispatch,Z.removeEvent=H.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;e.detachEvent&&("undefined"==typeof e[n]&&(e[n]=null),e.detachEvent(n,i))},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?s:r):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(e,t)},Z.Event.prototype={preventDefault:function(){this.isDefaultPrevented=s;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=s;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()},isDefaultPrevented:r,isPropagationStopped:r,isImmediatePropagationStopped:r},Z.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){{var i,n=this,a=e.relatedTarget,r=e.handleObj;r.selector}return(!a||a!==n&&!Z.contains(n,a))&&(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),Z.support.submitBubbles||(Z.event.special.submit={setup:function(){return Z.nodeName(this,"form")?!1:void Z.event.add(this,"click._submit keypress._submit",function(e){var i=e.target,n=Z.nodeName(i,"input")||Z.nodeName(i,"button")?i.form:t;n&&!Z._data(n,"_submit_attached")&&(Z.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),Z._data(n,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&Z.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return Z.nodeName(this,"form")?!1:void Z.event.remove(this,"._submit")}}),Z.support.changeBubbles||(Z.event.special.change={setup:function(){return Nt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(Z.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),Z.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),Z.event.simulate("change",this,e,!0)})),!1):void Z.event.add(this,"beforeactivate._change",function(e){var t=e.target;Nt.test(t.nodeName)&&!Z._data(t,"_change_attached")&&(Z.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||Z.event.simulate("change",this.parentNode,e,!0)}),Z._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return Z.event.remove(this,"._change"),!Nt.test(this.nodeName)}}),Z.support.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var i=0,n=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){0===i++&&H.addEventListener(e,n,!0)},teardown:function(){0===--i&&H.removeEventListener(e,n,!0)}}}),Z.fn.extend({on:function(e,i,n,a,s){var o,l;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=t);for(l in e)this.on(l,i,n,e[l],s);return this}if(null==n&&null==a?(a=i,n=i=t):null==a&&("string"==typeof i?(a=n,n=t):(a=n,n=i,i=t)),a===!1)a=r;else if(!a)return this;return 1===s&&(o=a,a=function(e){return Z().off(e),o.apply(this,arguments)},a.guid=o.guid||(o.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,a,n,i)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,i,n){var a,s;if(e&&e.preventDefault&&e.handleObj)return a=e.handleObj,Z(e.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if("object"==typeof e){for(s in e)this.off(s,i,e[s]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=t),n===!1&&(n=r),this.each(function(){Z.event.remove(this,e,n,i)})},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,i){return Z(this.context).on(e,this.selector,t,i),this},die:function(e,t){return Z(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?Z.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,i=e.guid||Z.guid++,n=0,a=function(i){var a=(Z._data(this,"lastToggle"+e.guid)||0)%n;return Z._data(this,"lastToggle"+e.guid,a+1),i.preventDefault(),t[a].apply(this,arguments)||!1};for(a.guid=i;n<t.length;)t[n++].guid=i;return this.click(a)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,i){return null==i&&(i=e,e=null),arguments.length>0?this.on(t,null,e,i):this.trigger(t)},Ct.test(t)&&(Z.event.fixHooks[t]=Z.event.keyHooks),Lt.test(t)&&(Z.event.fixHooks[t]=Z.event.mouseHooks)}),function(e,t){function i(e,t,i,n){i=i||[],t=t||L;var a,r,s,o,l=t.nodeType;if(!e||"string"!=typeof e)return i;if(1!==l&&9!==l)return[];if(s=O(t),!s&&!n&&(a=it.exec(e)))if(o=a[1]){if(9===l){if(r=t.getElementById(o),!r||!r.parentNode)return i;if(r.id===o)return i.push(r),i}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(o))&&A(t,r)&&r.id===o)return i.push(r),i}else{if(a[2])return F.apply(i,B.call(t.getElementsByTagName(e),0)),i;if((o=a[3])&&ht&&t.getElementsByClassName)return F.apply(i,B.call(t.getElementsByClassName(o),0)),i}return f(e.replace(Q,"$1"),t,i,n,s)}function n(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function a(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function r(e){return U(function(t){return t=+t,U(function(i,n){for(var a,r=e([],i.length,t),s=r.length;s--;)i[a=r[s]]&&(i[a]=!(n[a]=i[a]))})})}function s(e,t,i){if(e===t)return i;for(var n=e.nextSibling;n;){if(n===t)return-1;n=n.nextSibling}return 1}function o(e,t){var n,a,r,s,o,l,u,d=G[R][e+" "];if(d)return t?0:d.slice(0);for(o=e,l=[],u=m.preFilter;o;){(!n||(a=J.exec(o)))&&(a&&(o=o.slice(a[0].length)||o),l.push(r=[])),n=!1,(a=et.exec(o))&&(r.push(n=new C(a.shift())),o=o.slice(n.length),n.type=a[0].replace(Q," "));for(s in m.filter)!(a=ot[s].exec(o))||u[s]&&!(a=u[s](a))||(r.push(n=new C(a.shift())),o=o.slice(n.length),n.type=s,n.matches=a);if(!n)break}return t?o.length:o?i.error(e):G(e,l).slice(0)}function l(e,t,i){var n=t.dir,a=i&&"parentNode"===t.dir,r=k++;return t.first?function(t,i,r){for(;t=t[n];)if(a||1===t.nodeType)return e(t,i,r)}:function(t,i,s){if(s){for(;t=t[n];)if((a||1===t.nodeType)&&e(t,i,s))return t}else for(var o,l=w+" "+r+" ",u=l+y;t=t[n];)if(a||1===t.nodeType){if((o=t[R])===u)return t.sizset;if("string"==typeof o&&0===o.indexOf(l)){if(t.sizset)return t}else{if(t[R]=u,e(t,i,s))return t.sizset=!0,t;t.sizset=!1}}}}function u(e){return e.length>1?function(t,i,n){for(var a=e.length;a--;)if(!e[a](t,i,n))return!1;return!0}:e[0]}function d(e,t,i,n,a){for(var r,s=[],o=0,l=e.length,u=null!=t;l>o;o++)(r=e[o])&&(!i||i(r,n,a))&&(s.push(r),u&&t.push(o));return s}function c(e,t,i,n,a,r){return n&&!n[R]&&(n=c(n)),a&&!a[R]&&(a=c(a,r)),U(function(r,s,o,l){var u,c,h,p=[],f=[],g=s.length,y=r||E(t||"*",o.nodeType?[o]:o,[]),T=!e||!r&&t?y:d(y,p,e,o,l),m=i?a||(r?e:g||n)?[]:s:T;if(i&&i(T,m,o,l),n)for(u=d(m,f),n(u,[],o,l),c=u.length;c--;)(h=u[c])&&(m[f[c]]=!(T[f[c]]=h));if(r){if(a||e){if(a){for(u=[],c=m.length;c--;)(h=m[c])&&u.push(T[c]=h);a(null,m=[],u,l)}for(c=m.length;c--;)(h=m[c])&&(u=a?M.call(r,h):p[c])>-1&&(r[u]=!(s[u]=h))}}else m=d(m===s?m.splice(g,m.length):m),a?a(null,s,m,l):F.apply(s,m)})}function h(e){for(var t,i,n,a=e.length,r=m.relative[e[0].type],s=r||m.relative[" "],o=r?1:0,d=l(function(e){return e===t},s,!0),p=l(function(e){return M.call(t,e)>-1},s,!0),E=[function(e,i,n){return!r&&(n||i!==b)||((t=i).nodeType?d(e,i,n):p(e,i,n))}];a>o;o++)if(i=m.relative[e[o].type])E=[l(u(E),i)];else{if(i=m.filter[e[o].type].apply(null,e[o].matches),i[R]){for(n=++o;a>n&&!m.relative[e[n].type];n++);return c(o>1&&u(E),o>1&&e.slice(0,o-1).join("").replace(Q,"$1"),i,n>o&&h(e.slice(o,n)),a>n&&h(e=e.slice(n)),a>n&&e.join(""))}E.push(i)}return u(E)}function p(e,t){var n=t.length>0,a=e.length>0,r=function(s,o,l,u,c){var h,p,E,f=[],g=0,T="0",_=s&&[],O=null!=c,A=b,I=s||a&&m.find.TAG("*",c&&o.parentNode||o),v=w+=null==A?1:Math.E;for(O&&(b=o!==L&&o,y=r.el);null!=(h=I[T]);T++){if(a&&h){for(p=0;E=e[p];p++)if(E(h,o,l)){u.push(h);break}O&&(w=v,y=++r.el)}n&&((h=!E&&h)&&g--,s&&_.push(h))}if(g+=T,n&&T!==g){for(p=0;E=t[p];p++)E(_,f,o,l);if(s){if(g>0)for(;T--;)_[T]||f[T]||(f[T]=V.call(u));f=d(f)}F.apply(u,f),O&&!s&&f.length>0&&g+t.length>1&&i.uniqueSort(u)}return O&&(w=v,b=A),_};return r.el=0,n?U(r):r}function E(e,t,n){for(var a=0,r=t.length;r>a;a++)i(e,t[a],n);return n}function f(e,t,i,n,a){{var r,s,l,u,d,c=o(e);
c.length}if(!n&&1===c.length){if(s=c[0]=c[0].slice(0),s.length>2&&"ID"===(l=s[0]).type&&9===t.nodeType&&!a&&m.relative[s[1].type]){if(t=m.find.ID(l.matches[0].replace(st,""),t,a)[0],!t)return i;e=e.slice(s.shift().length)}for(r=ot.POS.test(e)?-1:s.length-1;r>=0&&(l=s[r],!m.relative[u=l.type]);r--)if((d=m.find[u])&&(n=d(l.matches[0].replace(st,""),nt.test(s[0].type)&&t.parentNode||t,a))){if(s.splice(r,1),e=n.length&&s.join(""),!e)return F.apply(i,B.call(n,0)),i;break}}return I(e,c)(n,t,a,i,nt.test(e)),i}function g(){}var y,T,m,_,O,A,I,v,S,b,N=!0,D="undefined",R=("sizcache"+Math.random()).replace(".",""),C=String,L=e.document,P=L.documentElement,w=0,k=0,V=[].pop,F=[].push,B=[].slice,M=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},U=function(e,t){return e[R]=null==t||t,e},x=function(){var e={},t=[];return U(function(i,n){return t.push(i)>m.cacheLength&&delete e[t.shift()],e[i+" "]=n},e)},H=x(),G=x(),Y=x(),W="[\\x20\\t\\r\\n\\f]",j="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",K=j.replace("w","w#"),z="([*^$|!~]?=)",q="\\["+W+"*("+j+")"+W+"*(?:"+z+W+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+K+")|)|)"+W+"*\\]",X=":("+j+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+q+")|[^:]|\\\\.)*|.*))\\)|)",$=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+W+"*((?:-\\d)?\\d*)"+W+"*\\)|)(?=[^-]|$)",Q=new RegExp("^"+W+"+|((?:^|[^\\\\])(?:\\\\.)*)"+W+"+$","g"),J=new RegExp("^"+W+"*,"+W+"*"),et=new RegExp("^"+W+"*([\\x20\\t\\r\\n\\f>+~])"+W+"*"),tt=new RegExp(X),it=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,nt=/[\x20\t\r\n\f]*[+~]/,at=/h\d/i,rt=/input|select|textarea|button/i,st=/\\(?!\\)/g,ot={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),NAME:new RegExp("^\\[name=['\"]?("+j+")['\"]?\\]"),TAG:new RegExp("^("+j.replace("w","w*")+")"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+X),POS:new RegExp($,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+W+"*(even|odd|(([+-]|)(\\d*)n|)"+W+"*(?:([+-]|)"+W+"*(\\d+)|))"+W+"*\\)|)","i"),needsContext:new RegExp("^"+W+"*[>+~]|"+$,"i")},lt=function(e){var t=L.createElement("div");try{return e(t)}catch(i){return!1}finally{t=null}},ut=lt(function(e){return e.appendChild(L.createComment("")),!e.getElementsByTagName("*").length}),dt=lt(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==D&&"#"===e.firstChild.getAttribute("href")}),ct=lt(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),ht=lt(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),pt=lt(function(e){e.id=R+0,e.innerHTML="<a name='"+R+"'></a><div name='"+R+"'></div>",P.insertBefore(e,P.firstChild);var t=L.getElementsByName&&L.getElementsByName(R).length===2+L.getElementsByName(R+0).length;return T=!L.getElementById(R),P.removeChild(e),t});try{B.call(P.childNodes,0)[0].nodeType}catch(Et){B=function(e){for(var t,i=[];t=this[e];e++)i.push(t);return i}}i.matches=function(e,t){return i(e,null,null,t)},i.matchesSelector=function(e,t){return i(t,null,null,[e]).length>0},_=i.getText=function(e){var t,i="",n=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=_(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[n];n++)i+=_(t);return i},O=i.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},A=i.contains=P.contains?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!!(n&&1===n.nodeType&&i.contains&&i.contains(n))}:P.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},i.attr=function(e,t){var i,n=O(e);return n||(t=t.toLowerCase()),(i=m.attrHandle[t])?i(e):n||ct?e.getAttribute(t):(i=e.getAttributeNode(t),i?"boolean"==typeof e[t]?e[t]?t:null:i.specified?i.value:null:null)},m=i.selectors={cacheLength:50,createPseudo:U,match:ot,attrHandle:dt?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:T?function(e,t,i){if(typeof t.getElementById!==D&&!i){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}}:function(e,i,n){if(typeof i.getElementById!==D&&!n){var a=i.getElementById(e);return a?a.id===e||typeof a.getAttributeNode!==D&&a.getAttributeNode("id").value===e?[a]:t:[]}},TAG:ut?function(e,t){return typeof t.getElementsByTagName!==D?t.getElementsByTagName(e):void 0}:function(e,t){var i=t.getElementsByTagName(e);if("*"===e){for(var n,a=[],r=0;n=i[r];r++)1===n.nodeType&&a.push(n);return a}return i},NAME:pt&&function(e,t){return typeof t.getElementsByName!==D?t.getElementsByName(name):void 0},CLASS:ht&&function(e,t,i){return typeof t.getElementsByClassName===D||i?void 0:t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(st,""),e[3]=(e[4]||e[5]||"").replace(st,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||i.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&i.error(e[0]),e},PSEUDO:function(e){var t,i;return ot.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(tt.test(t)&&(i=o(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(t=t.slice(0,i),e[0]=e[0].slice(0,i)),e[2]=t),e.slice(0,3))}},filter:{ID:T?function(e){return e=e.replace(st,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(st,""),function(t){var i=typeof t.getAttributeNode!==D&&t.getAttributeNode("id");return i&&i.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(st,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=H[R][e+" "];return t||(t=new RegExp("(^|"+W+")"+e+"("+W+"|$)"))&&H(e,function(e){return t.test(e.className||typeof e.getAttribute!==D&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(a){var r=i.attr(a,e);return null==r?"!="===t:t?(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.substr(r.length-n.length)===n:"~="===t?(" "+r+" ").indexOf(n)>-1:"|="===t?r===n||r.substr(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,i,n){return"nth"===e?function(e){var t,a,r=e.parentNode;if(1===i&&0===n)return!0;if(r)for(a=0,t=r.firstChild;t&&(1!==t.nodeType||(a++,e!==t));t=t.nextSibling);return a-=n,a===i||a%i===0&&a/i>=0}:function(t){var i=t;switch(e){case"only":case"first":for(;i=i.previousSibling;)if(1===i.nodeType)return!1;if("first"===e)return!0;i=t;case"last":for(;i=i.nextSibling;)if(1===i.nodeType)return!1;return!0}}},PSEUDO:function(e,t){var n,a=m.pseudos[e]||m.setFilters[e.toLowerCase()]||i.error("unsupported pseudo: "+e);return a[R]?a(t):a.length>1?(n=[e,e,"",t],m.setFilters.hasOwnProperty(e.toLowerCase())?U(function(e,i){for(var n,r=a(e,t),s=r.length;s--;)n=M.call(e,r[s]),e[n]=!(i[n]=r[s])}):function(e){return a(e,0,n)}):a}},pseudos:{not:U(function(e){var t=[],i=[],n=I(e.replace(Q,"$1"));return n[R]?U(function(e,t,i,a){for(var r,s=n(e,null,a,[]),o=e.length;o--;)(r=s[o])&&(e[o]=!(t[o]=r))}):function(e,a,r){return t[0]=e,n(t,null,r,i),!i.pop()}}),has:U(function(e){return function(t){return i(e,t).length>0}}),contains:U(function(e){return function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!m.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return at.test(e.nodeName)},text:function(e){var t,i;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(i=e.getAttribute("type"))||i.toLowerCase()===t)},radio:n("radio"),checkbox:n("checkbox"),file:n("file"),password:n("password"),image:n("image"),submit:a("submit"),reset:a("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return rt.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:r(function(){return[0]}),last:r(function(e,t){return[t-1]}),eq:r(function(e,t,i){return[0>i?i+t:i]}),even:r(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:r(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:r(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:r(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},v=P.compareDocumentPosition?function(e,t){return e===t?(S=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return S=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var i,n,a=[],r=[],o=e.parentNode,l=t.parentNode,u=o;if(o===l)return s(e,t);if(!o)return-1;if(!l)return 1;for(;u;)a.unshift(u),u=u.parentNode;for(u=l;u;)r.unshift(u),u=u.parentNode;i=a.length,n=r.length;for(var d=0;i>d&&n>d;d++)if(a[d]!==r[d])return s(a[d],r[d]);return d===i?s(e,r[d],-1):s(a[d],t,1)},[0,0].sort(v),N=!S,i.uniqueSort=function(e){var t,i=[],n=1,a=0;if(S=N,e.sort(v),S){for(;t=e[n];n++)t===e[n-1]&&(a=i.push(n));for(;a--;)e.splice(i[a],1)}return e},i.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},I=i.compile=function(e,t){var i,n=[],a=[],r=Y[R][e+" "];if(!r){for(t||(t=o(e)),i=t.length;i--;)r=h(t[i]),r[R]?n.push(r):a.push(r);r=Y(e,p(a,n))}return r},L.querySelectorAll&&!function(){var e,t=f,n=/'|\\/g,a=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,r=[":focus"],s=[":active"],l=P.matchesSelector||P.mozMatchesSelector||P.webkitMatchesSelector||P.oMatchesSelector||P.msMatchesSelector;lt(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||r.push("\\["+W+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||r.push(":checked")}),lt(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&r.push("[*^$]="+W+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||r.push(":enabled",":disabled")}),r=new RegExp(r.join("|")),f=function(e,i,a,s,l){if(!s&&!l&&!r.test(e)){var u,d,c=!0,h=R,p=i,E=9===i.nodeType&&e;if(1===i.nodeType&&"object"!==i.nodeName.toLowerCase()){for(u=o(e),(c=i.getAttribute("id"))?h=c.replace(n,"\\$&"):i.setAttribute("id",h),h="[id='"+h+"'] ",d=u.length;d--;)u[d]=h+u[d].join("");p=nt.test(e)&&i.parentNode||i,E=u.join(",")}if(E)try{return F.apply(a,B.call(p.querySelectorAll(E),0)),a}catch(f){}finally{c||i.removeAttribute("id")}}return t(e,i,a,s,l)},l&&(lt(function(t){e=l.call(t,"div");try{l.call(t,"[test!='']:sizzle"),s.push("!=",X)}catch(i){}}),s=new RegExp(s.join("|")),i.matchesSelector=function(t,n){if(n=n.replace(a,"='$1']"),!O(t)&&!s.test(n)&&!r.test(n))try{var o=l.call(t,n);if(o||e||t.document&&11!==t.document.nodeType)return o}catch(u){}return i(n,null,null,[t]).length>0})}(),m.pseudos.nth=m.pseudos.eq,m.filters=g.prototype=m.pseudos,m.setFilters=new g,i.attr=Z.attr,Z.find=i,Z.expr=i.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=i.uniqueSort,Z.text=i.getText,Z.isXMLDoc=i.isXML,Z.contains=i.contains}(e);var kt=/Until$/,Vt=/^(?:parents|prev(?:Until|All))/,Ft=/^.[^:#\[\.,]*$/,Bt=Z.expr.match.needsContext,Mt={children:!0,contents:!0,next:!0,prev:!0};Z.fn.extend({find:function(e){var t,i,n,a,r,s,o=this;if("string"!=typeof e)return Z(e).filter(function(){for(t=0,i=o.length;i>t;t++)if(Z.contains(o[t],this))return!0});for(s=this.pushStack("","find",e),t=0,i=this.length;i>t;t++)if(n=s.length,Z.find(e,this[t],s),t>0)for(a=n;a<s.length;a++)for(r=0;n>r;r++)if(s[r]===s[a]){s.splice(a--,1);break}return s},has:function(e){var t,i=Z(e,this),n=i.length;return this.filter(function(){for(t=0;n>t;t++)if(Z.contains(this,i[t]))return!0})},not:function(e){return this.pushStack(u(this,e,!1),"not",e)},filter:function(e){return this.pushStack(u(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?Bt.test(e)?Z(e,this.context).index(this[0])>=0:Z.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var i,n=0,a=this.length,r=[],s=Bt.test(e)||"string"!=typeof e?Z(e,t||this.context):0;a>n;n++)for(i=this[n];i&&i.ownerDocument&&i!==t&&11!==i.nodeType;){if(s?s.index(i)>-1:Z.find.matchesSelector(i,e)){r.push(i);break}i=i.parentNode}return r=r.length>1?Z.unique(r):r,this.pushStack(r,"closest",e)},index:function(e){return e?"string"==typeof e?Z.inArray(this[0],Z(e)):Z.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var i="string"==typeof e?Z(e,t):Z.makeArray(e&&e.nodeType?[e]:e),n=Z.merge(this.get(),i);return this.pushStack(o(i[0])||o(n[0])?n:Z.unique(n))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.fn.andSelf=Z.fn.addBack,Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,i){return Z.dir(e,"parentNode",i)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,i){return Z.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return Z.dir(e,"previousSibling",i)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return Z.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(i,n){var a=Z.map(this,t,i);return kt.test(e)||(n=i),n&&"string"==typeof n&&(a=Z.filter(n,a)),a=this.length>1&&!Mt[e]?Z.unique(a):a,this.length>1&&Vt.test(e)&&(a=a.reverse()),this.pushStack(a,e,z.call(arguments).join(","))}}),Z.extend({filter:function(e,t,i){return i&&(e=":not("+e+")"),1===t.length?Z.find.matchesSelector(t[0],e)?[t[0]]:[]:Z.find.matches(e,t)},dir:function(e,i,n){for(var a=[],r=e[i];r&&9!==r.nodeType&&(n===t||1!==r.nodeType||!Z(r).is(n));)1===r.nodeType&&a.push(r),r=r[i];return a},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var Ut="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",xt=/ jQuery\d+="(?:null|\d+)"/g,Ht=/^\s+/,Gt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Yt=/<([\w:]+)/,Wt=/<tbody/i,jt=/<|&#?\w+;/,Kt=/<(?:script|style|link)/i,zt=/<(?:script|object|embed|option|style)/i,qt=new RegExp("<(?:"+Ut+")[\\s/>]","i"),Xt=/^(?:checkbox|radio)$/,$t=/checked\s*(?:[^=]|=\s*.checked.)/i,Qt=/\/(java|ecma)script/i,Zt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Jt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ei=d(H),ti=ei.appendChild(H.createElement("div"));Jt.optgroup=Jt.option,Jt.tbody=Jt.tfoot=Jt.colgroup=Jt.caption=Jt.thead,Jt.th=Jt.td,Z.support.htmlSerialize||(Jt._default=[1,"X<div>","</div>"]),Z.fn.extend({text:function(e){return Z.access(this,function(e){return e===t?Z.text(this):this.empty().append((this[0]&&this[0].ownerDocument||H).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(Z.isFunction(e))return this.each(function(t){Z(this).wrapAll(e.call(this,t))});if(this[0]){var t=Z(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(Z.isFunction(e)?function(t){Z(this).wrapInner(e.call(this,t))}:function(){var t=Z(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(i){Z(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!o(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=Z.clean(arguments);return this.pushStack(Z.merge(e,this),"before",this.selector)}},after:function(){if(!o(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=Z.clean(arguments);return this.pushStack(Z.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var i,n=0;null!=(i=this[n]);n++)(!e||Z.filter(e,[i]).length)&&(t||1!==i.nodeType||(Z.cleanData(i.getElementsByTagName("*")),Z.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&Z.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return Z.access(this,function(e){var i=this[0]||{},n=0,a=this.length;if(e===t)return 1===i.nodeType?i.innerHTML.replace(xt,""):t;if(!("string"!=typeof e||Kt.test(e)||!Z.support.htmlSerialize&&qt.test(e)||!Z.support.leadingWhitespace&&Ht.test(e)||Jt[(Yt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Gt,"<$1></$2>");try{for(;a>n;n++)i=this[n]||{},1===i.nodeType&&(Z.cleanData(i.getElementsByTagName("*")),i.innerHTML=e);i=0}catch(r){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return o(this[0])?this.length?this.pushStack(Z(Z.isFunction(e)?e():e),"replaceWith",e):this:Z.isFunction(e)?this.each(function(t){var i=Z(this),n=i.html();i.replaceWith(e.call(this,t,n))}):("string"!=typeof e&&(e=Z(e).detach()),this.each(function(){var t=this.nextSibling,i=this.parentNode;Z(this).remove(),t?Z(t).before(e):Z(i).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,i,n){e=[].concat.apply([],e);var a,r,s,o,l=0,u=e[0],d=[],h=this.length;if(!Z.support.checkClone&&h>1&&"string"==typeof u&&$t.test(u))return this.each(function(){Z(this).domManip(e,i,n)});if(Z.isFunction(u))return this.each(function(a){var r=Z(this);e[0]=u.call(this,a,i?r.html():t),r.domManip(e,i,n)});if(this[0]){if(a=Z.buildFragment(e,this,d),s=a.fragment,r=s.firstChild,1===s.childNodes.length&&(s=r),r)for(i=i&&Z.nodeName(r,"tr"),o=a.cacheable||h-1;h>l;l++)n.call(i&&Z.nodeName(this[l],"table")?c(this[l],"tbody"):this[l],l===o?s:Z.clone(s,!0,!0));s=r=null,d.length&&Z.each(d,function(e,t){t.src?Z.ajax?Z.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):Z.error("no ajax"):Z.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Zt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),Z.buildFragment=function(e,i,n){var a,r,s,o=e[0];return i=i||H,i=!i.nodeType&&i[0]||i,i=i.ownerDocument||i,!(1===e.length&&"string"==typeof o&&o.length<512&&i===H&&"<"===o.charAt(0))||zt.test(o)||!Z.support.checkClone&&$t.test(o)||!Z.support.html5Clone&&qt.test(o)||(r=!0,a=Z.fragments[o],s=a!==t),a||(a=i.createDocumentFragment(),Z.clean(e,i,a,n),r&&(Z.fragments[o]=s&&a)),{fragment:a,cacheable:r}},Z.fragments={},Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(i){var n,a=0,r=[],s=Z(i),o=s.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===o)return s[t](this[0]),this;for(;o>a;a++)n=(a>0?this.clone(!0):this).get(),Z(s[a])[t](n),r=r.concat(n);return this.pushStack(r,e,s.selector)}}),Z.extend({clone:function(e,t,i){var n,a,r,s;if(Z.support.html5Clone||Z.isXMLDoc(e)||!qt.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(ti.innerHTML=e.outerHTML,ti.removeChild(s=ti.firstChild)),!(Z.support.noCloneEvent&&Z.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(p(e,s),n=E(e),a=E(s),r=0;n[r];++r)a[r]&&p(n[r],a[r]);if(t&&(h(e,s),i))for(n=E(e),a=E(s),r=0;n[r];++r)h(n[r],a[r]);return n=a=null,s},clean:function(e,t,i,n){var a,r,s,o,l,u,c,h,p,E,g,y=t===H&&ei,T=[];for(t&&"undefined"!=typeof t.createDocumentFragment||(t=H),a=0;null!=(s=e[a]);a++)if("number"==typeof s&&(s+=""),s){if("string"==typeof s)if(jt.test(s)){for(y=y||d(t),c=t.createElement("div"),y.appendChild(c),s=s.replace(Gt,"<$1></$2>"),o=(Yt.exec(s)||["",""])[1].toLowerCase(),l=Jt[o]||Jt._default,u=l[0],c.innerHTML=l[1]+s+l[2];u--;)c=c.lastChild;if(!Z.support.tbody)for(h=Wt.test(s),p="table"!==o||h?"<table>"!==l[1]||h?[]:c.childNodes:c.firstChild&&c.firstChild.childNodes,r=p.length-1;r>=0;--r)Z.nodeName(p[r],"tbody")&&!p[r].childNodes.length&&p[r].parentNode.removeChild(p[r]);!Z.support.leadingWhitespace&&Ht.test(s)&&c.insertBefore(t.createTextNode(Ht.exec(s)[0]),c.firstChild),s=c.childNodes,c.parentNode.removeChild(c)}else s=t.createTextNode(s);s.nodeType?T.push(s):Z.merge(T,s)}if(c&&(s=c=y=null),!Z.support.appendChecked)for(a=0;null!=(s=T[a]);a++)Z.nodeName(s,"input")?f(s):"undefined"!=typeof s.getElementsByTagName&&Z.grep(s.getElementsByTagName("input"),f);if(i)for(E=function(e){return!e.type||Qt.test(e.type)?n?n.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e):void 0},a=0;null!=(s=T[a]);a++)Z.nodeName(s,"script")&&E(s)||(i.appendChild(s),"undefined"!=typeof s.getElementsByTagName&&(g=Z.grep(Z.merge([],s.getElementsByTagName("script")),E),T.splice.apply(T,[a+1,0].concat(g)),a+=g.length));return T},cleanData:function(e,t){for(var i,n,a,r,s=0,o=Z.expando,l=Z.cache,u=Z.support.deleteExpando,d=Z.event.special;null!=(a=e[s]);s++)if((t||Z.acceptData(a))&&(n=a[o],i=n&&l[n])){if(i.events)for(r in i.events)d[r]?Z.event.remove(a,r):Z.removeEvent(a,r,i.handle);l[n]&&(delete l[n],u?delete a[o]:a.removeAttribute?a.removeAttribute(o):a[o]=null,Z.deletedIds.push(n))}}}),function(){var e,t;Z.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=Z.uaMatch(Y.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),Z.browser=t,Z.sub=function(){function e(t,i){return new e.fn.init(t,i)}Z.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(i,n){return n&&n instanceof Z&&!(n instanceof e)&&(n=e(n)),Z.fn.init.call(this,i,n,t)},e.fn.init.prototype=e.fn;var t=e(H);return e}}();var ii,ni,ai,ri=/alpha\([^)]*\)/i,si=/opacity=([^)]*)/,oi=/^(top|right|bottom|left)$/,li=/^(none|table(?!-c[ea]).+)/,ui=/^margin/,di=new RegExp("^("+J+")(.*)$","i"),ci=new RegExp("^("+J+")(?!px)[a-z%]+$","i"),hi=new RegExp("^([-+])=("+J+")","i"),pi={BODY:"block"},Ei={position:"absolute",visibility:"hidden",display:"block"},fi={letterSpacing:0,fontWeight:400},gi=["Top","Right","Bottom","Left"],yi=["Webkit","O","Moz","ms"],Ti=Z.fn.toggle;Z.fn.extend({css:function(e,i){return Z.access(this,function(e,i,n){return n!==t?Z.style(e,i,n):Z.css(e,i)},e,i,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(e,t){var i="boolean"==typeof e;return Z.isFunction(e)&&Z.isFunction(t)?Ti.apply(this,arguments):this.each(function(){(i?e:y(this))?Z(this).show():Z(this).hide()})}}),Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=ii(e,"opacity");return""===i?"1":i}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Z.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,i,n,a){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,o,l=Z.camelCase(i),u=e.style;if(i=Z.cssProps[l]||(Z.cssProps[l]=g(u,l)),o=Z.cssHooks[i]||Z.cssHooks[l],n===t)return o&&"get"in o&&(r=o.get(e,!1,a))!==t?r:u[i];if(s=typeof n,"string"===s&&(r=hi.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(Z.css(e,i)),s="number"),!(null==n||"number"===s&&isNaN(n)||("number"!==s||Z.cssNumber[l]||(n+="px"),o&&"set"in o&&(n=o.set(e,n,a))===t)))try{u[i]=n}catch(d){}}},css:function(e,i,n,a){var r,s,o,l=Z.camelCase(i);return i=Z.cssProps[l]||(Z.cssProps[l]=g(e.style,l)),o=Z.cssHooks[i]||Z.cssHooks[l],o&&"get"in o&&(r=o.get(e,!0,a)),r===t&&(r=ii(e,i)),"normal"===r&&i in fi&&(r=fi[i]),n||a!==t?(s=parseFloat(r),n||Z.isNumeric(s)?s||0:r):r},swap:function(e,t,i){var n,a,r={};for(a in t)r[a]=e.style[a],e.style[a]=t[a];n=i.call(e);for(a in t)e.style[a]=r[a];return n}}),e.getComputedStyle?ii=function(t,i){var n,a,r,s,o=e.getComputedStyle(t,null),l=t.style;return o&&(n=o.getPropertyValue(i)||o[i],""!==n||Z.contains(t.ownerDocument,t)||(n=Z.style(t,i)),ci.test(n)&&ui.test(i)&&(a=l.width,r=l.minWidth,s=l.maxWidth,l.minWidth=l.maxWidth=l.width=n,n=o.width,l.width=a,l.minWidth=r,l.maxWidth=s)),n}:H.documentElement.currentStyle&&(ii=function(e,t){var i,n,a=e.currentStyle&&e.currentStyle[t],r=e.style;return null==a&&r&&r[t]&&(a=r[t]),ci.test(a)&&!oi.test(t)&&(i=r.left,n=e.runtimeStyle&&e.runtimeStyle.left,n&&(e.runtimeStyle.left=e.currentStyle.left),r.left="fontSize"===t?"1em":a,a=r.pixelLeft+"px",r.left=i,n&&(e.runtimeStyle.left=n)),""===a?"auto":a}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,i,n){return i?0===e.offsetWidth&&li.test(ii(e,"display"))?Z.swap(e,Ei,function(){return O(e,t,n)}):O(e,t,n):void 0},set:function(e,i,n){return m(e,i,n?_(e,t,n,Z.support.boxSizing&&"border-box"===Z.css(e,"boxSizing")):0)}}}),Z.support.opacity||(Z.cssHooks.opacity={get:function(e,t){return si.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,a=Z.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=n&&n.filter||i.filter||"";i.zoom=1,t>=1&&""===Z.trim(r.replace(ri,""))&&i.removeAttribute&&(i.removeAttribute("filter"),n&&!n.filter)||(i.filter=ri.test(r)?r.replace(ri,a):r+" "+a)}}),Z(function(){Z.support.reliableMarginRight||(Z.cssHooks.marginRight={get:function(e,t){return Z.swap(e,{display:"inline-block"},function(){return t?ii(e,"marginRight"):void 0})}}),!Z.support.pixelPosition&&Z.fn.position&&Z.each(["top","left"],function(e,t){Z.cssHooks[t]={get:function(e,i){if(i){var n=ii(e,t);return ci.test(n)?Z(e).position()[t]+"px":n}}}})}),Z.expr&&Z.expr.filters&&(Z.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!Z.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ii(e,"display"))},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(i){var n,a="string"==typeof i?i.split(" "):[i],r={};for(n=0;4>n;n++)r[e+gi[n]+t]=a[n]||a[n-2]||a[0];return r}},ui.test(e)||(Z.cssHooks[e+t].set=m)});var mi=/%20/g,_i=/\[\]$/,Oi=/\r?\n/g,Ai=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Ii=/^(?:select|textarea)/i;Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?Z.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Ii.test(this.nodeName)||Ai.test(this.type))}).map(function(e,t){var i=Z(this).val();return null==i?null:Z.isArray(i)?Z.map(i,function(e){return{name:t.name,value:e.replace(Oi,"\r\n")}}):{name:t.name,value:i.replace(Oi,"\r\n")}}).get()}}),Z.param=function(e,i){var n,a=[],r=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t&&(i=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){r(this.name,this.value)});else for(n in e)I(n,e[n],i,r);return a.join("&").replace(mi,"+")};var vi,Si,bi=/#.*$/,Ni=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Di=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Ri=/^(?:GET|HEAD)$/,Ci=/^\/\//,Li=/\?/,Pi=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,wi=/([?&])_=[^&]*/,ki=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Vi=Z.fn.load,Fi={},Bi={},Mi=["*/"]+["*"];try{Si=G.href}catch(Ui){Si=H.createElement("a"),Si.href="",Si=Si.href}vi=ki.exec(Si.toLowerCase())||[],Z.fn.load=function(e,i,n){if("string"!=typeof e&&Vi)return Vi.apply(this,arguments);if(!this.length)return this;var a,r,s,o=this,l=e.indexOf(" ");return l>=0&&(a=e.slice(l,e.length),e=e.slice(0,l)),Z.isFunction(i)?(n=i,i=t):i&&"object"==typeof i&&(r="POST"),Z.ajax({url:e,type:r,dataType:"html",data:i,complete:function(e,t){n&&o.each(n,s||[e.responseText,t,e])}}).done(function(e){s=arguments,o.html(a?Z("<div>").append(e.replace(Pi,"")).find(a):e)}),this},Z.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.each(["get","post"],function(e,i){Z[i]=function(e,n,a,r){return Z.isFunction(n)&&(r=r||a,a=n,n=t),Z.ajax({type:i,url:e,data:n,success:a,dataType:r})}}),Z.extend({getScript:function(e,i){return Z.get(e,t,i,"script")},getJSON:function(e,t,i){return Z.get(e,t,i,"json")},ajaxSetup:function(e,t){return t?b(e,Z.ajaxSettings):(t=e,e=Z.ajaxSettings),b(e,t),e},ajaxSettings:{url:Si,isLocal:Di.test(vi[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Mi},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:v(Fi),ajaxTransport:v(Bi),ajax:function(e,i){function n(e,i,n,s){var u,c,T,m,O,I=i;2!==_&&(_=2,l&&clearTimeout(l),o=t,r=s||"",A.readyState=e>0?4:0,n&&(m=N(h,A,n)),e>=200&&300>e||304===e?(h.ifModified&&(O=A.getResponseHeader("Last-Modified"),O&&(Z.lastModified[a]=O),O=A.getResponseHeader("Etag"),O&&(Z.etag[a]=O)),304===e?(I="notmodified",u=!0):(u=D(h,m),I=u.state,c=u.data,T=u.error,u=!T)):(T=I,(!I||e)&&(I="error",0>e&&(e=0))),A.status=e,A.statusText=(i||I)+"",u?f.resolveWith(p,[c,I,A]):f.rejectWith(p,[A,I,T]),A.statusCode(y),y=t,d&&E.trigger("ajax"+(u?"Success":"Error"),[A,h,u?c:T]),g.fireWith(p,[A,I]),d&&(E.trigger("ajaxComplete",[A,h]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=t),i=i||{};var a,r,s,o,l,u,d,c,h=Z.ajaxSetup({},i),p=h.context||h,E=p!==h&&(p.nodeType||p instanceof Z)?Z(p):Z.event,f=Z.Deferred(),g=Z.Callbacks("once memory"),y=h.statusCode||{},T={},m={},_=0,O="canceled",A={readyState:0,setRequestHeader:function(e,t){if(!_){var i=e.toLowerCase();
e=m[i]=m[i]||e,T[e]=t}return this},getAllResponseHeaders:function(){return 2===_?r:null},getResponseHeader:function(e){var i;if(2===_){if(!s)for(s={};i=Ni.exec(r);)s[i[1].toLowerCase()]=i[2];i=s[e.toLowerCase()]}return i===t?null:i},overrideMimeType:function(e){return _||(h.mimeType=e),this},abort:function(e){return e=e||O,o&&o.abort(e),n(0,e),this}};if(f.promise(A),A.success=A.done,A.error=A.fail,A.complete=g.add,A.statusCode=function(e){if(e){var t;if(2>_)for(t in e)y[t]=[y[t],e[t]];else t=e[A.status],A.always(t)}return this},h.url=((e||h.url)+"").replace(bi,"").replace(Ci,vi[1]+"//"),h.dataTypes=Z.trim(h.dataType||"*").toLowerCase().split(tt),null==h.crossDomain&&(u=ki.exec(h.url.toLowerCase()),h.crossDomain=!(!u||u[1]===vi[1]&&u[2]===vi[2]&&(u[3]||("http:"===u[1]?80:443))==(vi[3]||("http:"===vi[1]?80:443)))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Z.param(h.data,h.traditional)),S(Fi,h,i,A),2===_)return A;if(d=h.global,h.type=h.type.toUpperCase(),h.hasContent=!Ri.test(h.type),d&&0===Z.active++&&Z.event.trigger("ajaxStart"),!h.hasContent&&(h.data&&(h.url+=(Li.test(h.url)?"&":"?")+h.data,delete h.data),a=h.url,h.cache===!1)){var I=Z.now(),v=h.url.replace(wi,"$1_="+I);h.url=v+(v===h.url?(Li.test(h.url)?"&":"?")+"_="+I:"")}(h.data&&h.hasContent&&h.contentType!==!1||i.contentType)&&A.setRequestHeader("Content-Type",h.contentType),h.ifModified&&(a=a||h.url,Z.lastModified[a]&&A.setRequestHeader("If-Modified-Since",Z.lastModified[a]),Z.etag[a]&&A.setRequestHeader("If-None-Match",Z.etag[a])),A.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Mi+"; q=0.01":""):h.accepts["*"]);for(c in h.headers)A.setRequestHeader(c,h.headers[c]);if(h.beforeSend&&(h.beforeSend.call(p,A,h)===!1||2===_))return A.abort();O="abort";for(c in{success:1,error:1,complete:1})A[c](h[c]);if(o=S(Bi,h,i,A)){A.readyState=1,d&&E.trigger("ajaxSend",[A,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){A.abort("timeout")},h.timeout));try{_=1,o.send(T,n)}catch(b){if(!(2>_))throw b;n(-1,b)}}else n(-1,"No Transport");return A},active:0,lastModified:{},etag:{}});var xi=[],Hi=/\?/,Gi=/(=)\?(?=&|$)|\?\?/,Yi=Z.now();Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=xi.pop()||Z.expando+"_"+Yi++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(i,n,a){var r,s,o,l=i.data,u=i.url,d=i.jsonp!==!1,c=d&&Gi.test(u),h=d&&!c&&"string"==typeof l&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gi.test(l);return"jsonp"===i.dataTypes[0]||c||h?(r=i.jsonpCallback=Z.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,s=e[r],c?i.url=u.replace(Gi,"$1"+r):h?i.data=l.replace(Gi,"$1"+r):d&&(i.url+=(Hi.test(u)?"&":"?")+i.jsonp+"="+r),i.converters["script json"]=function(){return o||Z.error(r+" was not called"),o[0]},i.dataTypes[0]="json",e[r]=function(){o=arguments},a.always(function(){e[r]=s,i[r]&&(i.jsonpCallback=n.jsonpCallback,xi.push(r)),o&&Z.isFunction(s)&&s(o[0]),o=s=t}),"script"):void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var i,n=H.head||H.getElementsByTagName("head")[0]||H.documentElement;return{send:function(a,r){i=H.createElement("script"),i.async="async",e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(e,a){(a||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,n&&i.parentNode&&n.removeChild(i),i=t,a||r(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(0,1)}}}});var Wi,ji=e.ActiveXObject?function(){for(var e in Wi)Wi[e](0,1)}:!1,Ki=0;Z.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&R()||C()}:R,function(e){Z.extend(Z.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(Z.ajaxSettings.xhr()),Z.support.ajax&&Z.ajaxTransport(function(i){if(!i.crossDomain||Z.support.cors){var n;return{send:function(a,r){var s,o,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(o in i.xhrFields)l[o]=i.xhrFields[o];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||a["X-Requested-With"]||(a["X-Requested-With"]="XMLHttpRequest");try{for(o in a)l.setRequestHeader(o,a[o])}catch(u){}l.send(i.hasContent&&i.data||null),n=function(e,a){var o,u,d,c,h;try{if(n&&(a||4===l.readyState))if(n=t,s&&(l.onreadystatechange=Z.noop,ji&&delete Wi[s]),a)4!==l.readyState&&l.abort();else{o=l.status,d=l.getAllResponseHeaders(),c={},h=l.responseXML,h&&h.documentElement&&(c.xml=h);try{c.text=l.responseText}catch(p){}try{u=l.statusText}catch(p){u=""}o||!i.isLocal||i.crossDomain?1223===o&&(o=204):o=c.text?200:404}}catch(E){a||r(-1,E)}c&&r(o,u,c,d)},i.async?4===l.readyState?setTimeout(n,0):(s=++Ki,ji&&(Wi||(Wi={},Z(e).unload(ji)),Wi[s]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(0,1)}}}});var zi,qi,Xi=/^(?:toggle|show|hide)$/,$i=new RegExp("^(?:([-+])=|)("+J+")([a-z%]*)$","i"),Qi=/queueHooks$/,Zi=[V],Ji={"*":[function(e,t){var i,n,a=this.createTween(e,t),r=$i.exec(t),s=a.cur(),o=+s||0,l=1,u=20;if(r){if(i=+r[2],n=r[3]||(Z.cssNumber[e]?"":"px"),"px"!==n&&o){o=Z.css(a.elem,e,!0)||i||1;do l=l||".5",o/=l,Z.style(a.elem,e,o+n);while(l!==(l=a.cur()/s)&&1!==l&&--u)}a.unit=n,a.start=o,a.end=r[1]?o+(r[1]+1)*i:i}return a}]};Z.Animation=Z.extend(w,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,a=e.length;a>n;n++)i=e[n],Ji[i]=Ji[i]||[],Ji[i].unshift(t)},prefilter:function(e,t){t?Zi.unshift(e):Zi.push(e)}}),Z.Tween=F,F.prototype={constructor:F,init:function(e,t,i,n,a,r){this.elem=e,this.prop=i,this.easing=a||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(Z.cssNumber[i]?"":"px")},cur:function(){var e=F.propHooks[this.prop];return e&&e.get?e.get(this):F.propHooks._default.get(this)},run:function(e){var t,i=F.propHooks[this.prop];return this.pos=t=this.options.duration?Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,!1,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.each(["toggle","show","hide"],function(e,t){var i=Z.fn[t];Z.fn[t]=function(n,a,r){return null==n||"boolean"==typeof n||!e&&Z.isFunction(n)&&Z.isFunction(a)?i.apply(this,arguments):this.animate(B(t,!0),n,a,r)}}),Z.fn.extend({fadeTo:function(e,t,i,n){return this.filter(y).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var a=Z.isEmptyObject(e),r=Z.speed(t,i,n),s=function(){var t=w(this,Z.extend({},e),r);a&&t.stop(!0)};return a||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(e,i,n){var a=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=i,i=e,e=t),i&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",r=Z.timers,s=Z._data(this);if(i)s[i]&&s[i].stop&&a(s[i]);else for(i in s)s[i]&&s[i].stop&&Qi.test(i)&&a(s[i]);for(i=r.length;i--;)r[i].elem!==this||null!=e&&r[i].queue!==e||(r[i].anim.stop(n),t=!1,r.splice(i,1));(t||!n)&&Z.dequeue(this,e)})}}),Z.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),Z.speed=function(e,t,i){var n=e&&"object"==typeof e?Z.extend({},e):{complete:i||!i&&t||Z.isFunction(e)&&e,duration:e,easing:i&&t||t&&!Z.isFunction(t)&&t};return n.duration=Z.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in Z.fx.speeds?Z.fx.speeds[n.duration]:Z.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){Z.isFunction(n.old)&&n.old.call(this),n.queue&&Z.dequeue(this,n.queue)},n},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.timers=[],Z.fx=F.prototype.init,Z.fx.tick=function(){var e,i=Z.timers,n=0;for(zi=Z.now();n<i.length;n++)e=i[n],e()||i[n]!==e||i.splice(n--,1);i.length||Z.fx.stop(),zi=t},Z.fx.timer=function(e){e()&&Z.timers.push(e)&&!qi&&(qi=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.interval=13,Z.fx.stop=function(){clearInterval(qi),qi=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fx.step={},Z.expr&&Z.expr.filters&&(Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length});var en=/^(?:body|html)$/i;Z.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var i,n,a,r,s,o,l,u={top:0,left:0},d=this[0],c=d&&d.ownerDocument;if(c)return(n=c.body)===d?Z.offset.bodyOffset(d):(i=c.documentElement,Z.contains(i,d)?("undefined"!=typeof d.getBoundingClientRect&&(u=d.getBoundingClientRect()),a=M(c),r=i.clientTop||n.clientTop||0,s=i.clientLeft||n.clientLeft||0,o=a.pageYOffset||i.scrollTop,l=a.pageXOffset||i.scrollLeft,{top:u.top+o-r,left:u.left+l-s}):u)},Z.offset={bodyOffset:function(e){var t=e.offsetTop,i=e.offsetLeft;return Z.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(Z.css(e,"marginTop"))||0,i+=parseFloat(Z.css(e,"marginLeft"))||0),{top:t,left:i}},setOffset:function(e,t,i){var n=Z.css(e,"position");"static"===n&&(e.style.position="relative");var a,r,s=Z(e),o=s.offset(),l=Z.css(e,"top"),u=Z.css(e,"left"),d=("absolute"===n||"fixed"===n)&&Z.inArray("auto",[l,u])>-1,c={},h={};d?(h=s.position(),a=h.top,r=h.left):(a=parseFloat(l)||0,r=parseFloat(u)||0),Z.isFunction(t)&&(t=t.call(e,i,o)),null!=t.top&&(c.top=t.top-o.top+a),null!=t.left&&(c.left=t.left-o.left+r),"using"in t?t.using.call(e,c):s.css(c)}},Z.fn.extend({position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),i=this.offset(),n=en.test(t[0].nodeName)?{top:0,left:0}:t.offset();return i.top-=parseFloat(Z.css(e,"marginTop"))||0,i.left-=parseFloat(Z.css(e,"marginLeft"))||0,n.top+=parseFloat(Z.css(t[0],"borderTopWidth"))||0,n.left+=parseFloat(Z.css(t[0],"borderLeftWidth"))||0,{top:i.top-n.top,left:i.left-n.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||H.body;e&&!en.test(e.nodeName)&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||H.body})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n=/Y/.test(i);Z.fn[e]=function(a){return Z.access(this,function(e,a,r){var s=M(e);return r===t?s?i in s?s[i]:s.document.documentElement[a]:e[a]:void(s?s.scrollTo(n?Z(s).scrollLeft():r,n?r:Z(s).scrollTop()):e[a]=r)},e,a,arguments.length,null)}}),Z.each({Height:"height",Width:"width"},function(e,i){Z.each({padding:"inner"+e,content:i,"":"outer"+e},function(n,a){Z.fn[a]=function(a,r){var s=arguments.length&&(n||"boolean"!=typeof a),o=n||(a===!0||r===!0?"margin":"border");return Z.access(this,function(i,n,a){var r;return Z.isWindow(i)?i.document.documentElement["client"+e]:9===i.nodeType?(r=i.documentElement,Math.max(i.body["scroll"+e],r["scroll"+e],i.body["offset"+e],r["offset"+e],r["client"+e])):a===t?Z.css(i,n,a,o):Z.style(i,n,a,o)},i,s?a:t,s,null)}})}),e.jQuery=e.$=Z,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return Z})}(window);var HazmatBuilder=function(e,t){var i=function(t){if(this.config=t||{},!e.isObject(this.config))throw new Error("Hazmat is not initialized properly");this.fail=e.isFunction(this.config.fail)?this.config.fail:i.fail,this.warn=e.isFunction(this.config.warn)?this.config.warn:i.warn,this.log=e.isFunction(this.config.log)?this.config.log:i.log};return e.extend(i,{ID_REGEX:/^[\_\-A-Za-z0-9]+$/,create:function(e){return new i(e)},noConflict:function(){return t.Hazmat=i.original,i},log:function(){window.console&&e.isFunction(window.console.log)&&window.console.log.apply(window.console,arguments)},fail:function(e,t){var n=e||"",a=t||{};throw i.log("Hazmat Failure::",n,a),new Error("Hazmat Failure "+n.toString())},warn:function(e,t){var n=e||"",a=t||{};i.log("Hazmat Warning::",n,a)},fixDomId:function(t){return e.isString(t)&&t.length>0?t.replace(/[^A-Za-z0-9\_]/g,""):null},isDomId:function(t){return e.isString(t)&&t.match(i.ID_REGEX)},__placeholder:!0}),e.extend(i.prototype,{_safeValue:function(t,i,n,a){var r=n;return e.isFunction(n)&&(n=e.once(function(){try{return r.apply(this,arguments)}catch(e){}})),a.checker(i)?i:a.evalFallback&&e.isFunction(n)&&a.checker(n(i))?(this.warn("Expected valid "+a.name+" for "+t+" but was able to sanitize it:",[i,n(i)]),n(i)):a.checker(r)?(this.warn("Expected valid "+a.name+" for "+t+" but was able to fallback to default value:",[i,r]),r):void this.fail("Expected valid "+a.name+" for "+t+" but received:",i)},safeString:function(t,i,n){return this._safeValue(t,i,n,{name:"String",checker:e.isString,evalFallback:!0})},safeStringOrNull:function(t,i,n){return null==i?i:this._safeValue(t,i,n,{name:"String",checker:e.isString,evalFallback:!0})},safeDomId:function(e,t,n){return this._safeValue(e,t,n,{name:"DOM ID",checker:i.isDomId,evalFallback:!0})},safeFunction:function(t,i,n){return this._safeValue(t,i,n,{name:"Function",checker:e.isFunction,evalFallback:!1})},safeFunctionOrNull:function(t,i,n){return null==i?i:this._safeValue(t,i,n,{name:"Function",checker:e.isFunction,evalFallback:!1})},safeObject:function(t,i,n){return this._safeValue(t,i,n,{name:"Object",checker:e.isObject,evalFallback:!1})},safeObjectOrNull:function(t,i,n){return null==i?i:this._safeValue(t,i,n,{name:"Object",checker:e.isObject,evalFallback:!1})},safeArray:function(t,i,n){return this._safeValue(t,i,n,{name:"Array",checker:e.isArray,evalFallback:!1})},safeArrayOfElements:function(t,i,n,a){var r=this._safeValue(t,i,a,{name:"Array",checker:e.isArray,evalFallback:!1});return e.map(r,n)},__placeholder:!0}),i};if("undefined"!=typeof window&&"undefined"!=typeof window._){var hazmat=HazmatBuilder(window._,window);hazmat.original=window.Hazmat,window.Hazmat=hazmat}else{var _=require("underscore"),hazmat=HazmatBuilder(_);_.extend(exports,hazmat)}!function(){var e=8,t="",i=0,n=function(t){var i,n=[],a=(1<<e)-1,r=t.length*e;for(i=0;r>i;i+=e)n[i>>5]|=(t.charCodeAt(i/e)&a)<<32-e-i%32;return n},a=function(e){var t,i,n=[],a=e.length;for(t=0;a>t;t+=2){if(i=parseInt(e.substr(t,2),16),isNaN(i))return"INVALID HEX STRING";n[t>>3]|=i<<24-4*(t%8)}return n},r=function(e){var t,n,a=i?"0123456789ABCDEF":"0123456789abcdef",r="",s=4*e.length;for(t=0;s>t;t+=1)n=e[t>>2]>>8*(3-t%4),r+=a.charAt(n>>4&15)+a.charAt(15&n);return r},s=function(e){var i,n,a,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s="",o=4*e.length;for(i=0;o>i;i+=3)for(a=(e[i>>2]>>8*(3-i%4)&255)<<16|(e[i+1>>2]>>8*(3-(i+1)%4)&255)<<8|e[i+2>>2]>>8*(3-(i+2)%4)&255,n=0;4>n;n+=1)s+=8*i+6*n<=32*e.length?r.charAt(a>>6*(3-n)&63):t;return s},o=function(e,t){return e>>>t|e<<32-t},l=function(e,t){return e>>>t},u=function(e,t,i){return e&t^~e&i},d=function(e,t,i){return e&t^e&i^t&i},c=function(e){return o(e,2)^o(e,13)^o(e,22)},h=function(e){return o(e,6)^o(e,11)^o(e,25)},p=function(e){return o(e,7)^o(e,18)^l(e,3)},E=function(e){return o(e,17)^o(e,19)^l(e,10)},f=function(e,t){var i=(65535&e)+(65535&t),n=(e>>>16)+(t>>>16)+(i>>>16);return(65535&n)<<16|65535&i},g=function(e,t,i,n){var a=(65535&e)+(65535&t)+(65535&i)+(65535&n),r=(e>>>16)+(t>>>16)+(i>>>16)+(n>>>16)+(a>>>16);return(65535&r)<<16|65535&a},y=function(e,t,i,n,a){var r=(65535&e)+(65535&t)+(65535&i)+(65535&n)+(65535&a),s=(e>>>16)+(t>>>16)+(i>>>16)+(n>>>16)+(a>>>16)+(r>>>16);return(65535&s)<<16|65535&r},T=function(e,t,i){var n,a,r,s,o,l,T,m,_,O,A,I,v,S,b,N,D=[];for(("SHA-224"===i||"SHA-256"===i)&&(I=(t+65>>9<<4)+15,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],A="SHA-224"===i?[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]:[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),e[t>>5]|=128<<24-t%32,e[I]=t,N=e.length,v=0;N>v;v+=16){for(n=A[0],a=A[1],r=A[2],s=A[3],o=A[4],l=A[5],T=A[6],m=A[7],S=0;64>S;S+=1)D[S]=16>S?e[S+v]:g(E(D[S-2]),D[S-7],p(D[S-15]),D[S-16]),_=y(m,h(o),u(o,l,T),b[S],D[S]),O=f(c(n),d(n,a,r)),m=T,T=l,l=o,o=f(s,_),s=r,r=a,a=n,n=f(_,O);A[0]=f(n,A[0]),A[1]=f(a,A[1]),A[2]=f(r,A[2]),A[3]=f(s,A[3]),A[4]=f(o,A[4]),A[5]=f(l,A[5]),A[6]=f(T,A[6]),A[7]=f(m,A[7])}switch(i){case"SHA-224":return[A[0],A[1],A[2],A[3],A[4],A[5],A[6]];case"SHA-256":return A;default:return[]}},m=function(t,i){if(this.sha224=null,this.sha256=null,this.strBinLen=null,this.strToHash=null,"HEX"===i){if(0!==t.length%2)return"TEXT MUST BE IN BYTE INCREMENTS";this.strBinLen=4*t.length,this.strToHash=a(t)}else{if("ASCII"!==i&&"undefined"!=typeof i)return"UNKNOWN TEXT INPUT TYPE";this.strBinLen=t.length*e,this.strToHash=n(t)}};m.prototype={getHash:function(e,t){var i=null,n=this.strToHash.slice();switch(t){case"HEX":i=r;break;case"B64":i=s;break;default:return"FORMAT NOT RECOGNIZED"}switch(e){case"SHA-224":return null===this.sha224&&(this.sha224=T(n,this.strBinLen,e)),i(this.sha224);case"SHA-256":return null===this.sha256&&(this.sha256=T(n,this.strBinLen,e)),i(this.sha256);default:return"HASH NOT RECOGNIZED"}},getHMAC:function(t,i,o,l){var u,d,c,h,p,E,f=[],g=[];switch(l){case"HEX":u=r;break;case"B64":u=s;break;default:return"FORMAT NOT RECOGNIZED"}switch(o){case"SHA-224":E=224;break;case"SHA-256":E=256;break;default:return"HASH NOT RECOGNIZED"}if("HEX"===i){if(0!==t.length%2)return"KEY MUST BE IN BYTE INCREMENTS";d=a(t),p=4*t.length}else{if("ASCII"!==i)return"UNKNOWN KEY INPUT TYPE";d=n(t),p=t.length*e}for(p/8>64?(d=T(d,p,o),d[15]&=4294967040):64>p/8&&(d[15]&=4294967040),c=0;15>=c;c+=1)f[c]=909522486^d[c],g[c]=1549556828^d[c];return h=T(f.concat(this.strToHash),512+this.strBinLen,o),h=T(g.concat(h),512+E,o),u(h)}},window.jsSHA=m}(),window.LZW={encode:function(e){for(var t,i={},n=(e+"").split(""),a=[],r=n[0],s=256,o=1;o<n.length;o++)t=n[o],null!=i[r+t]?r+=t:(a.push(r.length>1?i[r]:r.charCodeAt(0)),i[r+t]=s,s++,r=t);a.push(r.length>1?i[r]:r.charCodeAt(0));for(var o=0;o<a.length;o++)a[o]=String.fromCharCode(a[o]);return a.join("")},decode:function(e){for(var t,i={},n=(e+"").split(""),a=n[0],r=a,s=[a],o=256,l=1;l<n.length;l++){var u=n[l].charCodeAt(0);t=256>u?n[l]:i[u]?i[u]:r+a,s.push(t),a=t.charAt(0),i[o]=r+a,o++,r=t}return s.join("")}},function(){var e={};e.PADCHAR="=",e.ALPHA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e.makeDOMException=function(){try{return new DOMException(DOMException.INVALID_CHARACTER_ERR)}catch(e){var t=new Error("DOM Exception 5");return t.code=t.number=5,t.name=t.description="INVALID_CHARACTER_ERR",t.toString=function(){return"Error: "+t.name+": "+t.message},t}},e.getbyte64=function(t,i){var n=e.ALPHA.indexOf(t.charAt(i));if(-1===n)throw e.makeDOMException();return n},e.decode=function(t){t=""+t;var i,n,a,r=e.getbyte64,s=t.length;if(0===s)return t;if(s%4!==0)throw e.makeDOMException();i=0,t.charAt(s-1)===e.PADCHAR&&(i=1,t.charAt(s-2)===e.PADCHAR&&(i=2),s-=4);var o=[];for(n=0;s>n;n+=4)a=r(t,n)<<18|r(t,n+1)<<12|r(t,n+2)<<6|r(t,n+3),o.push(String.fromCharCode(a>>16,a>>8&255,255&a));switch(i){case 1:a=r(t,n)<<18|r(t,n+1)<<12|r(t,n+2)<<6,o.push(String.fromCharCode(a>>16,a>>8&255));break;case 2:a=r(t,n)<<18|r(t,n+1)<<12,o.push(String.fromCharCode(a>>16))}return o.join("")},e.getbyte=function(t,i){var n=t.charCodeAt(i);if(n>255)throw e.makeDOMException();return n},e.encode=function(t){if(1!==arguments.length)throw new SyntaxError("Not enough arguments");var i,n,a=e.PADCHAR,r=e.ALPHA,s=e.getbyte,o=[];t=""+t;var l=t.length-t.length%3;if(0===t.length)return t;for(i=0;l>i;i+=3)n=s(t,i)<<16|s(t,i+1)<<8|s(t,i+2),o.push(r.charAt(n>>18)),o.push(r.charAt(n>>12&63)),o.push(r.charAt(n>>6&63)),o.push(r.charAt(63&n));switch(t.length-l){case 1:n=s(t,i)<<16,o.push(r.charAt(n>>18)+r.charAt(n>>12&63)+a+a);break;case 2:n=s(t,i)<<16|s(t,i+1)<<8,o.push(r.charAt(n>>18)+r.charAt(n>>12&63)+r.charAt(n>>6&63)+a)}return o.join("")},window.base64=e}(),function(e){e._=window._.noConflict(),e.$=window.$.noConflict(!0);var t={};window.debugHazmat||(t={warn:function(){}}),e.HM=window.Hazmat.noConflict().create(t),e.jsSHA=window.jsSHA,e.LZW=window.LZW,window.console&&window.console.log||(window.console=window.console||{},window.console.log=function(){})}(OO),function(e,t,i){e.playerParams=i.safeObject("environment.playerParams",e.playerParams,{}),e.configurePublisher=function(t){e.playerParams.pcode=t.pcode||e.playerParams.pcode||"",e.playerParams.playerBrandingId=t.playerBrandingId||e.playerParams.playerBrandingId||"",e.playerParams.debug=t.debug||e.playerParams.debug||""},e.isPublisherConfigured=function(){return!(!e.playerParams.pcode||!e.playerParams.playerBrandingId)},e.setServerHost=function(t){e.playerParams.api_ssl_server=t.api_ssl_server||e.playerParams.api_ssl_server||null,e.playerParams.api_server=t.api_server||e.playerParams.api_server||null,e.playerParams.auth_ssl_server=t.auth_ssl_server||e.playerParams.auth_ssl_server||null,e.playerParams.auth_server=t.auth_server||e.playerParams.auth_server||null,e.playerParams.analytics_ssl_server=t.analytics_ssl_server||e.playerParams.analytics_ssl_server||null,e.playerParams.analytics_server=t.analytics_server||e.playerParams.analytics_server||null,n()};var n=function(){e.SERVER={API:e.isSSL?e.playerParams.api_ssl_server||"https://player.ooyala.com":e.playerParams.api_server||"http://player.ooyala.com",AUTH:e.isSSL?e.playerParams.auth_ssl_server||"https://player.ooyala.com/sas":e.playerParams.auth_server||"http://player.ooyala.com/sas",ANALYTICS:e.isSSL?e.playerParams.analytics_ssl_server||"https://player.ooyala.com":e.playerParams.analytics_server||"http://player.ooyala.com"}};e.playerParams.tweaks=e.playerParams.tweaks||"",e.playerParams.tweaks=i.safeString("environment.playerParams.tweaks",e.playerParams.tweaks,""),e.playerParams.tweaks=e.playerParams.tweaks.split(","),e.tweaks={},e.tweaks["android-enable-hls"]=t.contains(e.playerParams.tweaks,"android-enable-hls"),e.tweaks["html5-force-mp4"]=t.contains(e.playerParams.tweaks,"html5-force-mp4"),e.playerParams.maxAdsTimeout=e.playerParams.maxAdsTimeout||5,e.playerParams.maxVastWrapperDepth=e.playerParams.maxVastWrapperDepth||3,e.playerParams.minLiveSeekWindow=e.playerParams.minLiveSeekWindow||10,e.guid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,i="x"==e?t:3&t|8;return i.toString(16)}),e.playerCount=0,e.isProd=!(!e.playerParams.environment||!e.playerParams.environment.match(/^prod/i)),e.platform=window.navigator.platform,e.os=window.navigator.appVersion,e.supportsVideo=!!document.createElement("video").canPlayType,e.browserSupportsCors=function(){try{return t.has(new XMLHttpRequest,"withCredentials")||t.has(XMLHttpRequest.prototype,"withCredentials")}catch(e){return!1}}(),e.isWindows=function(){return!!e.platform.match(/Win/)}(),e.isIos=function(){return!!e.platform.match(/iPhone|iPad|iPod/)}(),e.isIphone=function(){return!!e.platform.match(/iPhone|iPod/)}(),e.isIpad=function(){return!!e.platform.match(/iPad/)}(),e.iosMajorVersion=function(){try{return e.isIos?parseInt(window.navigator.userAgent.match(/OS (\d+)/)[1],10):null}catch(t){return null}}(),e.isAndroid=function(){return!(!e.os.match(/Android/)||e.os.match(/Windows Phone/))}(),e.isAndroid4Plus=function(){var t=e.os.match(/Android [\d\.]*;/);return t&&t.length>0&&(t=parseInt(t[0].substring(t[0].indexOf(" ")+1,t[0].search("[.;]")))),e.isAndroid&&t>=4}(),e.isRimDevice=function(){return!(!e.os.match(/BlackBerry/)&&!e.os.match(/PlayBook/))}(),e.isFirefox=function(){return!!window.navigator.userAgent.match(/Firefox/)}(),e.isChrome=function(){return!!window.navigator.userAgent.match(/Chrome/)&&!window.navigator.userAgent.match(/Edge/)}(),e.isSafari=function(){return!!window.navigator.userAgent.match(/AppleWebKit/)&&!window.navigator.userAgent.match(/Chrome/)&&!window.navigator.userAgent.match(/like iPhone/)}(),e.chromeMajorVersion=function(){try{return parseInt(window.navigator.userAgent.match(/Chrome.([0-9]*)/)[1],10)}catch(e){return null}}(),e.isIE=function(){return!!window.navigator.userAgent.match(/MSIE/)||!!window.navigator.userAgent.match(/Trident/)}(),e.isEdge=function(){return!!window.navigator.userAgent.match(/Edge/)}(),e.isIE11Plus=function(){if(!window.navigator.userAgent.match(/Trident/))return!1;var e=window.navigator.userAgent.match(/rv:(\d*)/),t=e&&e[1];return t>=11}(),e.isWinPhone=function(){return!!e.os.match(/Windows Phone/)||!!e.os.match(/ZuneWP/)||!!e.os.match(/XBLWP/)}(),e.isSmartTV=function(){return!!window.navigator.userAgent.match(/SmartTV/)||!!window.navigator.userAgent.match(/NetCast/)}(),e.isMacOs=function(){return!e.isIos&&!!e.os.match(/Mac/)&&!window.navigator.userAgent.match(/like iPhone/)}(),e.isMacOsLionOrLater=function(){var t=e.os.match(/Mac OS X ([0-9]+)_([0-9]+)/);return null==t||t.length<3?!1:parseInt(t[1],10)>=10&&parseInt(t[2],10)>=7}(),e.macOsSafariVersion=function(){try{return e.isMacOs&&e.isSafari?parseInt(window.navigator.userAgent.match(/Version\/(\d+)/)[1],10):null}catch(t){return null}}(),e.isKindleHD=function(){return!!e.os.match(/Silk\/2/)}(),e.supportMSE=function(){return"MediaSource"in window||"WebKitMediaSource"in window||"mozMediaSource"in window||"msMediaSource"in window}(),e.supportAds=function(){return!e.isWinPhone&&!e.os.match(/Android [23]/)}(),e.allowGesture=function(){return e.isIos}(),e.allowAutoPlay=function(){return!e.isIos&&!e.isAndroid}(),e.supportTouch=function(){return document.documentElement.hasOwnProperty&&document.documentElement.hasOwnProperty("ontouchstart")?!0:!1}(),e.docDomain=function(){var t=null;try{t=document.domain}catch(i){}return e._.isEmpty(t)?e.isSmartTV?"SmartTV":"unknown":t}(),e.uiParadigm=function(){var t="tablet";return e.isAndroid4Plus&&e.tweaks["android-enable-hls"]?t="tablet":e.isIphone?t="mobile-native":e.os.match(/BlackBerry/)?t="mobile-native":e.os.match(/iPad/)?t="tablet":e.isKindleHD?t="mobile-native":e.os.match(/Silk/)?t="mobile":e.os.match(/Android 2/)?window.orientation%180==0&&window.outerWidth/window.devicePixelRatio<=480?t="mobile":window.outerWidth/window.devicePixelRatio<=560&&(t="mobile"):e.os.match(/Android/)?t="tablet":e.isWinPhone?t="mobile":(e.platform.match(/Mac/)||e.platform.match(/Win/)||e.platform.match(/Linux/))&&(t="desktop"),t}(),e.requiresSingleVideoElement=function(){return e.isIos||e.isAndroid}(),e.supportedVideoProfiles=function(){return e.isIos||e.isAndroid?"baseline":null}(),e.device=function(){var t="html5";return e.isIphone?t="iphone-html5":e.isIpad?t="ipad-html5":e.isAndroid?t="android-html5":e.isRimDevice?t="rim-html5":e.isWinPhone?t="winphone-html5":e.isSmartTV&&(t="smarttv-html5"),t}(),e.environmentRequiredFeatures=function(){var i=[];return e.os.match(/Android 2/)?i.push("html5-playback"):(i.push("html5-playback"),e.supportAds&&i.push("ads")),t.reduce(i,function(e,t){return e+t+" "},"")}(),e.supportMidRollAds=function(){return"desktop"===e.uiParadigm&&!e.isIos&&!e.isRimDevice}(),e.supportCookies=function(){document.cookie="ooyala_cookie_test=true";var e=document.cookie.indexOf("ooyala_cookie_test=true")>=0;return document.cookie="ooyala_cookie_test=; expires=Thu, 01 Jan 1970 00:00:00 GMT",e}(),e.isSSL="https:"==document.location.protocol,n(),e.requiredInEnvironment=e.featureEnabled=function(t){return!!e.environmentRequiredFeatures.match(new RegExp(t))},e.chromeExtensionEnabled=document.getElementById("ooyala-extension-installed")?!0:!1,e.locale="",e.setLocale=function(t){e.locale=t.toUpperCase()},e.getLocale=function(){return(e.locale||document.documentElement.lang||navigator.language||navigator.userLanguage||"en").substr(0,2).toUpperCase()}}(OO,OO._,OO.HM),function(e,t,i){window.XDomainRequest&&e.$.ajaxTransport(function(t){if(t.crossDomain&&t.async){t.timeout&&(t.xdrTimeout=t.timeout,delete t.timeout);var i;return{send:function(n,a){function r(t,n,r,s){i.onload=i.onerror=i.ontimeout=e.$.noop,i=void 0,a(t,n,r,s)}i=new XDomainRequest,i.open(t.type,t.url),i.onload=function(){r(200,"OK",{text:i.responseText},"Content-Type: "+i.contentType)},i.onerror=function(){r(404,"Not Found")},i.onprogress=function(){},t.xdrTimeout&&(i.ontimeout=function(){r(0,"timeout")},i.timeout=t.xdrTimeout),i.send(t.hasContent&&t.data||null)},abort:function(){i&&(i.onerror=e.$.noop(),i.abort())}}}}),t.getScriptRetry=function(e,n,a){a=a||{};var r=a.error,s=["error","dataType","success"];i.each(s,function(e){delete a[e]});var o={url:e,type:"get",dataType:"script",success:n,cache:!0,timeout:5e3,tryCount:0,retryLimit:1,warning:!1,warningMessage:"Can not load URL",error:function(){this.tryCount<this.retryLimit?(this.tryCount++,t.ajax(this)):(this.warning&&alert(this.warningMessage),r&&r.apply(null,arguments))}};i.extend(o,a),t.ajax(o)}}(OO,OO.$,OO._),function(e,t){e.STATE={LOADING:"loading",READY:"ready",PLAYING:"playing",PAUSED:"paused",BUFFERING:"buffering",ERROR:"error",DESTROYED:"destroyed",__end_marker:!0},e.EVENTS={PLAYER_CREATED:"playerCreated",PLAYER_EMBEDDED:"playerEmbedded",SET_EMBED_CODE:"setEmbedCode",SET_EMBED_CODE_AFTER_OOYALA_AD:"setEmbedCodeAfterOoyalaAd",SET_ASSET:"setAsset",ASSET_CHANGED:"assetChanged",EMBED_CODE_CHANGED:"embedCodeChanged",EMBED_CODE_CHANGED_AFTER_OOYALA_AD:"embedCodeChangedAfterOoyalaAd",AUTH_TOKEN_CHANGED:"authTokenChanged",GUID_SET:"guidSet",WILL_FETCH_PLAYER_XML:"willFetchPlayerXml",PLAYER_XML_FETCHED:"playerXmlFetched",WILL_FETCH_CONTENT_TREE:"willFetchContentTree",SAVE_PLAYER_SETTINGS:"savePlayerSettings",CONTENT_TREE_FETCHED:"contentTreeFetched",WILL_FETCH_METADATA:"willFetchMetadata",METADATA_FETCHED:"metadataFetched",SKIN_METADATA_FETCHED:"skinMetadataFetched",ATTRIBUTES_FETCHED:"attributesFetched",THUMBNAILS_FETCHED:"thumbnailsFetched",WILL_FETCH_AUTHORIZATION:"willFetchAuthorization",AUTHORIZATION_FETCHED:"authorizationFetched",WILL_FETCH_AD_AUTHORIZATION:"willFetchAdAuthorization",AD_AUTHORIZATION_FETCHED:"adAuthorizationFetched",UPDATE_ASSET:"updateAsset",ASSET_UPDATED:"assetUpdated",CAN_SEEK:"canSeek",WILL_RESUME_MAIN_VIDEO:"willResumeMainVideo",PLAYBACK_READY:"playbackReady",INITIAL_PLAY:"initialPlay",CAN_PLAY:"canPlay",WILL_PLAY:"willPlay",REPLAY:"replay",PLAYHEAD_TIME_CHANGED:"playheadTimeChanged",BUFFERING:"buffering",BUFFERED:"buffered",DOWNLOADING:"downloading",BITRATE_INFO_AVAILABLE:"bitrateInfoAvailable",SET_TARGET_BITRATE:"setTargetBitrate",BITRATE_CHANGED:"bitrateChanged",SEND_QUALITY_CHANGE:"receiveVideoQualityChangeEvent",CLOSED_CAPTIONS_INFO_AVAILABLE:"closedCaptionsInfoAvailable",SET_CLOSED_CAPTIONS_LANGUAGE:"setClosedCaptionsLanguage",CLOSED_CAPTION_CUE_CHANGED:"closedCaptionCueChanged",ASSET_DIMENSION:"assetDimension",SCRUBBING:"scrubbing",SCRUBBED:"scrubbed",SEEK:"seek",SEEKED:"seeked",LIVE_BUTTON_CLICKED:"liveButtonClicked",PLAY:"play",PLAYING:"playing",PLAY_FAILED:"playFailed",PAUSE:"pause",PAUSED:"paused",PLAYED:"played",SHOULD_DISPLAY_CUE_POINTS:"shouldDisplayCuePoints",INSERT_CUE_POINT:"insertCuePoint",RESET_CUE_POINTS:"resetCuePoints",WILL_CHANGE_FULLSCREEN:"willChangeFullscreen",FULLSCREEN_CHANGED:"fullscreenChanged",SIZE_CHANGED:"sizeChanged",CHANGE_VOLUME:"changeVolume",VOLUME_CHANGED:"volumeChanged",CONTROLS_SHOWN:"controlsShown",CONTROLS_HIDDEN:"controlsHidden",END_SCREEN_SHOWN:"endScreenShown",CHANGE_CLOSED_CAPTION_LANGUAGE:"changeClosedCaptionLanguage",ERROR:"error",DESTROY:"destroy",WILL_PLAY_FROM_BEGINNING:"willPlayFromBeginning",DISABLE_PLAYBACK_CONTROLS:"disablePlaybackControls",ENABLE_PLAYBACK_CONTROLS:"enablePlaybackControls",VC_READY:"videoControllerReady",VC_CREATE_VIDEO_ELEMENT:"videoControllerCreateVideoElement",VC_UPDATE_ELEMENT_STREAM:"videoControllerUpdateElementStream",VC_VIDEO_ELEMENT_CREATED:"videoControllerVideoElementCreated",VC_FOCUS_VIDEO_ELEMENT:"videoControllerFocusVideoElement",VC_VIDEO_ELEMENT_IN_FOCUS:"videoControllerVideoElementInFocus",VC_VIDEO_ELEMENT_LOST_FOCUS:"videoControllerVideoElementLostFocus",VC_DISPOSE_VIDEO_ELEMENT:"videoControllerDisposeVideoElement",VC_VIDEO_ELEMENT_DISPOSED:"videoControllerVideoElementDisposed",VC_SET_VIDEO_STREAMS:"videoControllerSetVideoStreams",VC_ERROR:"videoControllerError",VC_SET_INITIAL_TIME:"videoSetInitialTime",VC_PLAY:"videoPlay",VC_CAN_PLAY:"videoCanPlay",VC_WILL_PLAY:"videoWillPlay",VC_PLAYING:"videoPlaying",VC_PLAYED:"videoPlayed",VC_PLAY_FAILED:"videoPlayFailed",VC_PAUSE:"videoPause",VC_PAUSED:"videoPaused",VC_SEEK:"videoSeek",VC_SEEKING:"videoSeeking",VC_SEEKED:"videoSeeked",VC_PRELOAD:"videoPreload",VC_RELOAD:"videoReload",VC_PRIME_VIDEOS:"videoPrimeVideos",VC_TAG_FOUND:"videoTagFound",WILL_FETCH_ADS:"willFetchAds",DISABLE_SEEKING:"disableSeeking",ENABLE_SEEKING:"enableSeeking",WILL_PLAY_ADS:"willPlayAds",WILL_PLAY_SINGLE_AD:"willPlaySingleAd",WILL_PAUSE_ADS:"willPauseAds",WILL_RESUME_ADS:"willResumeAds",WILL_PLAY_NONLINEAR_AD:"willPlayNonlinearAd",PLAY_NONLINEAR_AD:"playNonlinearAd",ADS_PLAYED:"adsPlayed",SINGLE_AD_PLAYED:"singleAdPlayed",ADS_ERROR:"adsError",ADS_CLICKED:"adsClicked",FIRST_AD_FETCHED:"firstAdFetched",AD_CONFIG_READY:"adConfigReady",WILL_SHOW_COMPANION_ADS:"willShowCompanionAds",AD_FETCH_FAILED:"adFetchFailed",MIDROLL_PLAY_FAILED:"midrollPlayFailed",SKIP_AD:"skipAd",UPDATE_AD_COUNTDOWN:"updateAdCountdown",REPORT_EXPERIMENT_VARIATIONS:"reportExperimentVariations",FETCH_STYLE:"fetchStyle",STYLE_FETCHED:"styleFetched",SET_STYLE:"setStyle",USE_SERVER_SIDE_HLS_ADS:"useServerSideHlsAds",LOAD_ALL_VAST_ADS:"loadAllVastAds",ADS_FILTERED:"adsFiltered",ADS_MANAGER_HANDLING_ADS:"adsManagerHandlingAds",ADS_MANAGER_FINISHED_ADS:"adsManagerFinishedAds",OVERLAY_RENDERING:"overlayRendering",SHOW_AD_MARQUEE:"showAdMarquee",PAGE_UNLOAD_REQUESTED:"pageUnloadRequested",PAGE_PROBABLY_UNLOADING:"pageProbablyUnloading",REPORT_DISCOVERY_IMPRESSION:"reportDiscoveryImpression",REPORT_DISCOVERY_CLICK:"reportDiscoveryClick",PLAYLISTS_READY:"playlistReady",UI_READY:"uiReady",__end_marker:!0},e.ERROR={API:{NETWORK:"network",SAS:{GENERIC:"sas",GEO:"geo",DOMAIN:"domain",FUTURE:"future",PAST:"past",DEVICE:"device",PROXY:"proxy",CONCURRENT_STREAMS:"concurrent_streams",INVALID_HEARTBEAT:"invalid_heartbeat",ERROR_DEVICE_INVALID_AUTH_TOKEN:"device_invalid_auth_token",ERROR_DEVICE_LIMIT_REACHED:"device_limit_reached",ERROR_DEVICE_BINDING_FAILED:"device_binding_failed",ERROR_DEVICE_ID_TOO_LONG:"device_id_too_long",ERROR_DRM_RIGHTS_SERVER_ERROR:"drm_server_error",ERROR_DRM_GENERAL_FAILURE:"drm_general_failure",ERROR_INVALID_ENTITLEMENTS:"invalid_entitlements"},CONTENT_TREE:"content_tree",METADATA:"metadata"},PLAYBACK:{GENERIC:"playback",STREAM:"stream",LIVESTREAM:"livestream",NETWORK:"network_error"},CHROMECAST:{MANIFEST:"chromecast_manifest",MEDIAKEYS:"chromecast_mediakeys",NETWORK:"chromecast_network",PLAYBACK:"chromecast_playback"},UNPLAYABLE_CONTENT:"unplayable_content",INVALID_EXTERNAL_ID:"invalid_external_id",EMPTY_CHANNEL:"empty_channel",EMPTY_CHANNEL_SET:"empty_channel_set",CHANNEL_CONTENT:"channel_content",VC:{UNSUPPORTED_ENCODING:"unsupported_encoding",UNABLE_TO_CREATE_VIDEO_ELEMENT:"unable_to_create_video_element"}},e.URLS={VAST_PROXY:t.template("http://player.ooyala.com/nuplayer/mobile_vast_ads_proxy?callback=<%=cb%>&embed_code=<%=embedCode%>&expires=<%=expires%>&tag_url=<%=tagUrl%>"),EXTERNAL_ID:t.template("<%=server%>/player_api/v1/content_tree/external_id/<%=pcode%>/<%=externalId%>"),CONTENT_TREE:t.template("<%=server%>/player_api/v1/content_tree/embed_code/<%=pcode%>/<%=embedCode%>"),METADATA:t.template("<%=server%>/player_api/v1/metadata/embed_code/<%=playerBrandingId%>/<%=embedCode%>?videoPcode=<%=pcode%>"),SAS:t.template("<%=server%>/player_api/v2/authorization/embed_code/<%=pcode%>/<%=embedCode%>"),ANALYTICS:t.template("<%=server%>/reporter.js"),THUMBNAILS:t.template("<%=server%>/api/v1/thumbnail_images/<%=embedCode%>"),__end_marker:!0},e.VIDEO={MAIN:"main",ADS:"ads",ENCODING:{DRM:{HLS:"hls_drm",DASH:"dash_drm"},AUDIO:"audio",DASH:"dash",HDS:"hds",HLS:"hls",IMA:"ima",PULSE:"pulse",MP4:"mp4",YOUTUBE:"youtube",RTMP:"rtmp",SMOOTH:"smooth",WEBM:"webm",AKAMAI_HD_VOD:"akamai_hd_vod",AKAMAI_HD2_VOD_HLS:"akamai_hd2_vod_hls",AKAMAI_HD2_VOD_HDS:"akamai_hd2_vod_hds",AKAMAI_HD2_HDS:"akamai_hd2_hds",AKAMAI_HD2_HLS:"akamai_hd2_hls",FAXS_HLS:"faxs_hls",WIDEVINE_HLS:"wv_hls",WIDEVINE_MP4:"wv_mp4",WIDEVINE_WVM:"wv_wvm",UNKNOWN:"unknown"},FEATURE:{CLOSED_CAPTIONS:"closedCaptions",VIDEO_OBJECT_SHARING_GIVE:"videoObjectSharingGive",VIDEO_OBJECT_SHARING_TAKE:"videoObjectSharingTake",BITRATE_CONTROL:"bitrateControl"},TECHNOLOGY:{FLASH:"flash",HTML5:"html5",MIXED:"mixed",OTHER:"other"}},e.CSS={VISIBLE_POSITION:"0px",INVISIBLE_POSITION:"-100000px",VISIBLE_DISPLAY:"block",INVISIBLE_DISPLAY:"none",VIDEO_Z_INDEX:1e4,SUPER_Z_INDEX:2e4,ALICE_SKIN_Z_INDEX:11e3,OVERLAY_Z_INDEX:10500,TRANSPARENT_COLOR:"rgba(255, 255, 255, 0)",__end_marker:!0},e.TEMPLATES={RANDOM_PLACE_HOLDER:["[place_random_number_here]","<now>","[timestamp]","<rand-num>","[cache_buster]","[random]"],REFERAK_PLACE_HOLDER:["[referrer_url]","[LR_URL]"],EMBED_CODE_PLACE_HOLDER:["[oo_embedcode]"],MESSAGE:'                  <table width="100%" height="100%" bgcolor="black" style="padding-left:55px; padding-right:55px;                   background-color:black; color: white;">                  <tbody>                  <tr valign="middle">                  <td align="right"><span style="font-family:Arial; font-size:20px">                  <%= message %>                  </span></td></tr></tbody></table>                  ',__end_marker:!0},e.CONSTANTS={AD_PLAY_COUNT_KEY:"oo_ad_play_count",AD_ID_TO_PLAY_COUNT_DIVIDER:":",AD_PLAY_COUNT_DIVIDER:"|",MAX_AD_PLAY_COUNT_HISTORY_LENGTH:20,CONTROLS_BOTTOM_PADDING:10,SEEK_TO_END_LIMIT:4,CLOSED_CAPTIONS:{SHOWING:"showing",HIDDEN:"hidden",DISABLED:"disabled"},OOYALA_PLAYER_SETTINGS_KEY:"ooyala_player_settings",__end_marker:!0}
}(OO,OO._),function(e){e.TEXT={ADS_COUNTDOWN:"adsCountdown",ADS_COUNTDOWN_SECONDS:"adsCountdownSeconds",LIVE:"LIVE",__end_marker:!0}}(OO),function(e){e.MESSAGES={EN:{},ES:{},FR:{},JA:{}};var t=e.MESSAGES.EN,i=e.MESSAGES.ES,n=e.MESSAGES.FR,a=e.MESSAGES.JA;t[e.ERROR.API.NETWORK]="Cannot Contact Server",t[e.ERROR.API.SAS.GENERIC]="Invalid Authorization Response",t[e.ERROR.API.SAS.GEO]="This video is not authorized in your location",t[e.ERROR.API.SAS.DOMAIN]="This video is not authorized for your domain",t[e.ERROR.API.SAS.FUTURE]="This video will be available soon",t[e.ERROR.API.SAS.PAST]="This video is no longer available",t[e.ERROR.API.SAS.DEVICE]="This video is not authorized for playback on this device",t[e.ERROR.API.SAS.PROXY]="An anonymous proxy was detected. Please disable the proxy and retry.",t[e.ERROR.API.SAS.CONCURRENT_STREAMS]="You have exceeded the maximum number of concurrent streams",t[e.ERROR.API.SAS.INVALID_HEARTBEAT]="Invalid heartbeat response",t[e.ERROR.API.SAS.ERROR_INVALID_ENTITLEMENTS]="User Entitlement Terminated - Stream No Longer Active for the User",t[e.ERROR.API.CONTENT_TREE]="Invalid Content",t[e.ERROR.API.METADATA]="Invalid Metadata",t[e.ERROR.PLAYBACK.GENERIC]="Could not play the content",t[e.ERROR.PLAYBACK.STREAM]="This video isn't encoded for your device",t[e.ERROR.PLAYBACK.LIVESTREAM]="Live stream is off air",t[e.ERROR.PLAYBACK.NETWORK]="Network connection temporarily lost",t[e.ERROR.UNPLAYABLE_CONTENT]="This video is not playable on this player",t[e.ERROR.INVALID_EXTERNAL_ID]="Invalid External ID",t[e.ERROR.EMPTY_CHANNEL]="This channel is empty",t[e.ERROR.EMPTY_CHANNEL_SET]="This channel set is empty",t[e.ERROR.CHANNEL_CONTENT]="This channel is not playable at this time",t[e.ERROR.VC_PLAY_FAILED]="This video is not encoded for your device",t[e.TEXT.ADS_COUNTDOWN]="Advertisement: Your Video will resume shortly",t[e.TEXT.ADS_COUNTDOWN_SECONDS]="Advertisement: Your Video will resume in <%= time %> <%= seconds %>",t[e.TEXT.LIVE]="LIVE",i[e.ERROR.API.NETWORK]="No se puede contactar al servidor",i[e.ERROR.API.SAS.GENERIC]="Respuesta de autorizaciÃ³n no vÃ¡lida",i[e.ERROR.API.SAS.GEO]="El vÃ­deo no estÃ¡ autorizado en su ubicaciÃ³n",i[e.ERROR.API.SAS.DOMAIN]="El vÃ­deo no estÃ¡ autorizado para su dominio",i[e.ERROR.API.SAS.FUTURE]="El vÃ­deo estarÃ¡ disponible pronto",i[e.ERROR.API.SAS.PAST]="El vÃ­deo ya no estÃ¡ disponible",i[e.ERROR.API.SAS.DEVICE]="El vÃ­deo no estÃ¡ autorizado para reproducirse en este dispositivo",i[e.ERROR.API.SAS.PROXY]="Se detectÃ³ un proxy anÃ³nimo. Deshabilite el proxy e intente nuevamente.",i[e.ERROR.API.SAS.CONCURRENT_STREAMS]="Ha superado la cantidad mÃ¡xima de transmisiones concurrentes",i[e.ERROR.API.SAS.INVALID_HEARTBEAT]="Respuesta de pulso no vÃ¡lida",i[e.ERROR.API.SAS.ERROR_INVALID_ENTITLEMENTS]="La suscripciÃ³n del usuario a terminado - El video ya no estÃ¡ disponible para el usuario",i[e.ERROR.API.CONTENT_TREE]="Contenido no vÃ¡lido",i[e.ERROR.API.METADATA]="Metadatos no vÃ¡lidos",i[e.ERROR.PLAYBACK.GENERIC]="No se pudo reproducir el contenido",i[e.ERROR.PLAYBACK.STREAM]="El vÃ­deo no estÃ¡ codificado para su dispositivo",i[e.ERROR.PLAYBACK.LIVESTREAM]="La transmisiÃ³n en vivo estÃ¡ fuera del aire",i[e.ERROR.PLAYBACK.NETWORK]="La conexiÃ³n de red se halla temporalmente perdida",i[e.ERROR.UNPLAYABLE_CONTENT]="El vÃ­deo no se puede reproducir en este reproductor",i[e.ERROR.INVALID_EXTERNAL_ID]="ID externo no vÃ¡lido",i[e.ERROR.EMPTY_CHANNEL]="El canal estÃ¡ vacÃ­o",i[e.ERROR.EMPTY_CHANNEL_SET]="El conjunto de canales estÃ¡ vacÃ­o",i[e.ERROR.CHANNEL_CONTENT]="El canal no se puede reproducir en este momento",i[e.ERROR.VC_PLAY_FAILED]="El vÃ­deo no estÃ¡ codificado para su dispositivo",i[e.TEXT.ADS_COUNTDOWN]="Anuncio: el vÃ­deo se reanudarÃ¡ en breve",i[e.TEXT.LIVE]="EN VIVO",n[e.ERROR.API.NETWORK]="Impossible de contacter le serveur",n[e.ERROR.API.SAS.GENERIC]="RÃ©ponse d'autorisation non valide",n[e.ERROR.API.SAS.GEO]="Cette vidÃ©o n'est pas autorisÃ©e dans votre pays",n[e.ERROR.API.SAS.DOMAIN]="Cette vidÃ©o n'est pas autorisÃ©e pour votre domaine",n[e.ERROR.API.SAS.FUTURE]="Cette vidÃ©o sera bientÃ´t disponible",n[e.ERROR.API.SAS.PAST]="Cette vidÃ©o n'est plus disponible",n[e.ERROR.API.SAS.DEVICE]="La lecture de cette vidÃ©o n'est pas autorisÃ©e sur cet appareil",n[e.ERROR.API.SAS.PROXY]="Un proxy anonyme a Ã©tÃ© dÃ©tectÃ©. DÃ©sactivez le proxy, puis rÃ©essayez.",n[e.ERROR.API.SAS.CONCURRENT_STREAMS]="Vous avez dÃ©passÃ© le nombre maximum de flux simultanÃ©s.",n[e.ERROR.API.SAS.INVALID_HEARTBEAT]="RÃ©ponse du signal de pulsation ('heartbeat') non valide",n[e.ERROR.API.CONTENT_TREE]="Contenu non valide",n[e.ERROR.API.METADATA]="MÃ©tadonnÃ©es non valides",n[e.ERROR.PLAYBACK.GENERIC]="Impossible de lire le contenu",n[e.ERROR.PLAYBACK.STREAM]="Cette vidÃ©o n'est pas encodÃ©e pour votre appareil",n[e.ERROR.PLAYBACK.LIVESTREAM]="Le flux direct a Ã©tÃ© interrompu",n[e.ERROR.PLAYBACK.NETWORK]="Connexion au rÃ©seau temporairement interrompue",n[e.ERROR.UNPLAYABLE_CONTENT]="Vous ne pouvez pas lire cette vidÃ©o sur ce lecteur",n[e.ERROR.INVALID_EXTERNAL_ID]="Identifiant externe non valide",n[e.ERROR.EMPTY_CHANNEL]="Cette chaÃ®ne est vide",n[e.ERROR.EMPTY_CHANNEL_SET]="Ce groupe de chaÃ®nes est vide",n[e.ERROR.CHANNEL_CONTENT]="Vous ne pouvez pas lire cette chaÃ®ne pour le moment",n[e.ERROR.VC_PLAY_FAILED]="Cette vidÃ©o n'est pas encodÃ©e pour votre appareil",n[e.TEXT.ADS_COUNTDOWN]="PublicitÃ© : votre vidÃ©o reprendra bientÃ´t",n[e.TEXT.LIVE]="EN DIRECT",a[e.ERROR.API.NETWORK]="å¾Œã§ã”ç¢ºèªãã ã•ã„ã€‚",a[e.ERROR.API.SAS.GENERIC]="ãƒ“ãƒ‡ã‚ªã‚’èªè¨¼ã§ãã¾ã›ã‚“ã€‚",a[e.ERROR.API.SAS.GEO]="ã“ã®åœ°åŸŸã§ã¯ã“ã®ãƒ“ãƒ‡ã‚ªã¯è¨±å¯ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚",a[e.ERROR.API.SAS.DOMAIN]="ãŠä½¿ã„ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ã¯ã“ã®ãƒ“ãƒ‡ã‚ªã¯è¨±å¯ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚",a[e.ERROR.API.SAS.FUTURE]="ã“ã®ãƒ“ãƒ‡ã‚ªã¯ã—ã°ã‚‰ãã™ã‚‹ã¨å†ç”Ÿå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚",a[e.ERROR.API.SAS.PAST]="ã“ã®ãƒ“ãƒ‡ã‚ªã¯ã€æ—¢ã«å¾¡åˆ©ç”¨ã„ãŸã ã‘ã¾ã›ã‚“ã€‚",a[e.ERROR.API.SAS.DEVICE]="ã“ã®ãƒ“ãƒ‡ã‚ªã¯ã€ã“ã®ãƒ‡ãƒã‚¤ã‚¹ã§ã®å†ç”Ÿã¯è¨±å¯ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚",a[e.ERROR.API.SAS.CONCURRENT_STREAMS]="æœ€å¤§åŒæ™‚æŽ¥ç¶šæ•°ã‚’è¶…ãˆã¦ã„ã¾ã™ã€‚",a[e.ERROR.API.SAS.INVALID_HEARTBEAT]="åŒæ™‚å†ç”Ÿã‚¹ãƒˆãƒªãƒ¼ãƒ ã®æœ€å¤§æ•°ã«é”ã—ã¾ã—ãŸã€‚",a[e.ERROR.API.CONTENT_TREE]="ä¸æ­£ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã§ã™ã€‚",a[e.ERROR.API.METADATA]="ä¸æ­£ãªãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã§ã™ã€‚",a[e.ERROR.PLAYBACK.GENERIC]="ã“ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å†ç”Ÿã§ãã¾ã›ã‚“ã§ã—ãŸã€‚",a[e.ERROR.PLAYBACK.STREAM]="ã“ã®ãƒ“ãƒ‡ã‚ªã¯ã€ãŠä½¿ã„ã®ãƒ‡ãƒã‚¤ã‚¹å‘ã‘ã«ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚",a[e.ERROR.PLAYBACK.LIVESTREAM]="ãƒ©ã‚¤ãƒ–é…ä¿¡ã¯ã•ã‚Œã¦ãŠã‚Šã¾ã›ã‚“ã€‚",a[e.ERROR.PLAYBACK.NETWORK]="ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ä¸€æ™‚çš„ã«æŽ¥ç¶šã§ãã¾ã›ã‚“ã€‚",a[e.ERROR.UNPLAYABLE_CONTENT]="ã“ã®ãƒ“ãƒ‡ã‚ªã¯ã€ã“ã®ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã§ã¯å†ç”Ÿã§ãã¾ã›ã‚“ã€‚",a[e.ERROR.INVALID_EXTERNAL_ID]="External IDãŒä¸æ­£ã§ã™ã€‚",a[e.ERROR.EMPTY_CHANNEL]="ã“ã®ãƒãƒ£ãƒ³ãƒãƒ«ã¯ç©ºã§ã™ã€‚",a[e.ERROR.EMPTY_CHANNEL_SET]="ã“ã®ãƒãƒ£ãƒ³ãƒãƒ«ã‚»ãƒƒãƒˆã¯ç©ºã§ã™ã€‚",a[e.ERROR.CHANNEL_CONTENT]="ã“ã®ãƒãƒ£ãƒ³ãƒãƒ«ã¯ã€ç¾åœ¨å†ç”Ÿã§ãã¾ã›ã‚“ã€‚",a[e.ERROR.VC_PLAY_FAILED]="ã“ã®ãƒ“ãƒ‡ã‚ªã¯ã€ãŠä½¿ã„ã®ãƒ‡ãƒã‚¤ã‚¹å‘ã‘ã«ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚",a[e.TEXT.ADS_COUNTDOWN]="åºƒå‘Šï¼š",a[e.TEXT.ADS_COUNTDOWN_SECONDS]="åºƒå‘Š: <%= time %>æ•°ç§’å¾Œã«ãƒ“ãƒ‡ã‚ªã®å†ç”ŸãŒé–‹å§‹ã—ã¾ã™",a[e.TEXT.LIVE]="ãƒ©ã‚¤ãƒ–",e.getLocalizedMessage=function(t){var i=e.getLocale();return(e.MESSAGES[i]?e.MESSAGES[i][t]:void 0)||e.MESSAGES.EN[t]||""}}(OO),function(e){e.stylus_css={"root.styl":"#<%= elementId %>>div{width:0;height:0;position:relative;z-index:10000;overflow:hidden}#<%= elementId %> .innerWrapper{background:#000;text-align:left}#<%= elementId %> .innerWrapper:-webkit-full-screen{width:100%;height:100%}#<%= elementId %> .innerWrapper:-webkit-full-screen video{width:100%}#<%= elementId %> .innerWrapper.fullscreen{position:fixed;top:0;left:0;width:100%;height:100%;background:#fff}#<%= elementId %> .oo_playhead{-ms-touch-action:none}",__end_marker:1}}(OO),OO.VERSION.core.rev="b92f1d4473bfa4b8108790762a600b7199e1929c",function(e){e.get_css=function(t){return e.stylus_css&&t?e.stylus_css[t+".styl"]:null}}(OO),function(e,t,i){e.getRandomString=function(){return Math.random().toString(36).substring(7)},e.safeClone=function(n){if(t.isNumber(n)||t.isString(n)||t.isBoolean(n)||t.isFunction(n)||t.isNull(n)||t.isUndefined(n))return n;var a=n instanceof Array?[]:{};try{i.extend(!0,a,n)}catch(r){e.log("deep clone error",r)}return a},e.d=function(){e.isDebug&&e.log.apply(e,arguments),e.$("#OOYALA_DEBUG_CONSOLE").append(JSON.stringify(e.safeClone(arguments))+"<br>")},e.inherit=function(t,i){if("function"!=typeof t)return e.log("invalid inherit, ParentClass need to be a class",t),null;var n=function(){t.apply(this,arguments),"function"==typeof i&&i.apply(this,arguments)},a=new t;return e._.extend(n.prototype,a),n.prototype.parentClass=a,n};var n={};e.attachStyle=function(e,t){var a=i('<style type="text/css">'+e+"</style>").appendTo("head");n[t]=n[t]||[],n[t].push(a)},e.removeStyles=function(t){e._.each(n[t],function(e){e.remove()})},e.getInnerProperty=function(e,i){for(var n=e,a=i;a.length>0;){var r=a.shift();if(t.isNull(n)||!t.isObject(n)||t.isFunction(n)||t.isArray(n))return null;n=n[r]}return n},e.formatSeconds=function(e){var t=parseInt(e,10)%60,i=parseInt(e/3600,10),n=parseInt((e-3600*i)/60,10);return 10>i&&(i="0"+i),10>n&&(n="0"+n),10>t&&(t="0"+t),parseInt(i,10)>0?i+":"+n+":"+t:n+":"+t},e.timeStringToSeconds=function(e){var i=(e||"").split(":");return t.reduce(i,function(e,t){return 60*e+parseInt(t,10)},0)},e.leftPadding=function(e,t){for(var i="0",n=e?e.toString():"";n.length<t;)n=i+n;return n},e.getColorString=function(t){return"#"+e.leftPadding(t.toString(16),6).toUpperCase()},e.hexToRgb=function(e){var t=(16711680&e)>>16,i=(65280&e)>>8,n=255&e;return[t,i,n]},e.changeColor=function(t,i,n){var a=n?Math.max:Math.min,r=n?0:255,s=Math.round(255*i)*(n?-1:1),o=e.hexToRgb(t);return[e.leftPadding(a(o[0]+s,r).toString(16),2),e.leftPadding(a(o[1]+s,r).toString(16),2),e.leftPadding(a(o[2]+s,r).toString(16),2)].join("")},e.decode64=function(e){e=e.replace(/\n/g,"");var t,i="",n=0,a=[],r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";if(window.atob)return atob(e);do{for(t=0;4>t;t++)a[t]=r.indexOf(e.charAt(n++));i+=String.fromCharCode(a[0]<<2|a[1]>>4,64==a[2]?0:(15&a[1])<<4|a[2]>>2,64==a[3]?0:(3&a[2])<<6|a[3])}while(n<e.length);return i.replace(/\0/g,"")},e.pixelPing=function(t){var i=new Image;i.onerror=i.onabort=function(){e.d("onerror:",t)},i.src=e.getNormalizedTagUrl(t)},e.pixelPings=function(i){t.isEmpty(i)||t.each(i,function(t){e.pixelPing(t)},this)},e.stringToBoolean=function(e){return"string"==typeof e?e.toLowerCase().indexOf("true")>-1||e.toLowerCase().indexOf("yes")>-1:!!e},e.regexEscape=function(e){var t=/[<>()\[\]{}]/g;return e.replace(t,"\\$&")},e.getNormalizedTagUrl=function(i,n){var a=(new Date).getTime(),r=escape(document.URL),s=function(n,a){t.each(n,function(t){var n=new RegExp("("+e.regexEscape(t)+")","gi");i=i.replace(n,a)},this)};return s(e.TEMPLATES.RANDOM_PLACE_HOLDER,a),s(e.TEMPLATES.REFERAK_PLACE_HOLDER,r),n&&s(e.TEMPLATES.EMBED_CODE_PLACE_HOLDER,n),i},e.safeSeekRange=function(e){return{start:e.length>0?e.start(0):0,end:e.length>0?e.end(0):0}},e.loadedJS=e.loadedJS||{},e.jsOnSuccessList=e.jsOnSuccessList||{},e.safeFuncCall=function(t){if("function"==typeof t)try{t.apply()}catch(i){e.log("Can not invoke function!",i)}},e.loadScriptOnce=function(t,n,a,r){return e.jsOnSuccessList[t]=e.jsOnSuccessList[t]||[],e.loadedJS[t]?("loaded"===e.loadedJS[t]?e.safeFuncCall(n):"loading"===e.loadedJS[t]&&e.jsOnSuccessList[t].unshift(n),!1):(e.loadedJS[t]="loading",i.ajax({url:t,type:"GET",cache:!0,dataType:"script",timeout:r||15e3,success:function(){e.loadedJS[t]="loaded",e.jsOnSuccessList[t].unshift(n),e._.each(e.jsOnSuccessList[t],function(t){e.safeFuncCall(t)},this),e.jsOnSuccessList[t]=[]},error:function(){e.safeFuncCall(a)}}),!0)};try{e.localStorage=window.localStorage}catch(a){e.log(a)}e.localStorage||(e.localStorage={getItem:function(e){return e&&this.hasOwnProperty(e)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},key:function(e){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[e])},setItem:function(e,t){e&&(document.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/",this.length=document.cookie.match(/\=/g).length)},length:0,removeItem:function(e){e&&this.hasOwnProperty(e)&&(document.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",this.length--)},hasOwnProperty:function(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}},e.localStorage.length=(document.cookie.match(/\=/g)||e.localStorage).length),e.setItem=function(t,i){try{e.localStorage.setItem(t,i)}catch(n){e.log(n)}},e.JSON=window.JSON}(OO,OO._,OO.$),function(e,t){e.Emitter=function(e){this.mb=e,this._subscribers={}},t.extend(e.Emitter.prototype,{on:function(e,t,i){this._subscribers[e]=this._subscribers[e]||[],this._subscribers[e].push({callback:i,subscriber:t})},off:function(e,i,n){this._subscribers[e]=t.reject(this._subscribers[e]||[],function(e){return(e.callback==n||void 0===n)&&e.subscriber===i})},trigger:function(e){t.each(this._subscribers[e]||[],t.bind(this._triggerSubscriber,this,e,arguments)),t.each(this._subscribers["*"]||[],t.bind(this._triggerSubscriber,this,e,arguments))},_triggerSubscriber:function(t,i,n){try{n.callback.apply(this,i)}catch(a){var r=a.stack||"unavailable";e.log("Uncaught exception",a,"Stack",r,"triggering subscriber",n,"with event",t,"Parameters: ",i)}},__placeholder:!0})}(OO,OO._),function(e,t){e.MessageBus=function(){this._emitter=new e.Emitter(this),this._dependentEmitter=new e.Emitter(this),this._interceptEmitter=new e.Emitter(this),this._interceptArgs={},this._dependentList={},this._blockList={},this._readyEventList={},this._dispatching=!1,this._publishingQueue=[],this.blockedEvent={},this.blockedParams={},this._messageHistory=[],this._tracer=t.bind(this._internalTracer,this),this.MbId=e.getRandomString(),this.debug=!1},t.extend(e.MessageBus.prototype,{addTracer:function(e){e&&t.isFunction(e)&&(this._tracer=this._tracer?t.wrap(this._tracer,function(){e.apply(this,t.rest(arguments))}):e)},_internalTracer:function(){this._messageHistory.push(t.toArray(arguments))},messageTraceSnapshot:function(){return t.toArray(this._messageHistory)},addDependent:function(i,n,a,r){if(!i||""==i||!n||""==n)return void console.error("MB: addDependent called on message bus from subscriber "+a+" with no event name given.");this.debug&&e.log("MB DEBUG: '"+i+"' depends on '"+n+"'. Added by '"+a+"'"),this._dependentList[i]=this._dependentList[i]||[],this._dependentList[i].push(n),this._blockList[n]=this._blockList[n]||[],this._blockList[n].push(i),this.blockedParams[i]=[];var s=e._.bind(function(a){if(1==this.blockedEvent[a]){var s=e.safeClone(t.flatten(arguments)),o=e.safeClone(this.blockedParams[i]);s.shift(),o.shift();var l=r&&r.apply(this,[i,n,o,s])||o;l=[a].concat(l),delete this.blockedEvent[a],this.blockedParams[a]=[],this.debug&&e.log("MB DEBUG: unblocking '"+a+"' because of '"+n+"' with args ",l),this._publish.apply(this,l)}},this);this._dependentEmitter.on(i,a,s)},removeDependent:function(t,i){return t&&""!=t&&i&&""!=i?(this.debug&&e.log("MB DEBUG: '"+t+"' no longer depends on '"+i+"'"),void this._clearDependent(t,i)):void console.warn("MB: removeDependent called on message bus with no event name given.")},publish:function(){if(!arguments||!arguments[0]||""==arguments[0])return void console.error("MB: publish called on message bus with no event name given.");var i=e.safeClone(t.flatten(arguments));if(this._publishingQueue.push(i),this.debug&&e.log("MB DEBUG: queueing '"+arguments[0]+"' w/ args",i),!this._dispatching){this._dispatching=!0;for(var n=this._publishingQueue.shift();n;)this._publish.apply(this,n),n=this._publishingQueue.shift();this._dispatching=!1}},_publish:function(i){this._readyEventList[i]=1;var n=e.safeClone(t.flatten(arguments));if(this._interceptEmitter.trigger.apply(this._interceptEmitter,n),this._interceptArgs[i]===!1)return void(this._interceptArgs[i]=!0);if(this._interceptArgs[i]&&(n=t.flatten([i,this._interceptArgs[i]])),this._tracer&&t.isFunction(this._tracer)){var a=t.flatten(["publish"].concat(n));this._tracer.apply(this._tracer,a)}this._noDependency(i)?(this.debug&&e.log("MB DEBUG: publishing '"+i+"' w/ args ",n),this._emitter.trigger.apply(this._emitter,n),t.each(this._blockList[i],function(e){this._clearDependent(e,i),n[0]=e,this._dependentEmitter.trigger.apply(this._dependentEmitter,n)},this),delete this._blockList[i]):(this.debug&&e.log("MB DEBUG: blocking '"+i+"' because of '"+this._dependentList?this._dependentList[i]:"[null]'"),this.blockedEvent[i]=1,this.blockedParams[i]=n)},intercept:function(i,n,a){this._interceptEmitter.on(i,n,t.bind(function(){if(!i||""==i)return void console.error("MB: intercept called on message bus from subscriber "+n+" with no event name given.");var r=e.safeClone(t.flatten(arguments));0!=this._interceptArgs[i]&&(this._interceptArgs[i]=a.apply(this,r))},this)),this._interceptArgs[i]=[i]},subscribe:function(e,t,i){return e&&""!=e?void this._emitter.on(e,t,i):void console.error("MB: subscribe called on message bus from subscriber "+t+" with no event name given.")},unsubscribe:function(e,t,i){return e&&""!=e?void this._emitter.off(e,t,i):void console.error("MB: unsubscribe called on message bus from subscriber "+t+" with no event name given.")},_noDependency:function(e){return this._dependentList[e]?0===this._dependentList[e].length:!0},_clearDependent:function(t,i){var n=this._dependentList[t];this._dependentList[t]=e._.filter(n,function(e){return e!==i},this)},startDebug:function(){return this.debug=!0,"MB DEBUGGING STARTED"},stopDebug:function(){return this.debug=!1,"MB DEBUGGING STOPPED"},listDependencies:function(){var e,t="------------------------------------\n[blocked] Message --> Dependency\n------------------------------------\n";if(this._dependentList)for(var i in this._dependentList)if(this._dependentList[i])for(e=0;e<this._dependentList[i].length;e++)1==this.blockedEvent[i]&&(t+="[blocked]"),t+=i+" --> "+this._dependentList[i]+"\n";return t+="------------------------------------"}})}(OO,OO._),function(e,t){e.StateMachine={create:function(i){var n,a=e.HM.safeObject("statemachine.create.cfg",i),r=e.HM.safeDomId("statemachine.create.cfg.initial",a.initial),s=e.HM.safeObject("statemachine.create.cfg.target",a.target,{}),o=e.HM.safeArrayOfElements("statemachine.create.cfg.events",a.events,function(t){return e.HM.safeObject("statemachine.create.cfg.events[]",t)},[]),l=e.HM.safeString("statemachine.create.cfg.moduleName",a.moduleName,""),u=e.HM.safeObject("statemachine.create.cfg.messageBus",a.messageBus),d={};s.debugTransitions=!1;var c="";e.StateMachine.addToActiveList(a.moduleName,s);var h=function(t){var i=null,n=t.replace(/[^\/]*\//,"").match(/^(.)(.*)/),a="on"+n[1].toUpperCase()+n[2];if(s[a])i=s[a];else{var r=t.replace(/\/.*/,"").match(/^(.)(.*)/),o="on"+r[1].toUpperCase()+r[2]+n[1].toUpperCase()+n[2];s[o]&&(i=s[o])}if(i)try{var l=i.apply(s,arguments);return l!==!1?"ok":"fail"}catch(u){if(e.log(u),e.TEST_TEST_TEST)throw u;return"fail"}return"not_found"},p=function(e){var t,i=e.from instanceof Array?e.from:e.from?[e.from]:["*"];for(d[e.name]=d[e.name]||{},t=0;t<i.length;t++)d[e.name][i[t]]=e.to||i[t]};s.removeEvent=function(e){d[e]&&(d[e]=null)},s.destroyFsm=function(){e.StateMachine.removeFromActiveList(this.moduleName,this);for(n in d)u.unsubscribe(n.toString(),l,s.receive);a=null,r=null,s=null,o=null,l=null,u=null,d={}};var E=function(t,i){t&&"*"!==i&&(t.debugTransitions&&e.log("Transition "+(l?l:"")+"\n  OldState: "+(t.currentState?t.currentState:"")+"\n  NewState: "+(i?i:"")+"\n  CausedBy: "+(c?c:"")),t.currentState=i)};for(s.canReceive=function(e){return d[e]&&(d[e].hasOwnProperty(s.currentState)||d[e].hasOwnProperty("*"))},s.receive=function(i){if(s){if(!s.canReceive(i))return void e.log("dropped event '"+arguments[0]+"' for '"+l+"' while in state '"+s.currentState+"' with map:",d);c=arguments[0];var n=s.currentState,a=d[i][n]||d[i]["*"]||n;if(n===a)return void h.apply(s,arguments);E(s,a);var r="not_found";switch("*"!==a&&(r=h.apply(s,t.union([a],t.rest(arguments)))),"not_found"===r&&(r=h.apply(s,arguments)),r){case"not_found":e.log("Module '"+l+"' does not handle state '"+a+"' or event '"+arguments[0]+"'"),E(s,n);break;case"fail":E(s,n);break;case"ok":}}},n=0;n<o.length;n++)"object"==typeof o[n]&&p(o[n]);if(E(s,r),void 0!==u)for(n in d)u.subscribe(n.toString(),l,s.receive);return s},activeStateMachines:{},addToActiveList:function(e,t){this.activeStateMachines[e]||(this.activeStateMachines[e]=[]),this.activeStateMachines[e].push(t)},removeFromActiveList:function(e,t){var i=this.activeStateMachines[e];if(i)for(var n=0;n<i.length;n++)if(i[n]===t){i.splice(n,1);break}},startDebugTransitionsFor:function(e){var t,i=this.debugTransitionsHelper(e,!0);return t=i?"STATEMACHINE '"+e+"' DEBUGGING STARTED":"Couldn't find '"+e+"'"},stopDebugTransitionsFor:function(e){var t,i=this.debugTransitionsHelper(e,!1);return t=i?"STATEMACHINE '"+e+"' DEBUGGING STOPPED":"Couldn't find '"+e+"'"},debugTransitionsHelper:function(e,t){var i=this.activeStateMachines[e];if(!i)return!1;for(var n=0;n<i.length;n++)i[n].debugTransitions=t;return!0},getActiveList:function(){var e={};for(var t in this.activeStateMachines)e[t]=this.activeStateMachines[t].length;return e},__end_marker:!0}}(OO,OO._),function(e){e.modules=[],e.registerModule=function(t,i){var n=e.HM.safeDomId("moduleName",t,e.HM.fixDomId),a=e.HM.safeFunction("moduleFactoryMethod",i);e.modules.push({name:n,factory:a})},e.plugin=function(t,i){e.log("Registered optional plugin: ",t),e.registerModule(t,function(t,n){var a=i.apply({},[e,e._,e.$,window]),r=new a(t,n);return r})},e.exposeStaticApi=function(t,i){var n=e.HM.safeDomId("apiModule",t),a=e.HM.safeObject("apiObject",i);e.publicApi[n]=e.publicApi[n]||{},e._.extend(e.publicApi[n],a)}}(OO,OO._,OO.$),function(e,t,i){e.players={},e.Player=function(n,a,r){r=r||{};var s=e.HM.safeDomId("Player.create.elementId",n),o=e.HM.safeObject("Player.create.parameters",r,{}),l={closedCaptionOptions:{}};o.onCreate=e.HM.safeFunctionOrNull("Player.create.parameters.onCreate",o.onCreate);var u=new e.MessageBus;i("#"+s).html("");var d=e._.map(e.modules,function(t){var i=t.name+"-"+e.getRandomString(),n={name:t.name,moduleId:i,instance:t.factory(u,i,o)};return e.log("Loaded plugin",n.moduleId,n),n}),c=e.localStorage.getItem(e.CONSTANTS.OOYALA_PLAYER_SETTINGS_KEY);c&&(l=JSON.parse(c));var h=new e.PlayerApi(u,n,d,o,l);return u.subscribe(e.EVENTS.DESTROY,"player",t.bind(function(){i("#"+s).empty(),delete e.players[s],e.removeStyles(s),h.triggerDestroyCallback()},this)),t.isFunction(o.onCreate)&&o.onCreate(h),u.publish(e.EVENTS.PLAYER_CREATED,s,o,l),"object"==typeof a?(a=e.HM.safeObject("assetObject",a),h.setAsset(a,o)):"string"==typeof a&&(a=e.HM.safeStringOrNull("assetString",a),h.setEmbedCode(a,o)),h},e.exposeStaticApi("Player",{create:function(t,i,n){return n=n||{},!e.playerParams.core_version||"4"!==e.playerParams.core_version&&4!==e.playerParams.core_version?(console.error("Error: A v4 player has been specified using a mismatch route. v4 players can only be used with a v4 route."),null):(e.configurePublisher(n),e.isPublisherConfigured()?(e.setServerHost(n),e.players[t]||(e.playerCount++,e.players[t]=e.Player(t,i,n)),e.DEBUG!==!1&&e.DEBUG!==!0&&(e.DEBUG=n.debug===!0,e.DEBUG===!0&&(this.exposeDebugApi(t,e.players[t]),this.enableDebugTools(t,n.enableDebugTools))),e.players[t]):(console.error("Error: pcode and playerBrandingId must be provided"),null))},isolate:function(i){var n="http://debug.ooyala.com/?",a=e.playerParams.playerBrandingId;a&&(n+="pbid="+a+"&");var r;if(i)r=e.players[i];else{if(e.playerCount>1)return console.log("More than one player to choose.  Please specify the target div of the intended player as a parameter"),console.log("Available players are: ",t.keys(e.players)),t.keys(e.players);if(e.playerCount<1)return console.log("There are no players on the page to isolate"),"";r=t.values(e.players)[0]}var s=JSON.stringify(r.parameters),o=r.embedCode;s&&(n+="options="+encodeURIComponent(s)+"&"),o&&(n+="ec="+o+"&"),"local-dev"!==e.playerParams.environment&&"default"!==e.playerParams.v3_version_source&&(n+="version="+e.playerParams.v3_version+"&");var l=e.environmentRequiredFeatures;return l.indexOf("html5-playback")>-1&&(n+="useHtml5=true&"),console.log("If you are copying this link, do not highlight. right click and press 'copy link address'"),n},exposeDebugApi:function(t,n){e.publicApi&&(e.publicApi.DEBUG||(e.publicApi.DEBUG={}),e.publicApi.DEBUG.consoleOutput=e.consoleOutput,e.publicApi.DEBUG.startRecordingConsoleOutput=e.startRecordingConsoleOutput,e.publicApi.DEBUG.stopRecordingConsoleOutput=e.stopRecordingConsoleOutput,e.publicApi.DEBUG.clearRecordedConsoleOutput=e.clearRecordedConsoleOutput,e.publicApi.DEBUG.setMaxConsoleOutputLines=e.setMaxConsoleOutputLines,e.publicApi.DEBUG.listStateMachines=e._.bind(e.StateMachine.getActiveList,e.StateMachine),e.publicApi.DEBUG.startDebugStateMachine=e._.bind(e.StateMachine.startDebugTransitionsFor,e.StateMachine),e.publicApi.DEBUG.stopDebugStateMachine=e._.bind(e.StateMachine.stopDebugTransitionsFor,e.StateMachine),e.publicApi.DEBUG[t]=e.publicApi.DEBUG[t]||{},e.publicApi.DEBUG[t].startDebugMB=e._.bind(n.mb.startDebug,n.mb),e.publicApi.DEBUG[t].stopDebugMB=e._.bind(n.mb.stopDebug,n.mb),e.publicApi.DEBUG[t].listMBDependencies=e._.bind(n.mb.listDependencies,n.mb),i.extend(e.publicApi.DEBUG[t],e.debug_tools[t]))},enableDebugTools:function(t,i){if(e.publicApi&&e.publicApi.DEBUG&&i&&t){if(i.hasOwnProperty("startRecordingConsoleOutput")){var n=i.startRecordingConsoleOutput;e.publicApi.DEBUG.startRecordingConsoleOutput(n)}if(e._.isFinite(i.setMaxConsoleOutputLines)&&e.publicApi.DEBUG.setMaxConsoleOutputLines(i.setMaxConsoleOutputLines),i.hasOwnProperty("startDebugStateMachine")&&e._.isString(i.startDebugStateMachine)){var a=[];if("all"===i.startDebugStateMachine){a=e.publicApi.DEBUG.listStateMachines();for(var r in a)a.hasOwnProperty(r)&&e.publicApi.DEBUG.startDebugStateMachine(r)}else{a=i.startDebugStateMachine.split(",");for(var s in a)if(a.hasOwnProperty(s)){var r=a[s].trim();e.publicApi.DEBUG.startDebugStateMachine(r)}}}i.startDebugMB===!0&&e.publicApi.DEBUG[t].startDebugMB()}},__placeholder:0})}(OO,OO._,OO.$),function(e,t){e.PlayerApi=function(i,n,a,r,s){this.mb=i,this.modules=a,this.parameters=r,this.persistentSettings=s;var o=n,l=!1,u=!1,d=!1,c=-1,h=!1,p=-1,E=-1,f=-1,g=null,y=-1,T={},m={},_=null,O=null,A=!1,I=null,v=e.STATE.LOADING,S=0,b=!1,N=1,D=!1,R=!1,C=null,L=function(){A=!0,D=!1,R=!1},P=function(){l=!1,u=!1,d=!1,v=e.STATE.LOADING,c=-1,h=!1,p=-1,E=-1,f=-1,g=null,y=-1,T={},m={},_=null,O=null,A=!1,R=!1};this.mb.subscribe(e.EVENTS.PLAYBACK_READY,"player",t.bind(function(){v=e.STATE.READY,l=!0,D&&this.play()},this)),this.mb.subscribe(e.EVENTS.REPLAY,"player",t.bind(function(){L()},this)),this.mb.subscribe(e.EVENTS.PLAY,"player",t.bind(function(){L()},this)),this.mb.subscribe(e.EVENTS.INITIAL_PLAY,"player",t.bind(function(){L()},this)),this.mb.subscribe(e.EVENTS.PLAYING,"player",t.bind(function(){v!=e.STATE.ERROR&&(v=e.STATE.PLAYING,A=!0,d=!0),R=!1},this)),this.mb.subscribe(e.EVENTS.PAUSED,"player",t.bind(function(){v!=e.STATE.ERROR&&(v=e.STATE.PAUSED),d=!1},this)),this.mb.subscribe(e.EVENTS.BUFFERING,"player",t.bind(function(){v!=e.STATE.ERROR&&(v=e.STATE.BUFFERING)},this)),this.mb.subscribe(e.EVENTS.BUFFERED,"player",t.bind(function(){v===e.STATE.BUFFERING&&(v=d?e.STATE.PLAYING:e.STATE.PAUSED)},this)),this.mb.subscribe(e.EVENTS.PLAYED,"player",t.bind(function(){v=e.STATE.READY,R=!0,d=!1},this)),this.mb.subscribe(e.EVENTS.WILL_PLAY_ADS,"player",t.bind(function(e,t){E=t,A=!0,u=!0,R=!1},this)),this.mb.subscribe(e.EVENTS.ADS_PLAYED,"player",t.bind(function(){E=-1,u=!1},this)),this.mb.subscribe(e.EVENTS.CONTENT_TREE_FETCHED,"player",t.bind(function(e,t){if(g=t,t){var i=Number(t.duration);isNaN(i)||(p=i/1e3)}},this)),this.mb.subscribe(e.EVENTS.WILL_FETCH_AUTHORIZATION,"player",t.bind(function(){y=(new Date).getTime()},this)),this.mb.subscribe(e.EVENTS.AUTHORIZATION_FETCHED,"player",t.bind(function(e,t){if(t.debug_data&&t.debug_data.user_info){var i=(new Date).getTime(),n=(i-y-t.debug_data.server_latency)/2;S=1e3*t.debug_data.user_info.request_timestamp+n-i}},this)),this.mb.subscribe(e.EVENTS.VC_CREATE_VIDEO_ELEMENT,"player",t.bind(function(t,i,n){i===e.VIDEO.MAIN&&(h=n?n.isLive:!1)},this)),this.mb.subscribe(e.EVENTS.PLAYHEAD_TIME_CHANGED,"player",t.bind(function(e,t,i,n){c=t,i&&(p=i),f=n,I||(I=(new Date).getTime())},this)),this.mb.subscribe(e.EVENTS.DOWNLOADING,"player",t.bind(function(e,t,i,n){c=t,i&&(p=i),f=n},this)),this.mb.subscribe(e.EVENTS.FULLSCREEN_CHANGED,"player",t.bind(function(e,t){b=t},this)),this.mb.subscribe(e.EVENTS.ERROR,"player",t.bind(function(t,i){_=i,v=e.STATE.ERROR,d=!1},this)),this.mb.subscribe(e.EVENTS.VOLUME_CHANGED,"player",t.bind(function(e,t){N=t},this)),this.mb.subscribe(e.EVENTS.SAVE_PLAYER_SETTINGS,"player",t.bind(function(i,n){t.extend(this.persistentSettings.closedCaptionOptions,n.closedCaptionOptions);var a=JSON.stringify(this.persistentSettings);e.setItem(e.CONSTANTS.OOYALA_PLAYER_SETTINGS_KEY,a)},this)),this.mb.subscribe(e.EVENTS.SET_EMBED_CODE,"player",t.bind(function(e,i,n){this.parameters=t.extend(this.parameters,n),P()},this)),this.mb.subscribe(e.EVENTS.SET_ASSET,"player",t.bind(function(e,i,n){this.parameters=t.extend(this.parameters,n),P()},this)),this.mb.subscribe(e.EVENTS.ASSET_CHANGED,"player",t.bind(function(e,t){g=t.content,p=g.duration},this)),this.mb.subscribe(e.EVENTS.DESTROY,"player",t.bind(function(){v=e.STATE.DESTROYED},this)),this.mb.subscribe(e.EVENTS.BITRATE_INFO_AVAILABLE,"player",t.bind(function(e,t){m=t.bitrates},this)),this.mb.subscribe(e.EVENTS.BITRATE_CHANGED,"player",t.bind(function(e,t){O=t},this)),this.mb.subscribe(e.EVENTS.CLOSED_CAPTIONS_INFO_AVAILABLE,"player",t.bind(function(e,t){T=t},this)),this.setEmbedCode=function(t,i){this.mb.publish(e.EVENTS.SET_EMBED_CODE,t,i||{})},this.setAsset=function(t,i){this.mb.publish(e.EVENTS.SET_ASSET,t,i||{})},this.play=function(){return v!=e.STATE.ERROR?l?void(R?this.mb.publish(e.EVENTS.REPLAY):A?this.mb.publish(e.EVENTS.PLAY):this.mb.publish(e.EVENTS.INITIAL_PLAY,Date.now())):void(D=!0):void 0},this.pause=function(){this.mb.publish(e.EVENTS.PAUSE)},this.seek=function(t){R?this.mb.publish(e.EVENTS.REPLAY,t):this.mb.publish(e.EVENTS.SEEK,t)},this.setVolume=function(t){this.mb.publish(e.EVENTS.CHANGE_VOLUME,t)},this.destroy=t.bind(function(t){t&&"function"==typeof t&&(C=t),this.mb.publish(e.EVENTS.DESTROY)},this),this.triggerDestroyCallback=function(){C&&(C(),C=null)},this.updateAsset=function(t){this.mb.publish(e.EVENTS.UPDATE_ASSET,t)},this.getPlayheadTime=function(){return c},this.getLiveTime=function(){return new Date(I+1e3*c+S)},this.getDuration=function(){return h?1/0:p},this.getAdDuration=function(){return E},this.getBufferLength=function(){return f},this.getItem=function(){return g},this.getDescription=function(){return g?g.description:null},this.getEmbedCode=function(){return g?g.embedCode||g.embed_code||"":null},this.getTitle=function(){return g?g.title:null},this.isFullscreen=function(){return b},this.getErrorCode=function(){return null!=_?_.code:null},this.getState=function(){return v},this.getVolume=function(){return N},this.skipAd=function(){this.mb.publish(e.EVENTS.SKIP_AD)},this.getBitratesAvailable=function(){return m},this.getCurrentBitrate=function(){return O},this.setTargetBitrate=function(t){this.mb.publish(e.EVENTS.SEND_QUALITY_CHANGE,t),this.mb.publish(e.EVENTS.SET_TARGET_BITRATE,t)
},this.getCurrentItemClosedCaptionsLanguages=function(){return T},this.setClosedCaptionsLanguage=function(t){t&&this.mb.publish(e.EVENTS.CHANGE_CLOSED_CAPTION_LANGUAGE,t)},this.subscribe=function(e,i,n){this.mb.subscribe(e,i,function(){var e=t.toArray(arguments);e.unshift(n),t.defer.apply(this,e)})},this.getVersion=function(){return e.VERSION.version},this.getElementId=function(){return o},this.isPlaying=function(){return d},this.isAdPlaying=function(){return u}}}(OO,OO._,OO.$),function(e,t,i){function n(t){if(t.origin===o){if(t.data===l)return clearTimeout(g),void a(h);var i=null;try{i=e.JSON.parse(t.data)}catch(n){}i&&i.callback&&f[i.callback]&&(f[i.callback](i.result),delete f[i.callback])}}function a(e){var t;for(p=e;void 0!=(t=E.pop());)r(t[0],t[1],t[2])}function r(t,i,n){if(p===d)return void E.push(arguments);if(p!==c&&y.contentWindow.postMessage){var a={method:t,arguments:i,callback:Math.random().toString(36).substring(7)};f[a.callback]=n,y.contentWindow.postMessage(JSON.stringify(a),o)}else{var r;r="setItem"==t?e[t].apply(e.localStorage,i):e.localStorage[t].apply(e.localStorage,i),n&&n(r)}}var s=t.template("<%=server%>/ooyala_storage.html")({server:e.SERVER.API}),o=e.SERVER.API,l="LOADED",u=3e3,d=0,c=1,h=2,p=d,E=[],f={},g=null,y=document.createElement("iframe");y.style.display="none",y.src=s,i(document).ready(function(){document.body.appendChild(y),g=setTimeout(function(){a(c)},u)}),window.addEventListener?window.addEventListener("message",n,!1):window.attachEvent&&window.attachEvent("onmessage",n),e.ooyalaStorage={getItem:function(e,t){r("getItem",[e],t)},key:function(e,t){r("key",[e],t)},setItem:function(e,t,i){r("setItem",[e,t],i)},removeItem:function(e,t){r("removeItem",[e],t)},hasOwnProperty:function(e,t){r("hasOwnProperty",[e],t)}},e.TEST_TEST_TEST&&(e.ooyalaStorage._getIframeState=function(){return p})}(OO,OO._,OO.$),function(e,t){callbackQueue=[],e.GUID=void 0,e.ooyalaStorage.getItem("ooyala_guid",t.bind(function(t){for(t?e.GUID=t:(e.GUID=generateDeviceId(),e.ooyalaStorage.setItem("ooyala_guid",e.GUID));void 0!=(callback=callbackQueue.pop());)callback(e.GUID)}),this),e.publicApi.getGuid=e.getGuid=function(t){if(e.GUID){if("function"==typeof t)try{t(e.GUID)}catch(i){}}else callbackQueue.push(t)},generateDeviceId=function(){var t=(new Date).getTime()+window.navigator.userAgent+Math.random().toString(16).split(".")[1];return new e.jsSHA(t,"ASCII").getHash("SHA-256","B64")},e.plugin("DeviceId",function(e){return function(t){t.subscribe(e.EVENTS.PLAYER_CREATED,"DeviceId",function(){e.publicApi.getGuid(function(i){t.publish(e.EVENTS.GUID_SET,i)})})}})}(OO,OO._,OO.$),function(e,t,i){var n=function(t,i){this.id=i,this.mb=t,this.width=0,this.height=0,this.useCustomControls=!e.uiParadigm.match(/mobile/),this.useNativeControls=!!e.uiParadigm.match(/native/),this.originalZ=null,this.originalOverflow=null,this.playbackReady=!1,e.StateMachine.create({initial:"Init",messageBus:this.mb,moduleName:"ChromelessUi",target:this,events:[{name:e.EVENTS.PLAYER_CREATED,from:"Init",to:"PlayerCreated"},{name:e.EVENTS.EMBED_CODE_CHANGED,from:"*",to:"WaitingPlaybackReady"},{name:e.EVENTS.ASSET_CHANGED,from:"*",to:"WaitingPlaybackReady"},{name:e.EVENTS.PLAYBACK_READY,from:"WaitingPlaybackReady",to:"Ready"},{name:e.EVENTS.INITIAL_PLAY,from:"*"},{name:e.EVENTS.WILL_PLAY,from:["Ready","Paused"],to:"StartingToPlay"},{name:e.EVENTS.PLAYING,from:["StartingToPlay","Paused"],to:"Playing"},{name:e.EVENTS.ERROR,from:"*"},{name:e.EVENTS.PLAY,from:"*"},{name:e.EVENTS.WILL_CHANGE_FULLSCREEN,from:"*"},{name:e.EVENTS.FULLSCREEN_CHANGED,from:"*"},{name:e.EVENTS.VC_PLAYING,from:"*"},{name:e.EVENTS.INITIAL_PLAY,from:"*"},{name:e.EVENTS.REPLAY,from:"*"},{name:e.EVENTS.WILL_PLAY_ADS,from:"*"},{name:e.EVENTS.PLAY_MIDROLL_STREAM,from:"*"},{name:e.EVENTS.PLAYING,from:"*"}]})};i.extend(n.prototype,{onInitialPlay:function(){!this.playbackReady},onPlayerCreated:function(n,a,r){this.elementId=a,this.topMostElement=t("#"+this.elementId),this.topMostElement.append('<div class="innerWrapper" style="width:inherit; height:inherit"></div>'),this.rootElement=this.topMostElement.find("div.innerWrapper"),this.params=r,this.rootElement.append("<div class='plugins' style='position: absolute; width: 100%; height: 100%;'></div>");var s=["fullscreenchange","webkitfullscreenchange"],o=i.bind(this._onBrowserOriginatedFullscreenChange,this),l=this.rootElement;i.each(s,function(e){l.on(e,o)}),t(document).on("mozfullscreenchange",o),document.onwebkitfullscreenchange=o,t(document).on("MSFullscreenChange",o),t(window).resize(i.bind(this._onResize,this)),l.on("mresize",i.bind(this._onResize,this)),t(window).on("beforeunload",i.bind(this._onBeforeUnload,this)),this.mb.publish(e.EVENTS.PLAYER_EMBEDDED,{videoWrapperClass:"innerWrapper",pluginsClass:"plugins"})},onEmbedCodeChanged:function(){this._assetChanged()},onAssetChanged:function(){this._assetChanged()},_assetChanged:function(){this.playbackReady=!1},onPlaybackReady:function(){this.playbackReady=!0},_isFullscreen:function(){if(this.rootElement.hasClass("fullscreen"))return!0;var e=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.webkitDisplayingFullscreen||document.msFullscreenElement;return!!e},_onBrowserOriginatedFullscreenChange:function(){e.d("Fullscreen Changed",this._isFullscreen()),this.mb.publish(e.EVENTS.SIZE_CHANGED,this.rootElement.innerWidth(),this.rootElement.innerHeight()),this.mb.publish(e.EVENTS.FULLSCREEN_CHANGED,this._isFullscreen())},onFullscreenChanged:function(e,t){!t||this.originalZ||this.originalOverflow?t||(this.rootElement.css("z-index",""),this.rootElement.css("overflow",this.originalOverflow),this.originalZ=null,this.originalOverflow=null):(this.originalZ=this.rootElement.css("z-index"),this.originalOverflow=this.rootElement.css("overflow"),this.rootElement.css("z-index",this.originalZ+1e3),this.rootElement.css("overflow","visible"))},_onResize:function(){(this.width!=this.rootElement.innerWidth()||this.height!=this.rootElement.innerHeight())&&(this.width=this.rootElement.innerWidth(),this.height=this.rootElement.innerHeight(),this.mb.publish(e.EVENTS.SIZE_CHANGED,this.width,this.height))},onPlay:function(){this.useCustomControls||this.useNativeControls||this.mb.publish(e.EVENTS.WILL_CHANGE_FULLSCREEN,!0)},onWillChangeFullscreen:function(e,t){(this.useNativeControls||this.useCustomControls)&&(t?this._showFullscreen():this._hideFullscreen())},_getActiveVideo:function(){var e=this.rootElement.find("video.video"),t=e.get(0),i=this.rootElement.find("div.plugins video").get(0);return i&&!this._isVideoDomVisible("video.video")&&(t=i),t},_showFullscreen:function(){var i=this.rootElement[0],n=this._getActiveVideo(),a=i.requestFullScreen||i.requestFullscreen||i.mozRequestFullScreen||i.webkitRequestFullScreen||i.msRequestFullscreen;(!a||e.isAndroid&&!e.isChrome)&&n&&n.webkitEnterFullscreen?(n.isFullScreenMode=!0,n.webkitEnterFullscreen()):a?(t(n).css("background-color","black"),a.call(i)):this.rootElement.addClass("fullscreen"),this.mb.publish(e.EVENTS.FULLSCREEN_CHANGED,!0)},_hideFullscreen:function(){var i=this._getActiveVideo();document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():i&&i.webkitExitFullscreen?(i.isFullScreenMode=!1,i.webkitExitFullscreen()):document.msExitFullscreen?document.msExitFullscreen():this.rootElement.removeClass("fullscreen"),t(i).css("background-color",""),this.mb.publish(e.EVENTS.FULLSCREEN_CHANGED,!1)},_isVideoDomVisible:function(t){return this.rootElement.find(t).css("display")==e.CSS.VISIBLE_DISPLAY},_onBeforeUnload:function(){this.mb.publish(e.EVENTS.PAGE_UNLOAD_REQUESTED,!0)},__placeholder:!0}),e.registerModule("chromeless_ui",function(e,t){return new n(e,t)})}(OO,OO.$,OO._),function(e,t){var i=function(i,n){this.toString=function(){return"asset-controller"},this.mb=i,this.id=n,this.currentAssetId="",this.mb.subscribe(e.EVENTS.SET_ASSET,"asset",t.bind(this.setAsset,this)),this.mb.subscribe(e.EVENTS.UPDATE_ASSET,"asset",t.bind(this.updateAsset,this))};t.extend(i.prototype,{normalizeAsset:function(e){e.content.duration=1e3*e.content.duration},setAsset:function(i,n,a){this.validate(n)?(this.normalizeAsset(n),this.currentAssetId=n.id,t.defer(t.bind(function(){this.mb.publish(e.EVENTS.ASSET_CHANGED,n,a)},this)),this.validateKeyframes(n)&&this.mb.publish(e.EVENTS.THUMBNAILS_FETCHED,{data:n.content.keyFrames}),n.relatedVideos&&n.relatedVideos.length>0&&this.mb.publish(e.EVENTS.DISCOVERY_API.RELATED_VIDEOS_FETCHED,{videos:n.relatedVideos})):this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.CONTENT_TREE})},updateAsset:function(t,i){this.validateUpdate(i)&&this.mb.publish(e.EVENTS.ASSET_UPDATED,i),this.validateKeyframes(i)&&this.mb.publish(e.EVENTS.THUMBNAILS_FETCHED,{data:i.content.keyFrames}),i.relatedVideos.length>0&&this.mb.publish(e.EVENTS.DISCOVERY_API.RELATED_VIDEOS_FETCHED,{videos:i.relatedVideos})},validate:function(e){return this.validateRelatedVideos(e),e&&"string"==typeof e.id&&e.content&&e.content.streams&&e.content.streams.length>0&&"string"==typeof e.content.title&&"string"==typeof e.content.description&&"number"==typeof e.content.duration&&e.content.posterImages&&e.content.posterImages.length>0&&e.content.captions},validateUpdate:function(e){return this.validateRelatedVideos(e),e&&"string"==typeof e.id&&e.id==this.currentAssetId&&(e.relatedVideos&&e.relatedVideos.length>0||e.content&&("string"==typeof e.content.title||"string"==typeof e.content.description||"number"==typeof e.content.duration||e.content.captions||e.content.posterImages&&e.content.posterImages.length>0))},validateRelatedVideos:function(e){if(e.relatedVideos&&e.relatedVideos.length>0){for(var t=[],i=0;i<e.relatedVideos.length;i++)this.validate(e.relatedVideos[i].asset)&&"string"==typeof e.relatedVideos[i].name&&"string"==typeof e.relatedVideos[i].preview_image_url&&t.push(e.relatedVideos[i]);e.relatedVideos=t}},validateKeyframes:function(e){return e&&e.content&&e.content.keyFrames&&e.content.keyFrames.available_widths&&e.content.keyFrames.available_widths.length>0&&e.content.keyFrames.available_time_slices&&e.content.keyFrames.available_time_slices.length>0&&e.content.keyFrames.thumbnails&&Object.keys(e.content.keyFrames.thumbnails).length==e.content.keyFrames.available_time_slices.length}}),e.registerModule("assetController",function(e,t){return new i(e,t)})}(OO,OO._,OO.$),function(e,t,i){var n=function(i,n){this.toString=function(){return"playback-controller"},this.mb=i,this.id=n,this.playbackElements={},this.currentPlaybackElement=null,this.willPlayFromBeginning=!0,this.metadataHasFetched=!1,this.isFirstStream=!0,this.playedAtLeastOnce=!1,this.hasPlayed=!1,this.endScreenShown=!1,this.mobileContinuousPlayDisabled={},this.previousWasOoyalaAd=!1,this.playerParams=null,this.shouldPreload=!0,this.initialTime=0,this.closedCaptions=null,this.bitrateProperty={level:"auto",duration:15},this.bitrateOverrideFunction=null,this.bitrateOverrideTimer=null,this.chosenBitrateIndex="auto",this.isBitrateOverrideReady={isBitrateInfoAvailable:!1,isMainVideoElementInFocus:!1,isBitrateOverridden:!1},this.mb.subscribe(e.EVENTS.PLAYER_CREATED,"playback",t.bind(this.playerCreated,this)),this.mb.subscribe(e.EVENTS.EMBED_CODE_CHANGED,"playback",t.bind(this.embedCodeChanged,this)),this.mb.subscribe(e.EVENTS.EMBED_CODE_CHANGED_AFTER_OOYALA_AD,"playback",t.bind(this.embedCodeChanged,this)),this.mb.subscribe(e.EVENTS.SET_ASSET,"playback",t.bind(this.setAsset,this)),this.mb.subscribe(e.EVENTS.CONTENT_TREE_FETCHED,"playback",t.bind(this.contentTreeFetched,this)),this.mb.subscribe(e.EVENTS.METADATA_FETCHED,"playback",t.bind(this.metadataFetched,this)),this.mb.subscribe(e.EVENTS.AUTHORIZATION_FETCHED,"playback",t.bind(this.authorizationFetched,this)),this.mb.subscribe(e.EVENTS.INITIAL_PLAY,"playback",t.bind(this.initialPlay,this)),this.mb.subscribe(e.EVENTS.WILL_PLAY_FROM_BEGINNING,"playback",t.bind(this.onWillPlayFromBeginning,this)),this.mb.subscribe(e.EVENTS.PLAYED,"playback",t.bind(this.played,this)),this.mb.subscribe(e.EVENTS.ASSET_CHANGED,"playback",t.bind(this.assetChanged,this)),this.mb.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"playback",t.bind(this.vcVideoElementCreated,this)),this.mb.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,"playback",t.bind(this.videoControllerVideoElementInFocus,this)),this.mb.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_DISPOSED,"playback",t.bind(this.vcVideoElementDisposed,this)),this.mb.subscribe(e.EVENTS.VC_PLAYED,"playback",t.bind(this.vcPlayed,this)),this.mb.subscribe(e.EVENTS.VC_PLAYING,"playback",t.bind(this.vcPlaying,this)),this.mb.subscribe(e.EVENTS.VC_CAN_PLAY,"playback",t.bind(this.vcCanPlay,this)),this.mb.subscribe(e.EVENTS.VC_PAUSED,"playback",t.bind(this.vcPaused,this)),this.mb.subscribe(e.EVENTS.VC_SEEKED,"playback",t.bind(this.vcSeeked,this)),this.mb.subscribe(e.EVENTS.VC_PLAY_FAILED,"playback",t.bind(this.vcPlayFailed,this)),this.mb.subscribe(e.EVENTS.VC_ERROR,"playback",t.bind(this.vcError,this)),this.mb.subscribe(e.EVENTS.VC_WILL_PLAY,"playback",t.bind(this.vcWillPlay,this)),this.mb.subscribe(e.EVENTS.REPLAY,"playback",t.bind(this.replay,this)),this.mb.subscribe(e.EVENTS.PLAYBACK_READY,"playback",t.bind(this.playbackReady,this)),this.mb.subscribe(e.EVENTS.BITRATE_INFO_AVAILABLE,"playback",t.bind(this.bitrateInfoAvailable,this)),this.mb.subscribe(e.EVENTS.SET_TARGET_BITRATE,"playback",t.bind(this.setTargetBitrate,this)),this.mb.subscribe(e.EVENTS.WILL_RESUME_MAIN_VIDEO,"playback",t.bind(this.willResume,this))};t.extend(n.prototype,{getStreams:function(i){if(!i)return null;if(t.isEmpty(i.streams))return null;for(var n={},a=0;a<i.streams.length;a++){var r=i.streams[a].delivery_type;if("youtube"==r)return n={deliveryType:r,youtube:{url:i.streams[a].youtube_id}};if(i.streams[a].url&&r&&(!i.streams[a].drm||!t.isEmpty(i.streams[a].drm))){var s=i.streams[a].drm||{};t.isEmpty(s)||"remote_asset"==r||(r=r.concat("_drm")),n[r]={url:e.decode64(i.streams[a].url.data)},t.isEmpty(s)||(n[r].drm=s);var o=i.streams[a].akamai_secure_hd||null;"boolean"==typeof o&&(n[r].contentMetadata={assetId:this.currentEmbedCode,accountId:this.playerParams.pcode,secureContent:o}),n.isLive=i.streams[a].is_live_stream||!1}}return n.remote_asset&&(n[e.VIDEO.ENCODING.UNKNOWN]=n.remote_asset,delete n.remote_asset),n},getAssets:function(e){if(!e)return null;if(t.isEmpty(e.content.streams))return null;for(var i={},n=0;n<e.content.streams.length;n++)e.content.streams[n].url&&e.content.streams[n].delivery_type&&(i[e.content.streams[n].delivery_type]={url:e.content.streams[n].url});return i.isLive=e.content.is_live_stream||!1,i},assetChanged:function(e,t){this.bitrateOverrideTimer&&(clearTimeout(this.bitrateOverrideTimer),this.bitrateOverrideTimer=null),this.chosenBitrateIndex="auto",this.isBitrateOverrideReady={isBitrateInfoAvailable:!1,isMainVideoElementInFocus:!1,isBitrateOverridden:!1},this.streams=this.getAssets(t),this.closedCaptions={closed_captions:t.content.captions.closed_captions,closed_captions_vtt:t.content.captions.closed_captions_vtt},this.dataReady()},checkDataReady:function(e){null!=this.contentTree&&this.metadataHasFetched&&null!=this.authorization&&this.dataReady(e)},dataReady:function(i){var n=i?e.VIDEO.ADS:e.VIDEO.MAIN;this.playbackElements[n]={streams:this.streams},this.currentPlaybackElement=n,this.publishClosedCaptionInfo(n,this.closedCaptions);var a=this.playerParams?this.playerParams.platform:void 0,r=this.playerParams?this.playerParams.crossorigin:void 0,s=this.playerParams?this.playerParams.pcode:void 0,o={closedCaptions:this.playbackElements[n].closedCaptions,platform:a,crossorigin:r,authenticationData:{pcode:s},pluginParams:t.extend({},e.playerParams,this.playerParams)};this.mb.publish(e.EVENTS.VC_CREATE_VIDEO_ELEMENT,n,this.streams,null,o)},resetStreamData:function(){this.contentTree=null,this.metadataHasFetched=!1,this.authorization=null,this.streams=null,this.currentEmbedCode=null,this.endScreenShown=!1,this.playerParams&&(this.previousWasOoyalaAd||this.playerParams.ooyalaAds)||this.isFirstStream||(this.initialTime=0),this.isFirstStream=!1,this.playedAtLeastOnce=!1,this.previousWasOoyalaAd=this.playerParams&&this.playerParams.ooyalaAds?!0:!1},preloadStream:function(){this.shouldPreload&&this.mb.publish(e.EVENTS.VC_PRELOAD,this.currentPlaybackElement)},triggerAutoplay:function(){var t,i=this.playerParams?"true"===this.playerParams.autoPlay||this.playerParams.autoPlay===!0||"true"===this.playerParams.autoplay||this.playerParams.autoplay===!0:!1;if(this.playerParams&&this.playerParams.ooyalaAds)t=!0;else{var n=this.mobileContinuousPlayDisabled[this.currentPlaybackElement];t=!n&&i&&!e.allowAutoPlay&&this.hasPlayed}(0==this.playedAtLeastOnce&&i&&e.allowAutoPlay||t)&&this.mb.publish(e.EVENTS.INITIAL_PLAY,Date.now())},triggerLoopPlay:function(){var t=this.playerParams?"true"===this.playerParams.loop||this.playerParams.loop===!0:!1;t&&this.mb.publish(e.EVENTS.REPLAY)},playerCreated:function(i,n,a){if(this.playerParams=a,"object"==typeof this.playerParams&&(void 0!==this.playerParams.locale&&e.setLocale(this.playerParams.locale),this.playerParams.preload===!1&&(this.shouldPreload=!1),void 0!==this.playerParams.initialTime)){var r=parseInt(this.playerParams.initialTime,10);!isNaN(r)&&r>0&&(this.initialTime=r)}e.isIos&&7==e.iosMajorVersion?window.addEventListener("pageshow",t.bind(function(){this.mb.publish(e.EVENTS.PAUSE)},this)):(e.isAndroid||e.isIos)&&document.addEventListener("visibilitychange",t.bind(function(){document.hidden&&this.mb.publish(e.EVENTS.PAUSE)},this)),this.initialBitrateOverride(a)},playbackReady:function(){this.triggerAutoplay()},initialBitrateOverride:function(e){if(e&&e.initialBitrate){var t=e.initialBitrate.level;("auto"==t||i.isNumeric(t)&&t>=0&&1>=t)&&(this.bitrateProperty.level=t);var n=e.initialBitrate.duration;i.isNumeric(n)&&n>0&&(this.bitrateProperty.duration=n)}e&&e.bitrateOverrideFunction&&"function"==typeof e.bitrateOverrideFunction&&(this.bitrateOverrideFunction=e.bitrateOverrideFunction)},bitrateInfoAvailable:function(e,t){if(t&&t.bitrates&&"auto"!=this.bitrateProperty.level){for(var i=[],n={},a=0;a<t.bitrates.length;a++)"auto"!=t.bitrates[a].id&&(i.push(t.bitrates[a].bitrate),n[t.bitrates[a].bitrate]=t.bitrates[a].id);if(i.sort(function(e,t){return e-t}),i.length>0){for(var r=this.bitrateProperty.level*i[i.length-1],s=i[0],a=0;a<i.length&&i[a]<=r;a++)s=i[a];this.chosenBitrateIndex=n[s],this.isBitrateOverrideReady.isBitrateInfoAvailable=!0}this.publishInitialBitrateOverride()}},publishInitialBitrateOverride:function(){!this.isBitrateOverrideReady.isBitrateOverridden&&this.isBitrateOverrideReady.isMainVideoElementInFocus&&("function"==typeof this.bitrateOverrideFunction?(this.bitrateOverrideFunction(),this.isBitrateOverrideReady.isBitrateOverridden=!0):this.isBitrateOverrideReady.isBitrateInfoAvailable&&"auto"!=this.bitrateProperty.level&&"auto"!=this.chosenBitrateIndex&&(this.mb.publish(e.EVENTS.SET_TARGET_BITRATE,this.chosenBitrateIndex,{setTimer:!0}),this.isBitrateOverrideReady.isBitrateOverridden=!0))},videoControllerVideoElementInFocus:function(t,i){this.isBitrateOverrideReady.isMainVideoElementInFocus=i==e.VIDEO.MAIN,this.publishInitialBitrateOverride()},setTargetBitrate:function(i,n,a){a&&a.setTimer?this.bitrateOverrideTimer=setTimeout(t.bind(function(){this.mb.publish(e.EVENTS.SET_TARGET_BITRATE,"auto")},this),1e3*this.bitrateProperty.duration):this.bitrateOverrideTimer&&(clearTimeout(this.bitrateOverrideTimer),this.bitrateOverrideTimer=null)},authorizationFetched:function(e,t,i){this.authorization=t,this.streams=this.getStreams(t),this.checkDataReady(i)},contentTreeFetched:function(e,t,i){this.contentTree=t,t&&(this.closedCaptions={closed_captions:t.closed_captions,closed_captions_vtt:t.closed_captions_vtt}),this.checkDataReady(i)},publishClosedCaptionInfo:function(i,n){if(n){var a={};if(n.closed_captions_vtt&&n.closed_captions_vtt.captions&&t.size(n.closed_captions_vtt.captions)>0){a.closed_captions_vtt=n.closed_captions_vtt.captions,a.availableLanguages=n.closed_captions_vtt.languages,a.locale={};for(var r=0;r<a.availableLanguages.length;r++){var s=a.availableLanguages[r];a.locale[s]=a.closed_captions_vtt[s].name}}if(n.closed_captions&&n.closed_captions.length>0&&(a.closed_captions_dfxp=n.closed_captions[0],a.availableLanguages=n.closed_captions[0].languages),t.size(a)>0){var o={videoId:i};if(o.languages=n.closed_captions_vtt&&n.closed_captions_vtt.languages||a.closed_captions_dfxp&&a.closed_captions_dfxp.languages,o.locale={},o.languages&&o.languages.length>0){for(var r=0;r<o.languages.length;r++){var s=o.languages[r];a.closed_captions_vtt&&a.closed_captions_vtt[s]&&(o.locale[s]=a.closed_captions_vtt[s].name)}t.extend(this.playbackElements[this.currentPlaybackElement],{closedCaptions:a}),this.mb.publish(e.EVENTS.CLOSED_CAPTIONS_INFO_AVAILABLE,o)}}}},metadataFetched:function(e,t,i){this.metadataHasFetched=!0,this.checkDataReady(i)},initialPlay:function(){this.willPlayFromBeginning&&this.mb.publish(e.EVENTS.WILL_PLAY_FROM_BEGINNING),this.willPlayFromBeginning=!1,(e.isIos||e.isAndroid)&&this.mb.publish(e.EVENTS.VC_PRIME_VIDEOS)},onWillPlayFromBeginning:function(){this.mb.publish(e.EVENTS.VC_FOCUS_VIDEO_ELEMENT,this.currentPlaybackElement),this.playerParams.ooyalaAds||this.mb.publish(e.EVENTS.VC_SET_INITIAL_TIME,e.VIDEO.MAIN,this.initialTime),this.mb.publish(e.EVENTS.PLAY)},vcVideoElementCreated:function(t,i){this.currentPlaybackElement&&i.videoId===this.currentPlaybackElement&&(this.mb.publish(e.EVENTS.PLAYBACK_READY),this.preloadStream())},vcVideoElementDisposed:function(e,t){this.mobileContinuousPlayDisabled[t]=!0},embedCodeChanged:function(t,i,n){this.playerParams="object"==typeof n?n:{},this.playerParams.autoPlay="true"===this.playerParams.autoPlay||this.playerParams.autoPlay===!0||"true"===this.playerParams.autoplay||this.playerParams.autoplay===!0,this.currentEmbedCode&&("undefined"==typeof this.playerParams.autoPlayUpNextVideosOnly||"true"===this.playerParams.autoPlayUpNextVideosOnly||this.playerParams.autoPlayUpNextVideosOnly===!0)&&(this.playerParams.autoPlay=!0),this.resetStreamData(),this.currentEmbedCode=i,this.bitrateOverrideTimer&&(clearTimeout(this.bitrateOverrideTimer),this.bitrateOverrideTimer=null),this.chosenBitrateIndex="auto",this.isBitrateOverrideReady={isBitrateInfoAvailable:!1,isMainVideoElementInFocus:!1,isBitrateOverridden:!1},void 0!==this.playerParams.locale&&e.setLocale(this.playerParams.locale),this.willPlayFromBeginning=!0;for(var a in this.playbackElements)a&&a!==e.VIDEO.MAIN&&this.mb.publish(e.EVENTS.VC_DISPOSE_VIDEO_ELEMENT,a)},setAsset:function(t,i,n){this.resetStreamData(),this.playerParams=n,this.willPlayFromBeginning=!0,void 0!==this.playerParams.locale&&e.setLocale(this.playerParams.locale);for(var a in this.playbackElements)a&&this.mb.publish(e.EVENTS.VC_DISPOSE_VIDEO_ELEMENT,a)},willResume:function(){this.mb.publish(e.EVENTS.VC_PLAY,this.currentPlaybackElement)},vcPlayFailed:function(t,i,n){if(this.currentPlaybackElement&&i===this.currentPlaybackElement){this.mb.publish(e.EVENTS.PLAY_FAILED,n),n=parseInt(n);var a=window.MediaError?window.MediaError.MEDIA_ERR_ABORTED:1,r=window.MediaError?window.MediaError.MEDIA_ERR_NETWORK:2,s=window.MediaError?window.MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:4;if(n===a)this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.PLAYBACK.GENERIC});else if(n===r)this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.PLAYBACK.NETWORK});else if(n===s)this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.PLAYBACK.GENERIC});else if(6===n)this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.ERROR_DRM_RIGHTS_SERVER_ERROR});else if(this.contentTree)switch(this.contentTree.content_type){case"Video":this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.PLAYBACK.STREAM});break;case"LiveStream":this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.PLAYBACK.LIVESTREAM});break;default:this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.PLAYBACK.GENERIC})}}},vcError:function(t,i,n){this.currentPlaybackElement&&i===this.currentPlaybackElement&&this.mb.publish(e.EVENTS.ERROR,n)},vcWillPlay:function(t,i){this.playbackElements[i]&&(this.mb.publish(e.EVENTS.WILL_PLAY),e.isIos&&this.endScreenShown&&this.mb.publish(e.EVENTS.REPLAY),this.endScreenShown=!1)},replay:function(t,i){this.endScreenShown=!1,this.bitrateOverrideTimer&&(clearTimeout(this.bitrateOverrideTimer),this.bitrateOverrideTimer=null),this.isBitrateOverrideReady.isBitrateOverridden=!1,this.initialTime=i||0,this.mb.publish(e.EVENTS.WILL_PLAY_FROM_BEGINNING)},vcPlayed:function(t,i){this.currentPlaybackElement&&i===this.currentPlaybackElement&&(this.endScreenShown=!0,this.playedAtLeastOnce=!0,this.mb.publish(e.EVENTS.PLAYED))},vcPlaying:function(t,i){this.currentPlaybackElement&&i===this.currentPlaybackElement&&(this.hasPlayed=!0,this.mobileContinuousPlayDisabled[i]=!1,this.mb.publish(e.EVENTS.PLAYING))},vcCanPlay:function(t,i){this.currentPlaybackElement===i&&this.mb.publish(e.EVENTS.CAN_PLAY)},vcPaused:function(t,i){this.currentPlaybackElement&&i===this.currentPlaybackElement&&this.mb.publish(e.EVENTS.PAUSED)},vcSeeked:function(t,i,n){this.currentPlaybackElement&&i===this.currentPlaybackElement&&this.mb.publish(e.EVENTS.SEEKED,n)},played:function(){this.playedAtLeastOnce=!0,this.preloadStream(),this.triggerLoopPlay()}}),e.registerModule("playbackController",function(e,t){return new n(e,t)})}(OO,OO._,OO.$),function(e,t,i){var n=function(){e.log.apply(this,i.merge(["VC:"],arguments))},a={},r={},s=t.bind(function(){var e=[];return t.each(r,function(t,i){t&&t.length>0&&e.push(i)}),e},this);e.Video={plugin:function(e){if(this.validate(e)){n("Registering video plugin:",e.name);for(var t=0;t<e.encodings.length;t++){var i=e.encodings[t];r[i]?r[i].push(e.name):r[i]=[e.name]}a[e.name]=e}},unregister:function(e){if(n("Removing a video plugin:",e),e&&a[e]){for(var i=0;i<a[e].encodings.length;i++){var s=a[e].encodings[i],o=r[s]?r[s].indexOf(e):-1;o>-1&&r[s].splice(o,1)}if(t.isFunction(a[e].destroy))try{a[e].destroy()}catch(l){n("Error destroying a video plugin",e,".",l)}delete a[e]}},validate:function(e){function i(e){n(e)}function r(n,a,r){return t.has(e,n)?typeof e[n]!=a?(i("The video plugin '"+r+"' property '"+n+"' should be type '"+a+"'"),!1):!0:(i("The video plugin '"+r+"' requires a '"+n+"' property"),!1)}function s(n,a){return t.isFunction(e[n])?!0:(i("The video plugin '"+a+"' requires a '"+n+"' function"),!1)}var o={name:"string",encodings:"object",features:"object",technology:"string"},l=["create"];if(!e)return i("The video plugin must be defined"),!1;if(!t.isObject(e))return i("The video plugin must be an object"),!1;for(var u in o)if(!r(u,o[u],e.name))return!1;for(var d=0;d<l.length;d++)if(!s(l[d],e.name))return!1;return a[e.name]?(i("The video plugin '"+e.name+"' has already been registered"),!1):!0},getRegisteredPlugins:function(){return a}},e.exposeStaticApi("Video",e.Video);var o=function(e,i,n){this.EVENTS=e.EVENTS,this.notify=t.bind(e.notify,e,i,n),this.markNotReady=t.bind(e.markNotReady,e,i),this.markReady=t.bind(e.markReady,e,i),this.PLUGIN_MAGIC="087d2ef5-9d39-43ed-a57a-16a312c87c0b"},l=function(l){var u=3e3,d=l,c=null,h=[],p=[],E=null;this.activeInstances={},this.focusVideoId=null;var f="",g=e.CONSTANTS.CLOSED_CAPTIONS.SHOWING;this.elementId=null,this.currentPlayhead=0,this.toString=function(){return"video-controller"};var y=function(e){this.plugin=e.plugin&&e.plugin.name,this.domId=$t(),this.supportedEncodings=e.plugin.encodings||[],this.parentContainer=e.parentContainer||E&&E.find(".innerWrapper")||null,this.wrapper=e.wrapper,this.sharedObjectToInstance=e.sharedObjectToInstance,this.isControllingObject=void 0===e.isControllingObject?!0:e.isControllingObject},T=function(e){this.plugin=e.plugin&&e.plugin.name,this.parentContainer=e.parentContainer,this.element=e.element||null,this.isControllingElement=!!e.isControllingElement,this.playhead=0,this.encoding=e.encoding||null,this.stream=e.stream||null,this.vtcInterface=e.vtcInterface||{},this.closedCaptions=e.closedCaptions||{},this.crossorigin=e.crossorigin||null,this.isLive=e.isLive||!1,this.params=e.params||{},this.playing=!1,this.disableNativeSeek=!1},m={},_=null,O=!0,A=[],I=null,v=null,S=!1,b=!1,N=!(e.isChrome||e.isIos||e.isAndroid||e.isSafari||e.isFirefox);this.EVENTS={PLAY:"play",CAN_PLAY:"canPlay",PLAYING:"playing",ENDED:"ended",ERROR:"error",SEEKING:"seeking",SEEKED:"seeked",PAUSED:"paused",RATE_CHANGE:"ratechange",STALLED:"stalled",TIME_UPDATE:"timeupdate",VOLUME_CHANGE:"volumechange",BUFFERING:"buffering",BUFFERED:"buffered",DURATION_CHANGE:"durationchange",PROGRESS:"progress",WAITING:"waiting",FULLSCREEN_CHANGED:"fullScreenChanged",CAPTIONS_FOUND_ON_PLAYING:"captionsFoundOnPlaying",ASSET_DIMENSION:"assetDimension",BITRATE_CHANGED:"bitrateChanged",BITRATES_AVAILABLE:"bitratesAvailable",CLOSED_CAPTION_CUE_CHANGED:"closedCaptionCueChanged",METADATA_FOUND:"metadataFound"};var D={ENCODING_PRIORITY:"encodingPriority",INITIAL_VOLUME:"initialVolume",PAUSE_ON_LIVE_ADS:"pauseOnLiveAds"},R={DEFAULT:"default",PAGE:"pageLevel",BACKLOT:"backlot",BACKDOOR:"backdoor",OOYALA_ADS:"ooyalaAds"},C={};C[R.DEFAULT]=[e.VIDEO.ENCODING.DRM.DASH,e.VIDEO.ENCODING.DRM.HLS,e.VIDEO.ENCODING.HLS,e.VIDEO.ENCODING.AKAMAI_HD2_VOD_HLS,e.VIDEO.ENCODING.AKAMAI_HD2_HLS,e.VIDEO.ENCODING.DASH,e.VIDEO.ENCODING.MP4,e.VIDEO.ENCODING.YOUTUBE,e.VIDEO.ENCODING.HDS,e.VIDEO.ENCODING.WEBM,e.VIDEO.ENCODING.IMA,e.VIDEO.ENCODING.PULSE],C[R.OOYALA_ADS]=[e.VIDEO.ENCODING.MP4];var L=R.DEFAULT,P=null,w={width:"100%",height:"100%",position:"absolute",visibility:"hidden","z-index":e.CSS.VIDEO_Z_INDEX};e.isIos?w.display=e.CSS.INVISIBLE_DISPLAY:w.left="-100000px";var k=t.bind(function(){d.subscribe(e.EVENTS.PLAYER_CREATED,"vtc",V),d.subscribe(e.EVENTS.METADATA_FETCHED,"vtc",F),d.subscribe(e.EVENTS.EMBED_CODE_CHANGED,"vtc",B),d.subscribe(e.EVENTS.EMBED_CODE_CHANGED_AFTER_OOYALA_AD,"vtc",B),d.subscribe(e.EVENTS.ASSET_CHANGED,"vtc",M),d.subscribe(e.EVENTS.PLAYBACK_READY,"vtc",U),d.subscribe(e.EVENTS.VC_CREATE_VIDEO_ELEMENT,"vtc",H),d.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"vtc",nt),d.subscribe(e.EVENTS.VC_UPDATE_ELEMENT_STREAM,"vtc",q),d.subscribe(e.EVENTS.VC_DISPOSE_VIDEO_ELEMENT,"vtc",at),d.subscribe(e.EVENTS.VC_FOCUS_VIDEO_ELEMENT,"vtc",ot),d.subscribe(e.EVENTS.WILL_PLAY_ADS,"vtc",st),d.subscribe(e.EVENTS.ADS_PLAYED,"vtc",ut),d.subscribe(e.EVENTS.VC_PRELOAD,"vtc",ct),d.subscribe(e.EVENTS.VC_RELOAD,"vtc",ht),d.subscribe(e.EVENTS.VC_SET_INITIAL_TIME,"vtc",pt),d.subscribe(e.EVENTS.VC_SET_VIDEO_STREAMS,"vtc",dt),d.subscribe(e.EVENTS.VC_PRIME_VIDEOS,"vtc",Et),d.subscribe(e.EVENTS.PLAY,"vtc",ft),d.subscribe(e.EVENTS.VC_PLAY,"vtc",gt),d.subscribe(e.EVENTS.PAUSE,"vtc",yt),d.subscribe(e.EVENTS.VC_PAUSE,"vtc",Tt),d.subscribe(e.EVENTS.SEEK,"vtc",mt),d.subscribe(e.EVENTS.VC_SEEK,"vtc",_t),d.subscribe(e.EVENTS.CHANGE_VOLUME,"vtc",Ot),d.subscribe(e.EVENTS.PAGE_UNLOAD_REQUESTED,"vtc",At),d.subscribe(e.EVENTS.DISABLE_SEEKING,"vtc",vt),d.subscribe(e.EVENTS.ENABLE_SEEKING,"vtc",It),d.subscribe(e.EVENTS.SET_CLOSED_CAPTIONS_LANGUAGE,"vtc",St),d.subscribe(e.EVENTS.SET_TARGET_BITRATE,"vtc",bt),d.subscribe(e.EVENTS.DESTROY,"vtc",t.bind(this.onDestroy,this)),d.subscribe(e.EVENTS.LIVE_BUTTON_CLICKED,"vtc",x)},this),V=t.bind(function(t,n,a){this.elementId=n,E=i("#"+n),m=a,m&&(m[D.ENCODING_PRIORITY]&&(C[R.PAGE]=m[D.ENCODING_PRIORITY],L=R.PAGE),void 0!==m[D.INITIAL_VOLUME]&&(I=parseFloat(m[D.INITIAL_VOLUME])),void 0!==m[D.PAUSE_ON_LIVE_ADS]&&(b=!m[D.PAUSE_ON_LIVE_ADS])),e.debug_tools=e.debug_tools||{},e.debug_tools[n]||(e.debug_tools[n]={}),e.debug_tools[n].video=Jt},this),F=t.bind(function(e,t){if(t&&t.base&&t.base[D.ENCODING_PRIORITY]){var i=t.base[D.ENCODING_PRIORITY];i=i.replace(/(&.+?;)|[ \[\]]/g,""),C[R.BACKLOT]=i.split(","),L!==R.PAGE&&(L=R.BACKLOT)}},this),B=t.bind(function(e,t,i){C[R.BACKLOT]=null,i&&i.ooyalaAds?(L!==R.OOYALA_ADS&&(P=L),L=R.OOYALA_ADS):L===R.BACKLOT?L=C[R.BACKDOOR]?R.BACKDOOR:R.DEFAULT:L===R.OOYALA_ADS&&(L=C[P]?P:R.DEFAULT),S=!1},this),M=t.bind(function(){S=!1},this),U=t.bind(function(){S=!0},this),x=t.bind(function(){Ct(this.focusVideoId,"onLiveClick")
},this),H=t.bind(function(i,s,o,l,u){var c,h;if(u&&(u.technology||u.features)){var p=G(u.technology),E=Y(u.features);c=t.pick(a,t.intersection(p,E))}else c=a;var f=K(o,W(c),j());if(!f)return void d.publish(e.EVENTS.VC_ERROR,s,{code:e.ERROR.VC.UNSUPPORTED_ENCODING});n("For video '"+s+"', selected encoding '"+f+"', with stream url "+o[f].url);var g=!(!this.focusVideoId||this.focusVideoId!==s);if(this.activeInstances[s]&&this.activeInstances[s].element){if(c[this.activeInstances[s].plugin]&&t.contains(this.activeInstances[s].element.supportedEncodings,f))return n("Element already existed and supports chosen encoding.  Setting new video url."),this.activeInstances[s].disableNativeSeek=!1,Yt(s,f,o[f],o.isLive),u&&(this.activeInstances[s].params=u,jt(s,u.closedCaptions),Lt(s,u.crossorigin)),Kt(s,o[f].contentMetadata),e.isIos&&(h=this.activeInstances[s].element.sharedObjectToInstance,"main"===h&&this.activeInstances[h].element&&(this.currentPlayhead=Rt(this.activeInstances[h].element,"getCurrentTime"))),void z(s);n("Element already existed but does not support chosen encoding.  Destroying exising element."),at(e.EVENTS.VC_CREATE_VIDEO_ELEMENT,s)}var y=t.intersection(r[f]||[],t.keys(c)),T=null;return(null==y||y.length<1)&&f==e.VIDEO.ENCODING.UNKNOWN&&t.size(c)>0?T=c[t.keys(c)[0]]:y&&y.length>0&&t.size(c)>0&&(T=c[y[0]]),T?(n("For video '"+s+"', elected plugin '"+T.name+"'"),X(T,s,l,f,o[f],o.isLive,u),void(this.activeInstances[s]?(z(s),g&&d.publish(e.EVENTS.VC_FOCUS_VIDEO_ELEMENT,s)):d.publish(e.EVENTS.VC_ERROR,s,{code:e.ERROR.VC.UNABLE_TO_CREATE_VIDEO_ELEMENT}))):void d.publish(e.EVENTS.VC_ERROR,s,{code:e.ERROR.VC.UNSUPPORTED_ENCODING})},this),G=t.bind(function(e){if(!e)return t.keys(a);var i=[];for(name in a)a[name].technology===e&&i.push(name);return i},this),Y=t.bind(function(e){if(!e||e.length<1)return t.keys(a);var i=[];for(name in a){var n=t.difference(e,a[name].features);n&&0!==n.length||i.push(name)}return i},this),W=t.bind(function(e){var i=[];for(var n in e)i=i.concat(a[n].encodings);return t.uniq(i)},this),j=t.bind(function(){var e=C[L],t=i(s()).not(e).get();return e.concat(t)},this),K=t.bind(function(i,n,a){if(i&&!(t.size(i)<1)){for(var r={},s=0;s<n.length;s++){var o=n[s];i.hasOwnProperty(o)&&(r[o]=i[o])}for(var l=null,s=0;s<a.length;s++)if(r.hasOwnProperty(a[s])){l=a[s];break}return null==l&&i.hasOwnProperty(e.VIDEO.ENCODING.UNKNOWN)&&(l=e.VIDEO.ENCODING.UNKNOWN),l}},this),z=t.bind(function(i){if(this.activeInstances&&this.activeInstances[i]&&this.activeInstances[i].element){var n=this.activeInstances[i].element,a=n.parentContainer&&n.parentContainer.length>0?n.parentContainer.find("#"+n.domId):[],r=this.activeInstances[i].stream?this.activeInstances[i].stream.url:null;e.isIos?t.delay(function(){d.publish(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,{videoId:i,encodings:n.supportedEncodings,parent:n.parentContainer,domId:n.domId,videoElement:a,streamUrl:r})},1):d.publish(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,{videoId:i,encodings:n.supportedEncodings,parent:n.parentContainer,domId:n.domId,videoElement:a,streamUrl:r})}},this),q=t.bind(function(e,t,i){this.activeInstances&&this.activeInstances[t]&&this.activeInstances[t].element&&this.activeInstances[t].stream&&(this.activeInstances[t].stream.url=i,Yt(t,this.activeInstances[t].encoding,this.activeInstances[t].stream,this.activeInstances[t].isLive))},this),X=t.bind(function(t,i,n,a,r,s,o){if(t&&i){if($(t)){var l=Z(t.technology);if(l&&this.activeInstances[l].plugin!==t.name){if(Q(l,t))return void(this.activeInstances[l]?J(t,i,a,r,s,n,o,l):d.publish(e.EVENTS.VC_ERROR,i,{code:e.ERROR.VC.UNABLE_TO_CREATE_VIDEO_ELEMENT}))}else if(l)return void tt(t,i,a,r,s,o)}t.maxSupportedElements>-1&&et(t.name)>=t.maxSupportedElements?tt(t,i,a,r,s,o):it(t,i,n,a,r,s,o)}},this),$=t.bind(function(t){if(e.requiresSingleVideoElement&&(t.technology===e.VIDEO.TECHNOLOGY.HTML5||t.technology===e.VIDEO.TECHNOLOGY.MIXED))for(var i in this.activeInstances)if((a[this.activeInstances[i].plugin].technology===e.VIDEO.TECHNOLOGY.HTML5||a[this.activeInstances[i].plugin].technology===e.VIDEO.TECHNOLOGY.MIXED)&&this.activeInstances[i].element)return!0;return!1},this),Q=t.bind(function(i,n){var r=t.contains(a[this.activeInstances[i].plugin].features,e.VIDEO.FEATURE.VIDEO_OBJECT_SHARING_GIVE),s=t.contains(n.features,e.VIDEO.FEATURE.VIDEO_OBJECT_SHARING_TAKE),o=a[this.activeInstances[i].plugin].technology===n.technology,l=n.technology!==e.VIDEO.TECHNOLOGY.MIXED;return r&&s&&o&&l},this),Z=t.bind(function(i){var n=null;for(var r in this.activeInstances)if(a[this.activeInstances[r].plugin].technology===i&&this.activeInstances[r].element){if(t.contains(a[this.activeInstances[r].plugin].features,e.VIDEO.FEATURE.VIDEO_OBJECT_SHARING_GIVE))return r;n=r}return n},this),J=t.bind(function(e,t,i,a,r,s,l,u){if(e&&t){n("For video '"+t+"', sharing element with video '"+u+"'"),this.activeInstances[u].element.sharedObjectToInstance=t;var d=new y({plugin:e,parentContainer:s,sharedObjectToInstance:u,isControllingObject:!1});p.push(d);var c=new o(this,t,e);this.activeInstances[t]?this.activeInstances[t].element=d:this.activeInstances[t]=new T({plugin:e,parentContainer:s,element:d,encoding:i,stream:a,isLive:r,vtcInterface:c,isControllingElement:!0,params:l}),l&&(jt(t,l.closedCaptions),Lt(t,l.crossorigin),c.authenticationData=l.authenticationData);var h=this.activeInstances[u].element.domId,E=Gt(h);d.wrapper=e.createFromExisting(E,c,this.elementId),Yt(t,i,a,r),Kt(t,a.contentMetadata)}},this),et=t.bind(function(e){for(var t=0,i=0;i<p.length;i++)p[i].plugin===e&&t++;return t},this),tt=t.bind(function(e,t,i,a,r,s){if(e&&t){for(var l=null,u=0;u<p.length;u++)if(p[u].plugin===e.name){l=p[u];break}if(l){n("For video '"+t+"', sharing existing element with index "+u);var d=new o(this,t,e);this.activeInstances[t]?this.activeInstances[t].element=l:this.activeInstances[t]=new T({plugin:e,parentContainer:l.parentContainer,element:l,encoding:i,stream:a,isLive:r,vtcInterface:d,params:s}),s&&(jt(t,s.closedCaptions),Lt(t,s.crossorigin),d.authenticationData=s.authenticationData),Kt(t,a.contentMetadata)}}},this),it=t.bind(function(e,t,i,n,a,r,s){if(e&&t){var l=new y({plugin:e,parentContainer:i});p.push(l);var u=new o(this,t,e);this.activeInstances[t]?this.activeInstances[t].element=l:this.activeInstances[t]=new T({plugin:e,parentContainer:l.parentContainer,element:l,encoding:n,stream:a,isLive:r,vtcInterface:u,isControllingElement:!0,params:s});var d={};s&&(jt(t,s.closedCaptions),Lt(t,s.crossorigin),u.authenticationData=s.authenticationData,d=s.pluginParams||{});var c=d[e.name]||{};l.wrapper=e.create(l.parentContainer,l.domId,u,w,this.elementId,c),Yt(t,n,a,r),Kt(t,a.contentMetadata)}},this),nt=t.bind(function(t,i){"number"==typeof I&&d.publish(e.EVENTS.CHANGE_VOLUME,I,i.videoId),Pt(i.videoId)},this),at=t.bind(function(i,n){if(n){if(this.focusVideoId===n&&lt(n),Vt(n),this.activeInstances[n]){var a=this.activeInstances[n].element;delete this.activeInstances[n],a&&!rt(a)&&(Rt(a,"destroy",[]),p=t.without(p,a),a=null)}d.publish(e.EVENTS.VC_VIDEO_ELEMENT_DISPOSED,n)}},this),rt=t.bind(function(e){if(!e)return!1;for(var t in this.activeInstances)if(this.activeInstances[t]&&this.activeInstances[t].element&&this.activeInstances[t].element===e)return!0;return!1},this),st=t.bind(function(t,i){e.isIos&&i&&i.duration>0&&St("","",{mode:g})},this),ot=t.bind(function(i,n,r){if(n&&this.focusVideoId===n)return void d.publish(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,n);if(this.focusVideoId&&(b&&this.focusVideoId===e.VIDEO.MAIN&&this.activeInstances[this.focusVideoId]&&this.activeInstances[this.focusVideoId].isLive&&!$(a[this.activeInstances[this.focusVideoId].plugin])?(v=null===I?1:I,Ct(this.focusVideoId,"setVolume",[0])):lt(this.focusVideoId)),this.focusVideoId=null,n&&this.activeInstances[n]){this.focusVideoId=n,this.focusVideoId===e.VIDEO.MAIN&&null!==v&&Ct(this.focusVideoId,"setVolume",[v]),r&&n===e.VIDEO.MAIN&&(this.activeInstances[n].isControllingElement=!1),Ht(n);var s={visibility:"visible"};e.isIos?s.display=e.CSS.VISIBLE_DISPLAY:s.left="0px",Rt(this.activeInstances[n].element,"applyCss",[s]),e.isIos?t.delay(function(){d.publish(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,n)},1):d.publish(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,n),St("",f,{mode:g})}},this),lt=t.bind(function(t){if(t&&this.activeInstances&&this.activeInstances[t]&&this.activeInstances[t].element){this.focusVideoId===e.VIDEO.ADS&&null!==v&&Ct(e.VIDEO.MAIN,"setVolume",[v]),d.publish(e.EVENTS.VC_PAUSE,t,"transition"),this.focusVideoId=null;var i={visibility:"hidden"};e.isIos?i.display=e.CSS.INVISIBLE_DISPLAY:i.left="-100000px",Rt(this.activeInstances[t].element,"applyCss",[i]),Rt(this.activeInstances[t].element,"setClosedCaptionsMode",[e.CONSTANTS.CLOSED_CAPTIONS.DISABLED]),d.publish(e.EVENTS.VC_VIDEO_ELEMENT_LOST_FOCUS,t)}},this),ut=t.bind(function(){this.activeInstances[this.focusVideoId]&&Rt(this.activeInstances[this.focusVideoId].element,"onAdsPlayed")},this),dt=t.bind(function(t,i,n,a){if(i&&this.activeInstances&&this.activeInstances[i]&&this.activeInstances[i].element){if(!n)return void Yt(i,"",{url:""},!1);var r=K(n,this.activeInstances[i].element.supportedEncodings,j());return r?void Yt(i,r,n[r],a||this.activeInstances[i].isLive):void d.publish(e.EVENTS.VC_ERROR,i,{code:e.ERROR.VC.UNSUPPORTED_ENCODING})}},this),ct=t.bind(function(e,t){N&&Ct(t,"load",[!0])},this),ht=t.bind(function(e,t){Ct(t,"load",[!1])},this),pt=t.bind(function(e,t,i){this.activeInstances&&this.activeInstances[t]&&this.activeInstances[t].element&&Rt(this.activeInstances[t].element,"setInitialTime",[i])},this),Et=t.bind(function(){for(var e in this.activeInstances)Ct(e,"primeVideoElement",[])},this),ft=t.bind(function(){d.publish(e.EVENTS.VC_PLAY,this.focusVideoId)},this),gt=t.bind(function(e,t,i){this.activeInstances&&this.activeInstances[t]&&(i&&(this.activeInstances[t].stream?this.activeInstances[t].stream.url=i:this.activeInstances[t].stream={url:i}),Ht(t),this.activeInstances[t].stream&&this.activeInstances[t].stream.url&&(Yt(t,this.activeInstances[t].encoding,this.activeInstances[t].stream,this.activeInstances[t].isLive),this.activeInstances[t].playing=!0),Rt(this.activeInstances[t].element,"play",[]))},this),yt=t.bind(function(){d.publish(e.EVENTS.VC_PAUSE,this.focusVideoId)},this),Tt=t.bind(function(e,t){Ct(t,"pause",[])},this),mt=t.bind(function(t,i,n){var a=n||this.focusVideoId;d.publish(e.EVENTS.VC_SEEK,a,i)},this),_t=t.bind(function(e,t,i){t&&this.activeInstances[t]&&this.activeInstances[t].element&&this.activeInstances[t].element.wrapper&&Ct(t,"seek",[i])},this),Ot=t.bind(function(e,t,i){if("number"!=typeof t||0>t||t>1)return void n("Can not assign volume with invalid value",t);if(I=t,i)Ct(i,"setVolume",[I]);else for(var a=0;a<p.length;a++)Rt(p[a],"setVolume",[I])},this),At=t.bind(function(){Xt()},this),It=t.bind(function(e,t){t&&this.activeInstances[t]&&(this.activeInstances[t].disableNativeSeek=!1,this.activeInstances[t].isControllingElement&&this.activeInstances[t].element&&this.activeInstances[t].element.isControllingObject&&this.activeInstances[t].element.wrapper&&(this.activeInstances[t].element.wrapper.disableNativeSeek=!1))},this),vt=t.bind(function(e,t){t&&this.activeInstances[t]&&(this.activeInstances[t].disableNativeSeek=!0,this.activeInstances[t].isControllingElement&&this.activeInstances[t].element&&this.activeInstances[t].element.isControllingObject&&this.activeInstances[t].element.wrapper&&(this.activeInstances[t].element.wrapper.disableNativeSeek=!0))},this),St=t.bind(function(t,i,n){var a=n||{};null==a.mode&&(a.mode=e.CONSTANTS.CLOSED_CAPTIONS.SHOWING),f=i,g=a.mode,this.focusVideoId&&a.mode==e.CONSTANTS.CLOSED_CAPTIONS.DISABLED?Ct(this.focusVideoId,"setClosedCaptionsMode",[a.mode]):this.activeInstances[this.focusVideoId]&&(a.mode==e.CONSTANTS.CLOSED_CAPTIONS.HIDDEN&&(e.isIphone||e.isIpad&&a.isFullScreen)&&(a.mode=e.CONSTANTS.CLOSED_CAPTIONS.SHOWING),Ct(this.focusVideoId,"setClosedCaptions",[i,this.activeInstances[this.focusVideoId].closedCaptions,a]))},this),bt=t.bind(function(i,n){this.focusVideoId&&t.contains(a[this.activeInstances[this.focusVideoId].plugin].features,e.VIDEO.FEATURE.BITRATE_CONTROL)&&Ct(this.focusVideoId,"setBitrate",[n])},this);this.onDestroy=function(){for(var t in this.activeInstances)at(e.EVENTS.DESTROY,t)},this.notify=function(i,a,r,s){var o=s||{};switch(r){case this.EVENTS.PLAY:d.publish(e.EVENTS.VC_WILL_PLAY,i,o.url);break;case this.EVENTS.CAN_PLAY:d.publish(e.EVENTS.VC_CAN_PLAY,i);break;case this.EVENTS.PLAYING:d.publish(e.EVENTS.VC_PLAYING,i);break;case this.EVENTS.ENDED:this.activeInstances[i]&&(this.activeInstances[i].playing=!1),d.publish(e.EVENTS.VC_PLAYED,i);break;case this.EVENTS.ERROR:this.markReady(i),this.activeInstances[i]&&(this.activeInstances[i].playing=!1),zt(o.errorcode,i);break;case this.EVENTS.SEEKING:d.publish(e.EVENTS.VC_SEEKING,i);break;case this.EVENTS.SEEKED:if(this.activeInstances[i]){var l=Rt(this.activeInstances[i].element,"getCurrentTime");d.publish(e.EVENTS.VC_SEEKED,i,l)}break;case this.EVENTS.PAUSED:d.publish(e.EVENTS.VC_PAUSED,i);break;case this.EVENTS.TIME_UPDATE:if("number"!=typeof o.duration)return;if("number"!=typeof o.currentTime)return;var u;this.activeInstances[i].isLive&&(u=o.currentLiveTime),d.publish(e.EVENTS.PLAYHEAD_TIME_CHANGED,o.currentTime,o.duration,o.buffer,o.seekRange,i,u);break;case this.EVENTS.VOLUME_CHANGE:d.publish(e.EVENTS.VOLUME_CHANGED,o.volume,i);break;case this.EVENTS.BUFFERING:d.publish(e.EVENTS.BUFFERING,o.url,i);break;case this.EVENTS.BUFFERED:d.publish(e.EVENTS.BUFFERED,o.url,i);break;case this.EVENTS.DURATION_CHANGE:if("number"!=typeof o.duration)return;d.publish(e.EVENTS.PLAYHEAD_TIME_CHANGED,o.currentTime,o.duration,o.buffer,o.seekRange,i);break;case this.EVENTS.PROGRESS:d.publish(e.EVENTS.DOWNLOADING,o.currentTime,o.duration,o.buffer,o.seekRange,i);break;case this.EVENTS.WAITING:d.publish(e.EVENTS.BUFFERING,o.url,i);break;case this.EVENTS.FULLSCREEN_CHANGED:d.publish(e.EVENTS.FULLSCREEN_CHANGED,o.isFullScreen,o.paused,i),St("",f,{mode:g,isFullScreen:o.isFullScreen});break;case this.EVENTS.CAPTIONS_FOUND_ON_PLAYING:if(this.activeInstances[i]&&s){Lt(i,"anonymous");var c={videoId:i,languages:[],locale:{}};this.activeInstances[i].closedCaptions&&this.activeInstances[i].closedCaptions.availableLanguages&&this.activeInstances[i].closedCaptions.locale&&(c.languages=this.activeInstances[i].closedCaptions.availableLanguages,c.locale=this.activeInstances[i].closedCaptions.locale),c.languages=t.union(c.languages,s.languages),c.locale=t.extend(c.locale,s.locale),d.publish(e.EVENTS.CLOSED_CAPTIONS_INFO_AVAILABLE,c)}break;case this.EVENTS.ASSET_DIMENSION:"number"==typeof o.width&&o.width>0&&"number"==typeof o.height&&o.height>0&&(t.extend(o,{videoId:i}),d.publish(e.EVENTS.ASSET_DIMENSION,o));break;case this.EVENTS.BITRATES_AVAILABLE:d.publish(e.EVENTS.BITRATE_INFO_AVAILABLE,{bitrates:s});break;case this.EVENTS.BITRATE_CHANGED:Qt(s)?d.publish(e.EVENTS.BITRATE_CHANGED,s):n("Invalid bitrate object reported",s);break;case this.EVENTS.CLOSED_CAPTION_CUE_CHANGED:if("string"!=typeof s)return;d.publish(e.EVENTS.CLOSED_CAPTION_CUE_CHANGED,s);break;case this.EVENTS.METADATA_FOUND:s.type&&s.data&&d.publish(e.EVENTS.VC_TAG_FOUND,i,s.type,s.data)}},this.markNotReady=function(t){t&&this.activeInstances[t]&&!S&&(h.push(t),null===c&&(d.addDependent(e.EVENTS.PLAYBACK_READY,e.EVENTS.VC_READY,"vtc",Nt),c=setTimeout(Dt,u)))},this.markReady=function(i){(null!==c||0!==h.length)&&(h=i?t.without(h,i):[],0===h.length&&(null!==c&&(clearTimeout(c),c=null),d.publish(e.EVENTS.VC_READY)))};var Nt=function(e,t,i){return i},Dt=t.bind(function(){this.markReady()},this),Rt=function(e,i,n){if(e){var a=e.wrapper;if(a){try{if(t.isFunction(a[i]))return a[i].apply(a,n)}catch(r){console.warn("Video tech plugin",e&&e.plugin,"at function '"+i+"' threw exception - ",r)}return null}}},Ct=t.bind(function(e,t,i){return this.activeInstances[e]&&this.activeInstances[e].element&&this.activeInstances[e].isControllingElement?Rt(this.activeInstances[e].element,t,i):void 0},this),Lt=t.bind(function(e,t){this.activeInstances[e]&&(this.activeInstances[e].crossorigin=t,Pt(e))},this),Pt=t.bind(function(e){this.activeInstances[e]&&(this.activeInstances[e].crossorigin?Ct(e,"setCrossorigin",[this.activeInstances[e].crossorigin]):Ct(e,"setCrossorigin",[null]))},this),wt=t.bind(function(e){var t=kt(e);Pt(e),this.activeInstances[e].element.wrapper.controller=this.activeInstances[e].vtcInterface,Bt(this.activeInstances[e],t)},this),kt=t.bind(function(e){var t=this.activeInstances[e];if(t.isControllingElement)return t;var i=null;for(var a in this.activeInstances)if(this.activeInstances[a]&&this.activeInstances[a].element&&this.activeInstances[a].element===t.element&&this.activeInstances[a].isControllingElement){i=this.activeInstances[a];break}return n("Switching element between instances.  From: '"+a+"', To: '"+e+"'"),t.isControllingElement=!0,i?(i.isControllingElement=!1,i):void 0},this),Vt=t.bind(function(e){var t=this.activeInstances[e];if(t&&t.isControllingElement){var i=null;for(var n in this.activeInstances)if(this.activeInstances[n]&&this.activeInstances[n].element&&this.activeInstances[n].element===t.element&&!this.activeInstances[n].isControllingElement){i=this.activeInstances[n];break}t.isControllingElement=!1,i&&(i.isControllingElement=!0)}},this),Ft=t.bind(function(e){if(!this.activeInstances[e].element.isControllingObject){var t=this.activeInstances[e].element.sharedObjectToInstance;n("Switching wrapper between elements.  From: '"+t+"', To: '"+e+"'"),Rt(this.activeInstances[t].element,"sharedElementGive",[]),this.activeInstances[t].element.isControllingObject=!1,Rt(this.activeInstances[e].element,"sharedElementTake",[]),this.activeInstances[e].element.isControllingObject=!0,Bt(this.activeInstances[e],this.activeInstances[t])}},this),Bt=t.bind(function(i,n){if(n&&(n.playing===!0?(n.playhead=Rt(n.element,"getCurrentTime"),e.isIos&&0===n.playhead&&(n.playhead=this.currentPlayhead,this.currentPlayhead=0)):n.playhead=0),i.stream){var a=i.stream,r=i.encoding,s=i.isLive;Ct(i.element,"setPlatform",[i.params.platform,r]),Rt(i.element,"setVideoUrl",[a.url,r,s||!1]),i.playing=!1,a.drm&&!t.isEmpty(a.drm)&&Wt(r)&&Rt(i.element,"setDRM",[a.drm])}i.playhead>0&&Rt(i.element,"setInitialTime",[i.playhead]),i.element&&i.element.wrapper&&(i.element.wrapper.disableNativeSeek=i.disableNativeSeek)},this);this.disposeAnyElementKeepInstance=function(){var t=e.VIDEO.TECHNOLOGY.HTML5,i=Mt(t);Ut(i)};var Mt=t.bind(function(t){var i=null;for(var n in this.activeInstances)if(this.activeInstances[n]&&this.activeInstances[n].element){var r=a[this.activeInstances[n].plugin].technology;if(r===t)return n;r===e.VIDEO.TECHNOLOGY.MIXED&&(i=n)}return i},this),Ut=t.bind(function(e){if(e){this.activeInstances[e].playhead=this.activeInstances[e].playing===!0?Rt(this.activeInstances[e].element,"getCurrentTime"):0,this.focusVideoId===e&&lt(e);for(var i in this.activeInstances)i!==e&&this.activeInstances[i]&&this.activeInstances[i].element&&this.activeInstances[i].element===this.activeInstances[e].element&&(this.activeInstances[i].isControllingElement=!0,this.activeInstances[i].element=null);this.activeInstances[e].element&&(Rt(this.activeInstances[e].element,"destroy",[]),p=t.without(p,this.activeInstances[e].element),this.activeInstances[i].isControllingElement=!0,this.activeInstances[e].element=null)}},this),xt=t.bind(function(e){var t=this.activeInstances[e].playhead;X(a[this.activeInstances[e].plugin],e,this.activeInstances[e].parentContainer,this.activeInstances[e].encoding,this.activeInstances[e].stream,this.activeInstances[e].isLive,this.activeInstances[e].params),nt("recreate",{videoId:e}),t>0&&Rt(this.activeInstances[e].element,"setInitialTime",[t]),this.activeInstances[e].element&&this.activeInstances[e].element.wrapper&&(this.activeInstances[e].element.wrapper.disableNativeSeek=this.activeInstances[e].disableNativeSeek)},this),Ht=t.bind(function(e){this.activeInstances[e]&&!this.activeInstances[e].element&&xt(e),this.activeInstances[e].isControllingElement||wt(e),Ft(e)},this),Gt=t.bind(function(e){var t=i("#"+e);if(t.length>0&&!t.is("video")){var n=t.find("video").attr("id");if(n)return n}return e},this),Yt=t.bind(function(e,i,n,a){return this.activeInstances[e]?(this.activeInstances[e].playhead=0,this.activeInstances[e].playing=!1,this.activeInstances[e].stream=n,this.activeInstances[e].encoding=i,this.activeInstances[e].isLive=!!a,n.drm&&!t.isEmpty(n.drm)&&Wt(i)&&Ct(e,"setDRM",[n.drm]),Ct(e,"setPlatform",[this.activeInstances[e].params.platform,i]),Ct(e,"setVideoUrl",[n.url,i,a||!1])):void 0},this),Wt=t.bind(function(t){for(var i in e.VIDEO.ENCODING.DRM)if(e.VIDEO.ENCODING.DRM[i]==t)return!0;return!1},this),jt=t.bind(function(e,t){this.activeInstances[e]&&(this.activeInstances[e].closedCaptions=t)},this),Kt=t.bind(function(e,t){this.activeInstances[e]&&t&&Ct(e,"setSecureContent",[t])},this),zt=t.bind(function(t,i){return O?(qt(),void d.publish(e.EVENTS.VC_PLAY_FAILED,i,JSON.stringify(t))):(e.d("Error not emitted: "+t),A.push(t),void d.publish(e.EVENTS.PAGE_PROBABLY_UNLOADING))},this),qt=t.bind(function(){O=!0;var i="";t.each(A,function(t){d.publish(e.EVENTS.VC_PLAY_FAILED,i,JSON.stringify(t))}),A=[]},this),Xt=t.bind(function(){O=!1,clearTimeout(_),t.delay(t.bind(function(){_=t.delay(qt,5e3)},this),1)},this),$t=function(){return Math.random().toString(36).substring(7)},Qt=function(e){if(!e)return!1;var t=void 0!==e.id&&"string"==typeof e.id,i=void 0!==e.bitrate&&("number"==typeof e.bitrate||"string"==typeof e.bitrate),n=void 0!==e.height&&"number"==typeof e.height,a=void 0!==e.width&&"number"==typeof e.width;return t&&i&&n&&a},Zt=this,Jt={getRegisteredPlugins:function(){return e.Video.getRegisteredPlugins()},getEncodingPriority:function(){return j()},getSupportedEncodings:function(){return W(this.getRegisteredPlugins())},getVideoInstances:function(){return Zt.activeInstances},getVideoElements:function(){return p}};k()};e.registerModule("videoController",function(e,t){return new l(e,t)})}(OO,OO._,OO.$),function(e,t,i){var n=function(i,n){this.toString=function(){return"metadata-controller"},this.mb=i,this.id=n,this.metadataFetched=!1,this.metadata=null,this.mb.subscribe(e.EVENTS.METADATA_FETCHED,"metadata",t.bind(this.onMetadataFetched,this)),this.mb.subscribe(e.EVENTS.SET_EMBED_CODE,"metadata",t.bind(this.onSetEmbedCode,this)),this.mb.subscribe(e.EVENTS.SET_EMBED_CODE_AFTER_OOYALA_AD,"metadata",t.bind(this.onSetEmbedCode,this))};t.extend(n.prototype,{onMetadataFetched:function(e,t){this.metadataFetched=!0,this.metadata=t},onSetEmbedCode:function(n,a){this.metadataFetched=!1,this.metadata=null;var r={server:e.SERVER.API,embedCode:a};i.ajax({url:e.URLS.THUMBNAILS(r),type:"GET",dataType:"json",cache:!0,success:t.bind(this._thumbnailsFetched,this),error:t.bind(this._thumbnailsFailed,this)})},_thumbnailsFetched:function(i){i&&i.data&&!t.isEmpty(i.data.thumbnails)&&this.mb.publish(e.EVENTS.THUMBNAILS_FETCHED,i)},_thumbnailsFailed:function(){this.metadataFetched&&this.onMetadataFetched("",this.metadata)}}),e.registerModule("metadataController",function(e,t){return new n(e,t)})}(OO,OO._,OO.$),function(e,t,i){var n=function(t,i,n){this.mb=t,this.id=i,this.params=n||{},this.ooyalaAds=!1,this.contentTree={},this.metadata={},this.skinMetadata={},this.attributes={},this.sasResponse={},this.authToken=e.localStorage.getItem("oo_auth_token"),this._aborting=!1,this._contentAjax=null,this._metadataAjax=null,this._sasAjax=null,e.StateMachine.create({initial:"Init",messageBus:this.mb,moduleName:"Api",target:this,events:[{name:e.EVENTS.SET_EMBED_CODE,from:"*",to:"Init"},{name:e.EVENTS.SET_EMBED_CODE_AFTER_OOYALA_AD,from:"*",to:"Init"},{name:e.EVENTS.EMBED_CODE_CHANGED,from:"Init",to:"WaitingForAPIResponse"},{name:e.EVENTS.EMBED_CODE_CHANGED_AFTER_OOYALA_AD,from:"Init",to:"WaitingForAPIResponse"},{name:e.EVENTS.WILL_FETCH_CONTENT_TREE,from:"WaitingForAPIResponse"},{name:e.EVENTS.WILL_FETCH_METADATA,from:"WaitingForAPIResponse"},{name:e.EVENTS.WILL_FETCH_AUTHORIZATION,from:"WaitingForAPIResponse"},{name:e.EVENTS.WILL_FETCH_AD_AUTHORIZATION,from:["WaitingForAPIResponse","Init"]},{name:e.EVENTS.PLAYBACK_READY,from:"WaitingForAPIResponse",to:"Init"}]})};t.extend(n.prototype,{_processSetEmbedCode:function(e,t,i){this.rootEmbedCode=t,this.adSetCode=i?i.adSetCode:void 0,this.embedToken=i&&i.embedToken||this.embedToken,this.authToken=i&&i.authToken||this.authToken},onSetEmbedCode:function(t,i,n){this._processSetEmbedCode(t,i,n),this.mb.publish(e.EVENTS.EMBED_CODE_CHANGED,i,n)},onSetEmbedCodeAfterOoyalaAd:function(t,i,n){this._processSetEmbedCode(t,i,n),this.mb.publish(e.EVENTS.EMBED_CODE_CHANGED_AFTER_OOYALA_AD,i,n)},_processOnEmbedCodeChanged:function(i,n,a){this.currentEmbedCode=n;var r={};a&&a.ooyalaAds&&(r=a),this._abort(this._contentAjax),this._abort(this._metadataAjax),this._abort(this._sasAjax);var s={embedCode:this.currentEmbedCode,pcode:e.playerParams.pcode||"unknown",playerBrandingId:e.playerParams.playerBrandingId||"unknown",params:r};t.isEmpty(this.adSetCode)||t.extend(s.params,{adSetCode:this.adSetCode}),t.isEmpty(this.embedToken)||t.extend(s.params,{embedToken:this.embedToken});var o=t.extend({},s,{server:e.SERVER.API}),l=t.extend({},s,{server:e.SERVER.AUTH});this.mb.publish(e.EVENTS.WILL_FETCH_METADATA,o),e.requiredInEnvironment("html5-playback")&&(this.mb.publish(e.EVENTS.WILL_FETCH_PLAYER_XML,o),this.mb.publish(e.EVENTS.WILL_FETCH_CONTENT_TREE,o),this.mb.publish(e.EVENTS.WILL_FETCH_AUTHORIZATION,l))},onEmbedCodeChangedAfterOoyalaAd:function(e,t,i){this._processOnEmbedCodeChanged(e,t,i)},onEmbedCodeChanged:function(e,t,i){this._processOnEmbedCodeChanged(e,t,i)},onWillFetchContentTree:function(n,a){this.ooyalaAds=a.params&&a.params.ooyalaAds?a.params.ooyalaAds:!1,"undefined"!=typeof this.contentTree[this.currentEmbedCode]?this.mb.publish(e.EVENTS.CONTENT_TREE_FETCHED,this.contentTree[this.currentEmbedCode],this.ooyalaAds):this._contentAjax=i.ajax({url:e.URLS.CONTENT_TREE(a)+"?"+i.param(a.params),type:"GET",dataType:"json",crossDomain:!0,success:t.bind(this._onContentTreeFetched,this),error:function(e){return function(t,i,n){e._onApiError(t,i,"Error in Content Tree request. "+n,this.url)}}(this)})},_onContentTreeFetched:function(i){var n=e.HM.safeObject("playbackControl.contentTree",i,{});this._contentAjax=null,n.errors&&0==n.errors.code&&t.each(n.content_tree,t.bind(function(e,t){this.contentTree[t]=n.content_tree[t]},this));var a=["Video","VideoAd","LiveStream","Channel","MultiChannel","Youtube"];if(this.contentTree[this.currentEmbedCode]){var r=n.content_tree[this.currentEmbedCode].hostedAtURL;(""==r||null==r)&&(n.content_tree[this.currentEmbedCode].hostedAtURL=document.URL);var s=a.indexOf(this.contentTree[this.currentEmbedCode].content_type)>=0;s?this.mb.publish(e.EVENTS.CONTENT_TREE_FETCHED,this.contentTree[this.currentEmbedCode],this.ooyalaAds):this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.CONTENT_TREE})}else this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.UNPLAYABLE_CONTENT})},onWillFetchMetadata:function(n,a){this.ooyalaAds=a.params&&a.params.ooyalaAds?a.params.ooyalaAds:!1,"undefined"!=typeof this.metadata[this.currentEmbedCode]?this.mb.publish(e.EVENTS.METADATA_FETCHED,this.metadata[this.currentEmbedCode],this.ooyalaAds):this._metadataAjax=i.ajax({url:e.URLS.METADATA(a)+"&"+i.param(a.params),type:"GET",dataType:"json",crossDomain:!0,success:t.bind(this._onMetadataFetched,this),error:function(e){return function(t,i,n){e._onApiError(t,i,"Error in Metadata request. "+n,this.url)}}(this)})},_onMetadataFetched:function(i){this.metadata=this.metadata||{};var n=e.HM.safeObject("api.metadata",i,{});this._metadataAjax=null,n.errors&&0==n.errors.code&&(this.skinMetadata=n.skin,this.attributes=n.attributes,t.each(n.metadata,t.bind(function(e,i){this.metadata[i]=n.metadata[i],this.metadata[i].modules=this.metadata[i].modules||{},this.metadata[i].modules=t.extend(this.metadata[i].modules,this.params.modules||{})},this))),this.mb.publish(e.EVENTS.METADATA_FETCHED,this.metadata[this.currentEmbedCode]||{},this.ooyalaAds),this.skinMetadata&&this.mb.publish(e.EVENTS.SKIN_METADATA_FETCHED,this.skinMetadata),this.attributes&&this.mb.publish(e.EVENTS.ATTRIBUTES_FETCHED,this.attributes),n.errors&&n.errors.player_movie_mismatch&&"undefined"!=typeof window.console&&"function"==typeof window.console.log&&console.log("WARNING: Player and movie providers do not match")},onWillFetchAuthorization:function(i,n){this.ooyalaAds=n.params&&n.params.ooyalaAds?n.params.ooyalaAds:!1,this.sasResponse[this.currentEmbedCode]&&0==this.sasResponse[this.currentEmbedCode].code?this.mb.publish(e.EVENTS.AUTHORIZATION_FETCHED,this.sasResponse[this.currentEmbedCode],this.ooyalaAds):this._sendSasRequest(n,t.bind(this._onAuthorizationFetched,this),function(e){return function(t,i,n){e._onApiError(t,i,"Error in SAS request. "+n,this.url)}}(this))},_onAuthorizationFetched:function(i){var n,a;this._sasAjax=null;var r=e.HM.safeObject("playbackControl.sasResponse",i,{});return r.auth_token?(e.setItem("oo_auth_token",r.auth_token),this.authToken=r.auth_token):(e.localStorage.removeItem("oo_auth_token"),this.authToken=null),t.each(r.authorization_data,t.bind(function(e,t){this.sasResponse[t]=r.authorization_data[t],r.debug_data&&(this.sasResponse[t].debug_data=r.debug_data),r.user_info&&(this.sasResponse[t].user_info=r.user_info),r.auth_token&&(this.sasResponse[t].auth_token=r.auth_token),r.heartbeat_data&&(this.sasResponse[t].heartbeat_data=r.heartbeat_data)},this)),n=this.sasResponse[this.currentEmbedCode].code,0==n?void this.mb.publish(e.EVENTS.AUTHORIZATION_FETCHED,this.sasResponse[this.currentEmbedCode],this.ooyalaAds):t.isString(n)?(a=n.split(","),void(t.contains(a,"2")?this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.DOMAIN}):t.contains(a,"3")?this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.GEO}):t.contains(a,"4")?this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.FUTURE}):t.contains(a,"5")?this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.PAST}):t.contains(a,"13")?this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.DEVICE}):t.contains(a,"18")?this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.CONCURRENT_STREAMS}):t.contains(a,"24")?this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.PROXY}):this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.GENERIC}))):void this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.GENERIC})},onWillFetchAdAuthorization:function(e,i){this._sendSasRequest(i,t.bind(this._onAdAuthorizationFetched,this))},_onAdAuthorizationFetched:function(i){var n=e.HM.safeObject("playbackControl.sasResponse",i,{}),a={};t.each(n.authorization_data,t.bind(function(e,t){a[t]=n.authorization_data[t]},this)),this.mb.publish(e.EVENTS.AD_AUTHORIZATION_FETCHED,a)},_sendSasRequest:function(t,n,a){var r=e.supportedVideoProfiles,s=e.device;i.extend(t.params,{device:s,domain:e.docDomain}),r&&i.extend(t.params,{profiles:r}),this.authToken&&i.extend(t.params,{auth_token:this.authToken}),this._sasAjax=i.ajax({url:e.URLS.SAS(t)+"?"+i.param(t.params),type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0,success:n,error:a})},_abort:function(e){e&&(this._aborting=!0,e.abort(),this._aborting=!1)},_onApiError:function(t,i,n,a){this._aborting||(e.d(n,i,t,a),this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.NETWORK,xhrStatus:i,description:n,url:a}))},__placeholder:!0}),e.registerModule("api",function(e,t,i){return new n(e,t,i)})}(OO,OO._,OO.$),OO.plugin("Channels",function(e,t){var i=function(t,i){this.id=i,this.mb=t,this.channel_tree=null,this.channel_pos=-1,this.replay=!1,e.StateMachine.create({initial:"Init",messageBus:this.mb,moduleName:"Channels",target:this,events:[{name:e.EVENTS.PLAYER_CREATED,from:"*"}]})};return t.extend(i.prototype,{onPlayerCreated:function(i,n,a){this.enableChannels=a.enableChannels||e.playerParams.enableChannels||!1,this.mb.intercept(e.EVENTS.CONTENT_TREE_FETCHED,"channels",t.bind(this._checkTreeForChannel,this))},_checkTreeForChannel:function(i,n,a){var r=["Channel","MultiChannel"];if(n&&(r.indexOf(n.content_type)>=0||n.lineup)){if(this.enableChannels){if(e.requiredInEnvironment("html5-playback")||e.requiredInEnvironment("cast-playback")){if(!n.children)return"Channel"==n.content_type?this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.EMPTY_CHANNEL}):this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.EMPTY_CHANNEL_SET}),!1;
this.channel_tree=n,this.channel_pos=0,this.mb.subscribe(e.EVENTS.PLAYED,"channels",t.bind(this.onPlayed,this)),this.mb.subscribe(e.EVENTS.PLAYBACK_READY,"channels",t.bind(this.onPlaybackReady,this)),this.mb.publish(e.EVENTS.SET_EMBED_CODE,n.children[0].embed_code)}return!1}return this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.CHANNEL_CONTENT}),!1}return[n,a]},onPlayed:function(){this.channel_pos++,this.channel_tree.children[this.channel_pos]?this.mb.publish(e.EVENTS.SET_EMBED_CODE,this.channel_tree.children[this.channel_pos].embed_code):(this.channel_pos=0,this.mb.publish(e.EVENTS.SET_EMBED_CODE,this.channel_tree.children[0].embed_code))},onPlaybackReady:function(){this.channel_pos>0&&this.mb.publish(e.EVENTS.PLAY)}}),i}),OO.plugin("ExternalId",function(e,t,i){var n=function(i,n){this.id=n,this.mb=i,this.mb.intercept(e.EVENTS.SET_EMBED_CODE,"ExternalId",t.bind(this._checkExternalId,this))};return t.extend(n.prototype,{_checkExternalId:function(t,i,n){var a=i.match("^extId:(.*)");return a&&a[1]?(this.externalId=a[1],this.options=n||{},this._fetchExternalId({externalId:this.externalId,pcode:e.playerParams.pcode||"1kNG061cgaoolOncv54OAO1ceO-I",server:e.SERVER.API}),!1):[i,n]},_fetchExternalId:function(n){this._contentAjax=i.ajax({url:e.URLS.EXTERNAL_ID(n),type:"GET",dataType:"json",crossDomain:!0,cache:!1,success:t.bind(this._onExternalIdFetched,this),error:t.bind(this._onExternalIdError,this)})},_onExternalIdFetched:function(i){var n=null,a=e.HM.safeObject("playbackControl.contentTree",i,{});a.errors&&0==a.errors.code&&t.each(a.content_tree,t.bind(function(e,t){e.external_id===this.externalId&&(n=t)},this)),t.extend(this.options,{originalId:this.externalId}),n?this.mb.publish(e.EVENTS.SET_EMBED_CODE,n,this.options):this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.INVALID_EXTERNAL_ID})},_onExternalIdError:function(){this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.INVALID_EXTERNAL_ID})}}),n}),function(e,t,i){var n=function(i,n){e.requiredInEnvironment("html5-playback")&&(this.mb=i,this.id=n,this.embedCode=null,this.authToken=null,this.heartbeatInterval=300,this.timer=null,this.retries=3,this.AUTH_HEARTBEAT_URL=t.template("<%=server%>/player_api/v1/auth_heartbeat/pcode/<%=pcode%>/auth_token/<%=authToken%>?embed_code=<%=embedCode%>"),this.mb.subscribe(e.EVENTS.EMBED_CODE_CHANGED,"auth_heartbeat",t.bind(this._onEmbedCodeChanged,this)),this.mb.subscribe(e.EVENTS.AUTHORIZATION_FETCHED,"auth_heartbeat",t.bind(this._onAuthorizationFetched,this)))};t.extend(n.prototype,{_onEmbedCodeChanged:function(e,t){this.embedCode=t,this.timer&&clearInterval(this.timer),this.ajax&&(this.ajax.error=null,this.ajax.abort(),this.ajax=null),this.retries=3},_onAuthorizationFetched:function(e,i){i.heartbeat_data&&i.heartbeat_data.heartbeat_interval&&(this.heartbeatInterval=i.heartbeat_data.heartbeat_interval),i.auth_token&&(this.authToken=i.auth_token),i.require_heartbeat===!0&&(this.timer=setInterval(t.bind(this._onTimerTick,this),1e3*this.heartbeatInterval),this._onTimerTick())},_onTimerTick:function(){this.ajax=i.ajax({url:this.AUTH_HEARTBEAT_URL({server:e.SERVER.AUTH,pcode:e.playerParams.pcode||"unknown",authToken:this.authToken||"",embedCode:this.embedCode||""}),type:"GET",dataType:"json",crossDomain:!0,cache:!1,success:t.bind(this._onHeartbeatResponse,this),error:t.bind(this._onHeartbeatErrorResponse,this)})},_onHeartbeatResponse:function(t){this.ajax=null,t.message&&"OK"==t.message&&t.signature?!t.expires||t.expires<(new Date).getTime()/1e3?this._onHeartbeatError(e.ERROR.API.SAS.INVALID_HEARTBEAT):(this.retries=3,null!=t.auth_token&&(this.authToken=t.auth_token,e.setItem("oo_auth_token",t.auth_token))):this._onHeartbeatError(e.ERROR.API.SAS.INVALID_HEARTBEAT)},_onHeartbeatErrorResponse:function(t){this.ajax=null,this._onHeartbeatError(t&&t.responseText&&t.responseText.indexOf("Invalid entitlements")>-1?e.ERROR.API.SAS.ERROR_INVALID_ENTITLEMENTS:e.ERROR.API.SAS.CONCURRENT_STREAMS)},_onHeartbeatError:function(t){return this.ajax=null,this.retries--,this.retries>0?void this._onTimerTick():(this.timer&&clearInterval(this.timer),void this.mb.publish(e.EVENTS.ERROR,{code:t}))}}),e.registerModule("auth_heartbeat",function(e,t){return new n(e,t)})}(OO,OO._,OO.$),function(e,t,i){e.EVENTS.AMC_ALL_ADS_DONE="adManagerControllerAllAdsDone",e.EVENTS.AMC_PREROLLS_DONE="adManagerControllerPrerollsDone",e.EVENTS.AMC_ALL_READY="adManagerControllerAllReady",e.EVENTS.AD_POD_STARTED="adPodStarted",e.EVENTS.AD_POD_ENDED="adPodEnded",e.EVENTS.NONLINEAR_AD_PLAYED="nonlinearAdPlayed",e.EVENTS.HIDE_NONLINEAR_AD="hideNonlinearAd",e.EVENTS.SHOW_NONLINEAR_AD="showNonlinearAd",e.EVENTS.SHOW_NONLINEAR_AD_CLOSE_BUTTON="showNonlinearAdCloseButton",e.EVENTS.NONLINEAR_AD_DISPLAYED="nonlinearAdDisplayed",e.EVENTS.AD_MANAGER_HANDLED_ADS="adManagerHandledAds",e.EVENTS.SHOW_AD_SKIP_BUTTON="showAdSkipButton",e.EVENTS.SHOW_AD_CONTROLS="showAdControls",e.EVENTS.SHOW_AD_MARQUEE="showAdMarquee",e.EVENTS.ADS_CLICKTHROUGH_OPENED="adsClickthroughOpened";var n=3e3,a=25e3,r=5,s=8e3,o={},l={PAUSE_AD_ON_CLICK:"pauseAdOnClick",AD_MANAGER_LOAD_TIMEOUT:"adManagerLoadTimeout",AD_LOAD_TIMEOUT:"adLoadTimeout",DISPLAY_CUE_POINTS:"displayCuePointMarkers",REPLAY_ADS:"replayAds",SHOW_NONLINEAR_CLOSE_BUTTON:"showNonLinearCloseButton",SHOW_LINEAR_AD_SKIP_BUTTON:"showLinearAdSkipButton",LINEAR_AD_SKIP_BUTTON_START_TIME:"linearAdSkipButtonStartTime",ALLOW_AD_CLICK_THROUGH_ON_VIDEO:"allowAdClickThroughOnVideo",PAUSE_ON_LIVE_ADS:"pauseOnLiveAds"},u=[];e.Ads={manager:function(n){if("function"==typeof n){var a=n.apply({},[t,i]);e.Ads.validateAdManager(a)&&(e.log("AMC: Registering ad manager factory: "+a.name),o[a.name]=n)}},unregisterAdManager:function(t){e.log("AMC: Removing an ad manager factory: "+t),t&&o[t]&&(u.push(t),delete o[t])},validateAdManager:function(i){function n(t){e.log("AMC: "+t)}function a(e,a,r){return t.has(i,e)?typeof i[e]!=a?(n("The ad manager '"+r+"' property '"+e+"' should be type '"+a+"'"),!1):!0:(n("The ad manager '"+r+"' requires a '"+e+"' property"),!1)}function r(e,a){return t.isFunction(i[e])?!0:(n("The ad manager '"+a+"' requires a '"+e+"' function"),!1)}var s={name:"string",ready:"boolean"},l=["initialize","buildTimeline","playAd","cancelAd"];if(!i)return n(" The ad manager must be defined"),!1;if(!t.isObject(i))return n("The ad manager must be an object"),!1;for(var u in s)if(!a(u,s[u],i.name))return!1;for(var d=0;d<l.length;d++)if(!r(l[d],i.name))return!1;return o[i.name]?(n("The ad manager '"+i.name+"' has already been registered"),!1):!0},getUnregisteredAdManagers:function(){return u}},e.exposeStaticApi("Ads",e.Ads);var d=function(){for(var e=["EVENTS","ADTYPE","AD_CANCEL_CODE","AD_SETTINGS","MAX_AD_REQUEST_TIMEOUT","Ad","ui","platform","adManagerSettings","playerSettings","backlotSettings","pageSettings","currentEmbedCode","movieMetadata","startTime","movieDuration","isLiveStream"],i=["updateMainStreamUrl","playAd","addPlayerListener","removePlayerListener","loadAdModule","notify","onAdManagerReady","removeAdManager","adsClicked","raiseAdError","appendToTimeline","showCompanion","forceAdToPlay","adManagerWillControlAds","adsClickthroughOpened","adManagerDoneControllingAds","notifyPodStarted","notifyPodEnded","notifyLinearAdStarted","notifyLinearAdEnded","notifyNonlinearAdStarted","notifyNonlinearAdEnded","hidePlayerUi","isLastAdPlayed","sendURLToLoadAndPlayNonLinearAd","showSkipVideoAdButton","showNonlinearAdCloseButton","focusAdVideo","getRegisteredAdManagers","unregisterAdManager"],n=t.union(e,i),a=0;a<n.length;a++)if(t.isFunction(E[n[a]]))this[n[a]]=t.bind(E[n[a]],E);else{var r=t.bind(function(e){return this[e]},E,n[a]);Object.defineProperty(this,n[a],{get:r})}},c=function(){this.requiredInEnvironment=e.requiredInEnvironment;for(var t=["platform","os","isIos","iosMajorVersion","isAndroid4Plus","isFirefox","isChrome","chromeMajorVersion","isIE","isIE11Plus","isMacOs","isMacOsLionOrLater","isKindleHD","isSSL","device","isIphone","isIpad","isAndroid","isRimDevice","isWinPhone","isSmartTV","DEV"],i=0;i<t.length;i++)this[t[i]]=e[t[i]]},h=function(i,n,a){var r=i,s=a;this.elementId=null,this.useSingleVideoElement=!1,this.rootElement=null,this.videoWrapper=null,this.playerSkinVideoWrapper=null,this.ooyalaVideoElement=null,this.adVideoElement=null,this.adWrapper=null,this.pluginsElement=null,this.playerSkinPluginsElement=null,this.height=null,this.width=null,this.uiParameters={},this.aliceUiParameters={};var o=null,u=t.bind(function(){this.useSingleVideoElement=e.requiresSingleVideoElement,r.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"amcUi",h),r.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_DISPOSED,"amcUi",f),r.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,"amcUi",g),r.subscribe(e.EVENTS.EMBED_CODE_CHANGED,"amcUi",y),r.subscribe(e.EVENTS.EMBED_CODE_CHANGED_AFTER_OOYALA_AD,"amcUi",T)},this);this.destroy=function(){E(!0),r.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"amcUi"),r.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,"amcUi"),r.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_DISPOSED,"amcUi"),r.unsubscribe(e.EVENTS.EMBED_CODE_CHANGED,"amcUi"),r.unsubscribe(e.EVENTS.EMBED_CODE_CHANGED_AFTER_OOYALA_AD,"amcUi")};var d=function(t){for(var i=t;document.getElementById(i);)i=t+"-"+e.getRandomString();return i};this.setupUiElements=function(){var e=this.uiParameters;this.videoWrapper=this.rootElement.find("."+e.videoWrapperClass),this.pluginsElement=this.videoWrapper.find("."+e.pluginsClass),this.pluginsElement.attr("id",d("ooyala-plugins-element")),this.videoWrapper.attr("id",d("ooyala-inner-wrapper"));var i=this.aliceUiParameters;t.isEmpty(i)||(this.playerSkinVideoWrapper=this.rootElement.find("."+i.videoWrapperClass),this.playerSkinPluginsElement=this.playerSkinVideoWrapper.find("."+i.pluginsClass),this.playerSkinPluginsElement.attr("id",d("ooyala-plugins-element")),this.playerSkinVideoWrapper.attr("id",d("ooyala-inner-wrapper"))),this.adWrapper=this.useSingleVideoElement?this.videoWrapper:this.pluginsElement},this.registerUi=function(){for(var e in s)s[e]&&p(s[e],"registerUi",[])},this.setupAndRegisterUi=function(){this.setupUiElements(),this.registerUi(),(e.isAndroid||e.isIos)&&c()};var c=t.bind(function(){e.log("AMC: Prepping player with a video element on load");var i={};i[e.VIDEO.ENCODING.MP4]="";var n=null,a=[];for(var r in s)if(s[r].videoRestrictions&&(s[r].videoRestrictions.technology&&(n=s[r].videoRestrictions.technology),s[r].videoRestrictions.features))for(var o in s[r].videoRestrictions.features)a.push(s[r].videoRestrictions.features[o]);a=t.uniq(a),this.createAdVideoElement(i,{technology:n,features:a})},this);this.createAdVideoElement=function(t,i){var n={};for(var a in t)n[a]={url:t[a]};r.publish(e.EVENTS.VC_CREATE_VIDEO_ELEMENT,e.VIDEO.ADS,n,this.pluginsElement,i)};var h=t.bind(function(t,i){if(i.videoId===e.VIDEO.MAIN){this.ooyalaVideoElement=i.videoElement;{i.streamUrl}this.useSingleVideoElement&&this.setupAndRegisterUi()}else i.videoId===e.VIDEO.ADS&&(this.adVideoElement=i.videoElement,this.adWrapper=i.parent)},this),E=t.bind(function(t){this.adVideoElement&&(t||e.allowAutoPlay)&&r.publish(e.EVENTS.VC_DISPOSE_VIDEO_ELEMENT,e.VIDEO.ADS)},this),f=t.bind(function(t,i){i===e.VIDEO.ADS&&(this.adVideoElement=null)},this),g=t.bind(function(t,i){if(o=i,o===e.VIDEO.ADS)for(var n in s)s[n]&&p(s[n],"adVideoFocused",[])},this),y=t.bind(function(){E()},this),T=t.bind(function(){E(),(e.isAndroid||e.isIos)&&r.publish(e.EVENTS.VC_FOCUS_VIDEO_ELEMENT,e.VIDEO.MAIN,"true")},this);this.isAdInFocus=function(){return o===e.VIDEO.ADS},this.transitionToAd=function(){r.publish(e.EVENTS.VC_FOCUS_VIDEO_ELEMENT,e.VIDEO.ADS)},this.transitionToMainContent=function(t,i){o!==e.VIDEO.MAIN&&r.publish(e.EVENTS.VC_FOCUS_VIDEO_ELEMENT,e.VIDEO.MAIN),t&&!i&&r.publish(e.EVENTS.VC_PLAY,e.VIDEO.MAIN)},this.shouldDisplayCuePointMarkers=function(){r.publish(e.EVENTS.SHOULD_DISPLAY_CUE_POINTS,n[l.DISPLAY_CUE_POINTS])},this.resetCuePoints=function(t,i){var n=t.map(function(e){return e.position>i?i:e.position},this);r.publish(e.EVENTS.RESET_CUE_POINTS,n)},u()};e.AdManagerController=function(u){var f="adManagerController",g=u,y=!1,T={},m=!1,_={};this.adManagerSettings={},this.playerSettings={},this.backlotSettings=null,this.pageSettings=null;var O=null,A=null,I=null,v="";this.currentEmbedCode="",this.movieMetadata=null,this.startTime=-1,this.movieDuration=-1,this.isLiveStream=!1,this.liveStreamTimestamps={},this.timeMainVideoIdleMs=0;var S=-1,b=[],N=[],D=[],R=!1,C=0,L=0,P=!1,w=!1,k=0,V=!1,F=!1,B=!1;this.ended=!1,this.waitForPostrollToPlay=!0;var M={},U=!1,x=!1,H=!1,G=!1,Y=!1,W=!1,j=!1,K=null,z=null;this.adStarted=!1;var q=!1,X=!1,$={},Q={},Z=!0,J=null,et=!1,tt=!1;this.ui=null,this.platform=null,this.amcInterface=null,this.adManagers={},this.unregisteredAdManagers=[],this.MAX_AD_MODULE_LOAD_TIMEOUT=5e3,this.MAX_AD_REQUEST_TIMEOUT=s;var it="OO Main Video Count";this.testMode=!1,this.AD_SETTINGS=l,this.EVENTS={INITIAL_PLAY_REQUESTED:"initialPlayRequested",REPLAY_REQUESTED:"replayRequested",PLAY_STARTED:"playStarted",PLAYHEAD_TIME_CHANGED:"playheadTimeChanged",AD_PLAYHEAD_TIME_CHANGED:"adPlayheadTimeChanged",PAUSE:"pause",RESUME:"resume",CONTENT_COMPLETED:"contentCompleted",CONTENT_AND_ADS_COMPLETED:"contentAndAdsCompleted",SIZE_CHANGED:"sizeChanged",CONTROLS_SHOWN:"controlsShown",CONTROLS_HIDDEN:"controlsHidden",CONTENT_CHANGED:"contentChanged",FULLSCREEN_CHANGED:"fullscreenChanged",VOLUME_CHANGED:"volumeChanged",AD_VOLUME_CHANGED:"adVolumeChanged",MAIN_CONTENT_IN_FOCUS:"mainContentInFocus",VIDEO_TAG_FOUND:"videoTagFound",CONTENT_URL_CHANGED:"contentURLChanged",NONLINEAR_AD_DISPLAYED:"nonlinearAdDisplayed",WILL_FETCH_AD_AUTHORIZATION:"willFetchAdAuthorization",AMC_PREROLLS_DONE:"amcPrerollsDone",SET_EMBED_CODE:"setEmbedCode",SET_EMBED_CODE_AFTER_OOYALA_AD:"setEmbedCodeAfterOoyalaAd"};var nt={SEEKED:"seeked",CONTENT_VIDEO_PLAYED:"contentVideoPlayed"};this.ADTYPE={LINEAR_OVERLAY:"linearOverlay",NONLINEAR_OVERLAY:"nonlinearOverlay",LINEAR_VIDEO:"linearVideo",COMPANION:"companion",AD_REQUEST:"adRequest",UNKNOWN_AD_REQUEST:"unknownAdRequest"},this.AD_CANCEL_CODE={SKIPPED:"skipped",TIMEOUT:"timeout",ERROR:"error",STREAM_ENDED:"streamEnded"},this.Ad=function(e){e||(e={}),this.id=t.uniqueId(e.adManager+"_"),this.position=e.position||0,this.duration=e.duration||0,this.adManager=e.adManager,this.ad=e.ad||{},this.adType=e.adType||E.ADTYPE.LINEAR_VIDEO,this.isLinear=this.adType===E.ADTYPE.LINEAR_VIDEO||this.adType===E.ADTYPE.LINEAR_OVERLAY,this.isRequest=this.adType===E.ADTYPE.AD_REQUEST||this.adType===E.ADTYPE.UNKNOWN_AD_REQUEST,this.streams=e.streams||{},this.played=!1,this.videoRestrictions=e.videoRestrictions};var at=["Init","Ready","Playback","Reload","Overlay"],rt=["LinearAd"];this.fsm=e.StateMachine.create({initial:"Init",messageBus:g,moduleName:f,target:this,events:[{name:e.EVENTS.PLAYER_CREATED,from:"Init",to:"Init"},{name:e.EVENTS.PLAY,from:rt,to:"*"},{name:e.EVENTS.INITIAL_PLAY,from:"Ready",to:"Playback"},{name:e.EVENTS.SET_EMBED_CODE,from:"*",to:"Reload"},{name:e.EVENTS.EMBED_CODE_CHANGED,from:"*",to:"Ready"},{name:e.EVENTS.PLAYED,from:"*",to:"Ready"},{name:e.EVENTS.REPLAY,from:"*",to:"Playback"},{name:e.EVENTS.AMC_ALL_READY,from:"*",to:"Ready"},{name:e.EVENTS.WILL_PLAY_ADS,from:at,to:"LinearAd"},{name:e.EVENTS.AD_POD_STARTED,from:"*",to:"LinearAd"},{name:e.EVENTS.WILL_PLAY_NONLINEAR_AD,from:"*",to:"*"},{name:e.EVENTS.PLAY_NONLINEAR_AD,from:"*",to:"Overlay"},{name:e.EVENTS.NONLINEAR_AD_PLAYED,from:"*",to:"Playback"},{name:e.EVENTS.ADS_PLAYED,from:"*",to:"Playback"}]});var st=t.bind(function(){if(!m&&A&&O&&I){m=!0;for(var i=t.values(l),s=0;s<i.length;s++){var o=i[s];"undefined"!=typeof this.pageSettings[o]&&(this.adManagerSettings[o]=this.pageSettings[o])}for(var u={},d=t.keys(this.adManagers),s=0;s<d.length;s++){var c=d[s],h=this.adManagers[c];if(h){var E=e.getInnerProperty(this.backlotSettings,["modules",c,"metadata"])||{};E=t.extend(E,e.getInnerProperty(this.pageSettings,[c]));for(var f=0;f<i.length;f++)o=i[f],"undefined"!=typeof E[o]&&(this.adManagerSettings[o]=E[o]);u[c]={metadata:E,adManagerClass:h}}}this.adManagerSettings[l.PAUSE_AD_ON_CLICK]="undefined"==typeof this.adManagerSettings[l.PAUSE_AD_ON_CLICK]?!0:lt(this.adManagerSettings[l.PAUSE_AD_ON_CLICK]),this.adManagerSettings[l.DISPLAY_CUE_POINTS]="undefined"==typeof this.adManagerSettings[l.DISPLAY_CUE_POINTS]?!0:lt(this.adManagerSettings[l.DISPLAY_CUE_POINTS]),this.adManagerSettings[l.REPLAY_ADS]="undefined"==typeof this.adManagerSettings[l.REPLAY_ADS]?!0:lt(this.adManagerSettings[l.REPLAY_ADS]),this.adManagerSettings[l.SHOW_NONLINEAR_CLOSE_BUTTON]="undefined"==typeof this.adManagerSettings[l.SHOW_NONLINEAR_CLOSE_BUTTON]?!1:lt(this.adManagerSettings[l.SHOW_NONLINEAR_CLOSE_BUTTON]),this.adManagerSettings[l.SHOW_LINEAR_AD_SKIP_BUTTON]="undefined"==typeof this.adManagerSettings[l.SHOW_LINEAR_AD_SKIP_BUTTON]?!1:lt(this.adManagerSettings[l.SHOW_LINEAR_AD_SKIP_BUTTON]),this.adManagerSettings[l.LINEAR_AD_SKIP_BUTTON_START_TIME]="undefined"==typeof this.adManagerSettings[l.LINEAR_AD_SKIP_BUTTON_START_TIME]?r:parseInt(this.adManagerSettings[l.LINEAR_AD_SKIP_BUTTON_START_TIME]),this.adManagerSettings[l.ALLOW_AD_CLICK_THROUGH_ON_VIDEO]="undefined"==typeof this.adManagerSettings[l.ALLOW_AD_CLICK_THROUGH_ON_VIDEO]?!0:lt(this.adManagerSettings[l.ALLOW_AD_CLICK_THROUGH_ON_VIDEO]),this.adManagerSettings[l.AD_LOAD_TIMEOUT]=ot(this.adManagerSettings[l.AD_LOAD_TIMEOUT])?1e3*this.adManagerSettings[l.AD_LOAD_TIMEOUT]:null,this.adManagerSettings[l.AD_MANAGER_LOAD_TIMEOUT]=ot(this.adManagerSettings[l.AD_MANAGER_LOAD_TIMEOUT])?1e3*this.adManagerSettings[l.AD_MANAGER_LOAD_TIMEOUT]:null,ot(this.adManagerSettings[l.AD_LOAD_TIMEOUT])&&(a=this.adManagerSettings[l.AD_LOAD_TIMEOUT]),ot(this.adManagerSettings[l.AD_MANAGER_LOAD_TIMEOUT])&&(n=this.adManagerSettings[l.AD_MANAGER_LOAD_TIMEOUT]),void 0!==this.adManagerSettings[l.PAUSE_ON_LIVE_ADS]&&(U=!this.adManagerSettings[l.PAUSE_ON_LIVE_ADS]),this.testMode?ht():t.delay(t.bind(ht,this),n);var g=t.values(u);for(s=0;s<g.length;s++){var y=g[s];p(y.adManagerClass,"loadMetadata",[y.metadata,e.getInnerProperty(this.backlotSettings,["base"])||{},this.movieMetadata])}this.ui.shouldDisplayCuePointMarkers(),ct()}},this),ot=t.bind(function(e){return t.isFinite(e)&&e>=0},this),lt=t.bind(function(e){return e=e.toString().toLowerCase(),"true"===e||"yes"===e||"1"===e},this),ut=t.bind(function(t){if(t=t||!1,g.removeDependent(e.EVENTS.PLAYBACK_READY,e.EVENTS.AMC_ALL_READY),g.removeDependent(e.EVENTS.WILL_PLAY_FROM_BEGINNING,e.EVENTS.AMC_PREROLLS_DONE),g.removeDependent(e.EVENTS.PLAYED,e.EVENTS.AMC_ALL_ADS_DONE),g.removeDependent(e.EVENTS.PLAYED,e.EVENTS.AD_MANAGER_HANDLED_ADS),M={},!t){var i=function(e,t,i){return i};g.addDependent(e.EVENTS.PLAYBACK_READY,e.EVENTS.AMC_ALL_READY,f,i),g.addDependent(e.EVENTS.WILL_PLAY_FROM_BEGINNING,e.EVENTS.AMC_PREROLLS_DONE,f,i),g.addDependent(e.EVENTS.PLAYED,e.EVENTS.AMC_ALL_ADS_DONE,f,i)}},this);this.onPlayerCreated=function(n,a,r){var s=t.bind(function(){ei(),g.publish(e.EVENTS.AMC_ALL_READY,Object.keys(this.adManagers))},this);for(var l in o){var u=o[l],E=u.apply({},[t,i]);e.log("AMC: Registering ad manager: "+E.name),this.adManagers[E.name]=E}if(!this.adManagers||t.isEmpty(this.adManagers))return void s();if(!e.supportAds||!e.requiredInEnvironment("ads")||e.requiredInEnvironment("flash-playback"))return void s();if(this.ui=new h(g,this.adManagerSettings,this.adManagers),this.platform=new c(g),this.amcInterface=new d(this),this.pageSettings=r,A=!0,r&&null!=r.initialTime&&(this.startTime=r.initialTime),this.ui.elementId=a,this.ui.rootElement=i("#"+a),!this.ui.rootElement)return s();this.ui.height=this.ui.rootElement.height(),this.ui.width=this.ui.rootElement.width(),ut(),g.intercept(e.EVENTS.DESTROY,f,t.bind(this.onDestroy,this));for(var y in this.adManagers)this.adManagers[y]&&p(this.adManagers[y],"initialize",[this.amcInterface,a]);g.subscribe(e.EVENTS.PLAYER_EMBEDDED,f,t.bind(this.onPlayerEmbedded,this)),g.subscribe(e.EVENTS.METADATA_FETCHED,f,t.bind(this.onMetadataFetched,this)),g.subscribe(e.EVENTS.CONTENT_TREE_FETCHED,f,t.bind(this.onContentTreeFetched,this)),g.subscribe(e.EVENTS.AUTHORIZATION_FETCHED,f,t.bind(this.onAuthorizationFetched,this)),g.subscribe(e.EVENTS.ASSET_CHANGED,f,t.bind(this.onAssetChanged,this)),g.subscribe(e.EVENTS.UI_READY,f,t.bind(this.onUiReady,this)),g.subscribe(e.EVENTS.PLAYBACK_READY,f,t.bind(this.onPlaybackReady,this)),g.subscribe(e.EVENTS.AD_AUTHORIZATION_FETCHED,f,t.bind(this.onAdAuthorizationFetched,this)),g.subscribe(e.EVENTS.WILL_PLAY_FROM_BEGINNING,f,t.bind(this.onWillPlayFromBeginning,this)),g.subscribe(e.EVENTS.PLAYHEAD_TIME_CHANGED,f,t.bind(this.onPlayheadTimeChanged,this)),g.subscribe(e.EVENTS.PAUSE,f,t.bind(this.onPause,this)),g.subscribe(e.EVENTS.WILL_PLAY,f,t.bind(this.onWillPlay,this)),g.subscribe(e.EVENTS.PLAYING,f,t.bind(this.onPlaying,this)),g.subscribe(e.EVENTS.SEEK,f,t.bind(this.onSeek,this)),g.subscribe(e.EVENTS.SEEKED,f,t.bind(this.onSeeked,this)),g.subscribe(e.EVENTS.VC_PLAY,f,Ft),g.subscribe(e.EVENTS.VC_PAUSED,f,t.bind(this.onVideoPaused,this)),g.subscribe(e.EVENTS.VC_PLAYING,f,t.bind(this.onVideoPlaying,this)),g.subscribe(e.EVENTS.VC_PLAY_FAILED,f,t.bind(this.onVideoPlayFailed,this)),g.subscribe(e.EVENTS.VC_PLAYED,f,t.bind(this.onVideoPlayed,this)),g.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,f,t.bind(this.onVideoElementInFocus,this)),g.subscribe(e.EVENTS.FULLSCREEN_CHANGED,f,t.bind(this.onFullscreenChanged,this)),g.subscribe(e.EVENTS.SIZE_CHANGED,f,t.bind(this.onSizeChanged,this)),g.subscribe(e.EVENTS.VOLUME_CHANGED,f,t.bind(this.onVolumeChanged,this)),g.subscribe(e.EVENTS.CONTROLS_SHOWN,f,t.bind(this.onControlsShown,this)),g.subscribe(e.EVENTS.CONTROLS_HIDDEN,f,t.bind(this.onControlsHidden,this)),g.subscribe(e.EVENTS.ADS_CLICKED,f,t.bind(this.onAdsClicked,this)),g.subscribe(e.EVENTS.SKIP_AD,f,t.bind(this.onSkipAd,this)),g.subscribe(e.EVENTS.WILL_PAUSE_ADS,f,t.bind(this.onWillPauseAds,this)),g.subscribe(e.EVENTS.WILL_RESUME_ADS,f,t.bind(this.onWillResumeAds,this)),g.subscribe(e.EVENTS.AD_POD_ENDED,f,t.bind(this.onAdPodEnded,this)),g.subscribe(e.EVENTS.NONLINEAR_AD_DISPLAYED,f,t.bind(this.onNonlinearAdDisplayed,this)),g.subscribe(e.EVENTS.VC_TAG_FOUND,f,t.bind(this.onVideoTagFound,this)),g.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,f,t.bind(this.onVideoElementCreated,this)),st()};var dt=t.bind(function(){W||t.isEmpty(this.ui.uiParameters)||(this.ui.setupAndRegisterUi(),W=!0)},this);this.onPlayerEmbedded=function(e,t){t&&(this.ui.uiParameters=t)},this.onUiReady=function(e,t){t&&(this.ui.aliceUiParameters=t),this.ui.useSingleVideoElement||dt()},this.onPlaybackReady=function(){this.ui.useSingleVideoElement||dt()},this.onMetadataFetched=function(e,t){this.backlotSettings=t,O=!0,st()},this.onContentTreeFetched=function(e,t){this.movieMetadata=t,I=!0,t&&t.duration&&(this.movieDuration=t.duration/1e3),st()},this.onAuthorizationFetched=function(e,t){this.isLiveStream=!1,t&&t.streams&&t.streams[0]&&(this.isLiveStream=t.streams[0].is_live_stream||!1);for(var i in this.adManagers)this.adManagers[i]&&p(this.adManagers[i],"authorizationFetched")},this.onAdAuthorizationFetched=function(e,t){var i=t;for(var n in this.adManagers)this.adManagers[n]&&"ooyala-ads-manager"===n&&(p(this.adManagers[n],"ooyalaAdData",[i]),_=this.adManagers[n])},this.onAssetChanged=function(e,t,i){for(var n in this.adManagers)this.adManagers[n].ready=!1;t.id!=this.currentEmbedCode&&(v=this.currentEmbedCode),this.currentEmbedCode=t.id,""!=v&&v!=this.currentEmbedCode&&(kt(this.EVENTS.CONTENT_CHANGED),Ht()),this.pageSettings=i,this.backlotSettings={},O=!0,this.movieMetadata=t.content,I=!0,t.content&&t.content.duration&&(this.movieDuration=t.content.duration/1e3),this.isLiveStream=!1,t.content&&t.content.streams&&t.content.streams[0]&&(this.isLiveStream=t.content.streams[0].is_live_stream||!1),st()},this.loadAdModule=function(i,n,a){t.defer(function(i,n,a,r){e.loadScriptOnce(a,t.bind(function(){r(!0),i.onAdManagerReady()},i,n,r),t.bind(function(){r(!1),i.removeAdManager(n)},i,n,r),i.MAX_AD_MODULE_LOAD_TIMEOUT)},this,i,n,a)},this.onAdManagerReady=function(){ct()},this.removeAdManager=function(t){e.log("AMC: removing failed ad manager "+t),this.unregisterAdManager(t),ct()};var ct=t.bind(function(){if(!y){for(var t in this.adManagers)if(!this.adManagers[t].ready)return;y=!0,pt(),g.publish(e.EVENTS.AMC_ALL_READY,Object.keys(this.adManagers))}},this),ht=t.bind(function(){if(!y){for(var t in this.adManagers)this.adManagers[t].ready||this.removeAdManager(t);y||(y=!0,pt(),g.publish(e.EVENTS.AMC_ALL_READY,Object.keys(this.adManagers)))}},this);this.onAdManagerControllerAllReady=function(){return!o||t.isEmpty(o)?(e.log("AMC: No ad manager factories, destroying AMC"),void ei()):void(G=!1)};var pt=t.bind(function(){for(var e in this.adManagers){var i=this.adManagers[e];if(i){var n=p(i,"buildTimeline",[]);t.isArray(n)&&(b=t.union(b,n),Et(b))}}b=gt(b),this.ui.resetCuePoints(b,this.movieDuration)},this),Et=t.bind(function(e){t.each(e,function(e){bt(e)&&(e.ad.lastPlayed=e.position,e.ad.playTimes={},N.push(e))},this)},this);this.appendToTimeline=function(e){t.isArray(e)&&(b=b.concat(e),b=gt(b),Et(e))};var ft=t.bind(function(e){D.push(e),D=gt(D)},this),gt=function(t){var i=t;return!e._.isArray(i)||!i.length||i.length<1?[]:(i.sort(function(t,i){return t&&e._.isObject(t)&&void 0!=t.position?i&&e._.isObject(i)&&void 0!=i.position?t.position<i.position?-1:t.position===i.position?t.isRequest?-1:i.isRequest?1:t.isLinear?i.isLinear?0:-1:1:1:-1:1}),i)};this.showCompanion=function(t){g.publish(e.EVENTS.WILL_SHOW_COMPANION_ADS,{ads:t})},this.hideCompanion=function(){},this.adManagerWillControlAds=function(t){M[t]||(i.isEmptyObject(M)&&g.addDependent(e.EVENTS.PLAYED,e.EVENTS.AD_MANAGER_HANDLED_ADS,f,function(){}),M[t]=!0)},this.forceAdToPlay=function(e,t,i,n,a){var r={adManager:e,adType:i,ad:t,streams:n,duration:a,position:-1},s=new this.Ad(r);ft(s),Et([s]),tt||yt(S,!1)},this.adManagerDoneControllingAds=function(t){M[t]&&(delete M[t],i.isEmptyObject(M)&&g.publish(e.EVENTS.AD_MANAGER_HANDLED_ADS))},this.isAdManagerControllingAds=function(e){return e?!!M[e]:i.isEmptyObject(M)};var yt=t.bind(function(t,n,a){if(b&&!et){C||(C=this.movieDuration-e.CONSTANTS.SEEK_TO_END_LIMIT);var r=_t(t,n,a);return D.length>0?void(i.inArray(this.currentState,rt)>=0?Ot():Yt({type:D[0].adManager,duration:r})):void(this.tryAdsCompleted()||F||(g.publish(e.EVENTS.AMC_PREROLLS_DONE),Y=!0))}},this),Tt=t.bind(function(e,i,n){var a=[];n!==nt.SEEKED?t.each(N,function(t){var a=t.ad.lastPlayed+t.ad.repeatAfter;if(e>=a&&e<this.movieDuration||!i&&n===nt.CONTENT_VIDEO_PLAYED){if(this.startTime>=0){var r,s=t.ad.repeatAfter;r=e>t.position?Math.floor((e-t.position)/s)*s+t.position:t.position,t.ad.lastPlayed=r}else t.ad.lastPlayed=a;i||mt(t,t.ad.lastPlayed)||D.push(t)}},this):t.each(N,function(t){var i=t.ad.repeatAfter,n=It();n&&n===t&&(t.ad.firstPlay=!0);var r;if(r=e>t.position?Math.floor((e-t.position)/i)*i+t.position:t.position,n)n&&e>=r&&(t.ad.lastPlayed=r);else{var s=t.ad.lastPlayed+i;e>=s&&C>e&&!mt(t,r)&&a.push(t),t.ad.lastPlayed=r}},this),D=D.concat(a)},this),mt=t.bind(function(e,t){var i=!1;return e&&t in e.ad.playTimes&&(i=e.ad.playTimes[t]),i},this),_t=t.bind(function(e,i,n){if(void 0!=b&&0!=b.length){var a=0;for(i&&(D=[]);b[L]&&b[L].position>e&&L>0;)L--;for(var r=L;b[r]&&r<b.length-1&&1==b[r].played;)r++;for(;b[r]&&b[r].position<=e;)L=r,i&&D.length>0&&b[r].position!=D[D.length-1].position&&(D=[],a=0),b[r].played||R&&b[r].position<k?r++:t.indexOf(D,b[r])>=0?r++:(D.push(b[r]),b[r].isLinear&&(a+=b[r].duration),r++);return D.length>0?Tt(e,!0,n):(Tt(e,!1,n),t.each(D,function(e){e.isLinear&&(a+=e.duration)},this)),D=gt(D),a}},this);this.getTimeline=function(){return b},this.getRepeatAds=function(){return t.clone(N)},this.getAdQueue=function(){return D},this.getCurrentPlayhead=t.bind(function(){return S},this),this.getAdManagerLoadTimeout=function(){return n},this.getAdLoadTimeout=function(){return a},this.isLastAdPlayed=function(){return 0==b.length||b[b.length-1].played},this.sendURLToLoadAndPlayNonLinearAd=function(t,i,n){g.publish(e.EVENTS.PLAY_NONLINEAR_AD,{ad:t,url:n}),this.notifyNonlinearAdStarted(i),n&&this.adManagerSettings[l.SHOW_NONLINEAR_CLOSE_BUTTON]&&g.publish(e.EVENTS.SHOW_NONLINEAR_AD_CLOSE_BUTTON)},this.showSkipVideoAdButton=function(e,t){"boolean"==typeof e&&(Z=e,t&&(J=t))};var Ot=t.bind(function(){var t=Wt(),i=w||!F&&S>0||this.startTime>=this.movieDuration&&!this.isLiveStream;if((this.startTime>=this.movieDuration||this.ended)&&(S=Number.MAX_VALUE),_t(S,i),D.length<=0||D[0]&&!D[0].isRequest&&D[0].isLinear!==t)return void(t&&g.publish(e.EVENTS.ADS_PLAYED));var n=D.shift();this.playAd(n)},this),At=t.bind(function(){N=[]},this),It=function(){return D.length>0?D[0]:null},vt=t.bind(function(t){X=!0,K&&this.adManagers[K.adManager]&&(St(K,t),g.publish(e.EVENTS.ADS_PLAYED))},this),St=t.bind(function(e,t){e&&this.adManagers[e.adManager]&&p(this.adManagers[e.adManager],"cancelAd",[e,t])},this);this.updateMainStreamUrl=function(t){g.publish(e.EVENTS.VC_UPDATE_ELEMENT_STREAM,e.VIDEO.MAIN,t)},this.playAd=function(i){if(i&&i.ad){X=!1,K=i,K.played=!0;var n=t.bind(function(t,i,n){e.log("AMC: Cancelling an ad due to timeout "+n),St(i,{code:this.AD_CANCEL_CODE.TIMEOUT}),t.publish(e.EVENTS.SINGLE_AD_PLAYED,n),t.publish(e.EVENTS.AD_POD_ENDED,n)},this,g,i,i.id);if(!Xt(i.ad.first_shown,i.ad.frequency))return void n();if(t.isFinite(i.duration)&&i.duration>0&&(this.timeMainVideoIdleMs+=1e3*i.duration),bt(i)){var r;i.ad.firstPlay?(r=i.position,i.ad.firstPlay=!1):r=i.ad.lastPlayed,i.ad.playTimes[r]=!0}if(i.isLinear||i.isRequest)if(e.log("AMC: Will play a linear ad for time: "+i.position+" at playhead "+S),Nt(i,n,a),i.adManager&&this.adManagers[i.adManager]){var s=this.adManagers[i.adManager].videoRestrictions?this.adManagers[i.adManager].videoRestrictions:{};i.videoRestrictions&&(s=i.videoRestrictions);var o=this.pageSettings?this.pageSettings.platform:null;s&&o&&(s.platform=o),i.adType===this.ADTYPE.UNKNOWN_AD_REQUEST?(g.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"amc",Rt),g.subscribe(e.EVENTS.VC_ERROR,"amc",t.bind(Pt,this,i.id)),this.ui.createAdVideoElement(i.streams,s)):i.adType!==this.ADTYPE.LINEAR_VIDEO||i.ad&&i.ad.ssai?(i.ad.ssai&&g.publish(e.EVENTS.SHOW_AD_CONTROLS,!1),p(this.adManagers[i.adManager],"playAd",[i])):(g.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"amc",Dt),g.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,"amc",t.bind(Rt,this,i)),g.subscribe(e.EVENTS.VC_ERROR,"amc",t.bind(Pt,this,i.id)),this.ui.createAdVideoElement(i.streams,s))}else this.notifyPodEnded(i.id);else j=!0,K=i,z=K,g.publish(e.EVENTS.WILL_PLAY_NONLINEAR_AD,i)}};var bt=t.bind(function(e){return e&&e.ad?e.ad.repeatAfter:null},this),Nt=t.bind(function(e,i,n){e&&"function"==typeof i&&!this.isAdManagerControllingAds(e.adManager)&&($[e.id]=t.delay(i,n))},this),Dt=t.bind(function(t,i){i&&i.videoId===e.VIDEO.ADS&&(g.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"amc"),this.focusAdVideo())},this);this.focusAdVideo=function(){this.ui.transitionToAd()};var Rt=t.bind(function(){g.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"amc"),g.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,"amc"),g.unsubscribe(e.EVENTS.VC_ERROR,"amc"),p(this.adManagers[K.adManager],"playAd",[K]),K.adType===this.ADTYPE.LINEAR_VIDEO&&g.publish(e.EVENTS.VC_PLAY,e.VIDEO.ADS)},this),Ct=t.bind(function(e){Lt(e),this.adStarted=!0},this),Lt=t.bind(function(e){$&&$[e]&&(clearTimeout($[e]),delete $[e])},this),Pt=t.bind(function(t,i,n,a){n===e.VIDEO.ADS&&(g.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"amc"),g.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,"amc"),g.unsubscribe(e.EVENTS.VC_ERROR,"amc"),K&&K.isLinear&&this.adManagers[K.adManager]&&p(this.adManagers[K.adManager],"adVideoError",[K,a]),this.notifyPodEnded(t))},this);this.notifyPodStarted=function(t,i){e.log("AMC: Start ad pod "+t),Lt(t),g.publish(e.EVENTS.AD_POD_STARTED,i)},this.notifyPodEnded=function(t){e.log("AMC: End ad pod "+t),tt=!0,Lt(t),wt(),g.publish(e.EVENTS.AD_POD_ENDED,t)},this.notifyNonlinearAdStarted=function(t){e.log("AMC: Start of non-linear ad "+t),Ct(t)
},this.notifyNonlinearAdEnded=function(t){z=null,e.log("AMC: End of non-linear ad "+t),wt(),g.publish(e.EVENTS.NONLINEAR_AD_PLAYED,t)},this.notifyLinearAdStarted=function(t,i){e.log("AMC: Start of linear ad "+t),et=!0,g.publish(e.EVENTS.WILL_PLAY_SINGLE_AD,i),Ct(t)},this.notifyLinearAdEnded=function(t){e.log("AMC: End of linear ad "+t),et=!1,clearTimeout(Q),g.publish(e.EVENTS.SINGLE_AD_PLAYED,t)},this.hidePlayerUi=function(i,n){i=t.isBoolean(i)?i:!1,n=t.isBoolean(n)?n:!1,g.publish(e.EVENTS.SHOW_AD_CONTROLS,i),g.publish(e.EVENTS.SHOW_AD_MARQUEE,n)};var wt=t.bind(function(){g.publish(e.EVENTS.SHOW_AD_CONTROLS,!0),g.publish(e.EVENTS.SHOW_AD_MARQUEE,!0)},this);this.showNonlinearAdCloseButton=function(){g.publish(e.EVENTS.SHOW_NONLINEAR_AD_CLOSE_BUTTON)},this.raiseAdError=function(t){g.publish(e.EVENTS.ADS_ERROR,t)},this.addPlayerListener=function(e,i){t.indexOf(t.values(this.EVENTS),e)<0||(null==T[e]&&(T[e]=[]),t.isFunction(i)&&T[e].push(i))},this.notify=function(e,t,i){g.publish(e,t,i)},this.removePlayerListener=function(e,t){var i=T[e];if(i){var n=i.indexOf(t);n>=0&&i.splice(n,1),i.length<=0&&delete T[e]}};var kt=t.bind(function(e){if(T[e]&&t.isArray(T[e]))for(var i=0;i<T[e].length;i++)T[e][i].apply(this,arguments)},this);this.onPlay=function(){i.inArray(this.currentState,rt)<0||!this.adStarted||g.publish(e.EVENTS.WILL_RESUME_ADS)},this.onInitialPlay=function(t,i){this.startTime<=0&&(S=0,this.startTime=0),$t(),this.isLiveStream&&(this.liveStreamTimestamps.initialPlay={ms:i,delayUsed:!1}),e.isAndroid&&e.isChrome&&g.publish(e.EVENTS.VC_RELOAD,e.VIDEO.MAIN),kt(this.EVENTS.INITIAL_PLAY_REQUESTED),S=this.startTime,yt(S,S>0)},this.onReplay=function(){this.startTime=0,S=0,Y=!1,$t(),Zt(),Qt(),ut(),At(),kt(this.EVENTS.REPLAY_REQUESTED),this.adManagerSettings[l.REPLAY_ADS]?(b=[],pt()):t.each(b,t.bind(function(e){e.played=!0},this)),yt(0,!1)},this.onWillPlayFromBeginning=function(){F||i.inArray(this.currentState,rt)>=0||(v=this.currentEmbedCode)},this.onSetEmbedCode=function(e,i,n){n&&(this.pageSettings=t.extend(this.pageSettings,n))},this.onEmbedCodeChanged=function(e,t){for(var i in this.adManagers)this.adManagers[i].ready=!1;t!=this.currentEmbedCode&&(v=this.currentEmbedCode),this.currentEmbedCode=t,""!=v&&v!=this.currentEmbedCode&&(kt(this.EVENTS.CONTENT_CHANGED),Ht())},this.onPlayheadTimeChanged=function(i,n,a,r,s,o){var u=null;if(this.isLiveStream&&!U&&(u=n,n=qt()),o===e.VIDEO.MAIN){if(-1===this.movieDuration&&a>0&&(this.movieDuration=a),!F||this.ended)return;if(S=n,V||w||P)return;if(!x&&S>this.startTime&&(e.log("Reached start time at playhead: "+S+" for start time: "+this.startTime),x=!0),-1==this.startTime)return void(this.startTime=S);var d=Wt();if(d)return;x&&yt(S,!0),kt(this.EVENTS.PLAYHEAD_TIME_CHANGED,n,a,u)}else if(o===e.VIDEO.ADS){var c={};c[l.SHOW_LINEAR_AD_SKIP_BUTTON]=Z;var h=Vt(l.SHOW_LINEAR_AD_SKIP_BUTTON,[this.pageSettings,c,this.adManagerSettings]);if("undefined"!=typeof h&&(h=lt(h)),h){var p;J&&(p=J.indexOf("%")===J.length-1?parseInt(J)/100*K.duration:parseInt(J)),c[l.LINEAR_AD_SKIP_BUTTON_START_TIME]=p;var E=Vt(l.LINEAR_AD_SKIP_BUTTON_START_TIME,[this.pageSettings,c,this.adManagerSettings]);t.isNumber(E)&&E>=0&&n>=E&&g.publish(e.EVENTS.SHOW_AD_SKIP_BUTTON)}kt(this.EVENTS.AD_PLAYHEAD_TIME_CHANGED,n,a,u)}};var Vt=t.bind(function(e,t){for(var i,n,a=0;a<t.length&&(i=t[a],n=i[e],"undefined"==typeof n);a++);return n},this);this.onPause=function(){if(i.inArray(this.currentState,rt)>=0&&this.adStarted)return void(K&&this.adManagers[K.adManager]&&g.publish(e.EVENTS.WILL_PAUSE_ADS));if(V=!0,j){var t="pauseOverlayTimer";kt(t)}F&&kt(this.EVENTS.PAUSE)},this.onVideoPaused=function(){this.liveStreamTimestamps&&(this.liveStreamTimestamps.paused={ms:Date.now(),delayUsed:!1})},this.onWillPauseAds=function(){K&&this.adManagers[K.adManager]&&(p(this.adManagers[K.adManager],"pauseAd",[K]),g.publish(e.EVENTS.VC_PAUSE,e.VIDEO.ADS),q=!0)},this.onWillResumeAds=function(){K&&this.adManagers[K.adManager]&&(p(this.adManagers[K.adManager],"resumeAd",[K]),g.publish(e.EVENTS.VC_PLAY,e.VIDEO.ADS),q=!1)},this.onWillPlay=function(e,t){F||kt(this.EVENTS.PLAY_STARTED),V&&B&&kt(this.EVENTS.RESUME,t),B&&(F=!0),V&&(V=!1,w&&xt())};var Ft=t.bind(function(t,i){i==e.VIDEO.MAIN&&(B=!0)},this);this.onPlaying=function(){P=!1,F=!0},this.onVideoPlayed=function(t,i){i===e.VIDEO.MAIN?Bt(t,i):i===e.VIDEO.ADS&&(K&&K.isLinear&&this.adManagers[K.adManager]?p(this.adManagers[K.adManager],"adVideoEnded"):_&&p(_,"adVideoEnded"))},this.onVideoElementInFocus=function(t,i){i===e.VIDEO.MAIN&&(wt(),kt(this.EVENTS.MAIN_CONTENT_IN_FOCUS))};var Bt=t.bind(function(t,i){i===e.VIDEO.MAIN&&(j&&Gt(),this.ended=!0,z=null,j=!1,this.waitForPostrollToPlay=!1,kt(this.EVENTS.CONTENT_COMPLETED),yt(Number.MAX_VALUE,!1,nt.CONTENT_VIDEO_PLAYED))},this);this.onPlayed=function(){F=!1,B=!1,v=this.currentEmbedCode},this.onSeek=function(e,t){return i.inArray(this.currentState,rt)>=0?void(K&&K.adManager&&p(this.adManagers[K.adManager],"seekAd")):(x||t==this.startTime||(x=!0),R=t>=C,k=t,S=t,void(P=!0))},this.onSeeked=function(e,t){"number"==typeof t&&(S=t),P=!1,Ut()},this.onVideoPlaying=function(t,i){zt(),i===e.VIDEO.ADS&&K&&p(this.adManagers[K.adManager],"adVideoPlaying")},this.onVideoPlayFailed=function(t,i,n){i===e.VIDEO.ADS?K&&K.isLinear&&this.adManagers[K.adManager]&&p(this.adManagers[K.adManager],"adVideoError",[K,n]):i===e.VIDEO.MAIN&&Jt()};var Mt=t.bind(function(){w=!1,P=!1},this),Ut=t.bind(function(){F&&(P=!1,w=!0,V||xt())},this),xt=t.bind(function(){Mt(),x&&yt(S,!0,nt.SEEKED)},this),Ht=t.bind(function(){vt({code:this.AD_CANCEL_CODE.STREAM_ENDED}),Jt(),G=!0},this);this.onFullscreenChanged=function(e,t){t!==H&&(kt(this.EVENTS.FULLSCREEN_CHANGED,t),H=t)},this.onSizeChanged=function(e,t,i){0>t||0>i||(this.ui.height=i,this.ui.width=t,kt(this.EVENTS.SIZE_CHANGED,t,i))},this.onControlsShown=function(){kt(this.EVENTS.CONTROLS_SHOWN)},this.onControlsHidden=function(){kt(this.EVENTS.CONTROLS_HIDDEN)},this.onVolumeChanged=function(t,i,n){kt(this.EVENTS.VOLUME_CHANGED,i),n===e.VIDEO.ADS&&kt(this.EVENTS.AD_VOLUME_CHANGED,i)},this.adsClicked=function(t){if(_&&p(_,"playerClicked"),K)if(!q||t&&"learnMoreButton"==t.source){if(this.adManagerSettings[l.PAUSE_AD_ON_CLICK]&&(K&&!K.isLinear?g.publish(e.EVENTS.PAUSE):this.onPause()),K.isLinear&&!this.adManagerSettings[l.ALLOW_AD_CLICK_THROUGH_ON_VIDEO]&&t&&"videoWindow"==t.source)return;this.adManagers[K.adManager]&&p(this.adManagers[K.adManager],"playerClicked",[K,!0])}else g.publish(e.EVENTS.PLAY)},this.adsClickthroughOpened=function(){g.publish(e.EVENTS.ADS_CLICKTHROUGH_OPENED)},this.onSkipAd=function(){_&&p(_,"cancelAd",[K,{code:this.AD_CANCEL_CODE.SKIPPED}]),"LinearAd"==this.currentState?(e.log("AMC: Canceling linear ad due to skip button clicked."),St(K,{code:this.AD_CANCEL_CODE.SKIPPED})):"Overlay"==this.currentState&&(e.log("AMC: Canceling nonlinear ad due to skip button clicked."),Gt())};var Gt=t.bind(function(){j&&K&&this.adManagers[K.adManager]&&(X=!0,p(this.adManagers[K.adManager],"cancelOverlay",[K]),g.publish(e.EVENTS.NONLINEAR_AD_PLAYED,K.id))},this),Yt=t.bind(function(i){Mt(),j&&K&&this.adManagers[K.adManager]&&(t.isFunction(this.adManagers[K.adManager].hideOverlay)?(p(this.adManagers[K.adManager],"hideOverlay",[K]),g.publish(e.EVENTS.HIDE_NONLINEAR_AD)):Gt()),g.publish(e.EVENTS.WILL_PLAY_ADS,i)},this),Wt=t.bind(function(){return i.inArray(this.currentState,rt)>=0},this),jt=t.bind(function(){Ot()},this);this.onWillPlayAds=function(){jt()},this.onAdPodStarted=function(){g.publish(e.EVENTS.DISABLE_SEEKING,e.VIDEO.ADS)},this.onWillPlayNonlinearAd=function(i,n){var r=t.bind(function(t,i,n){z=null,e.log("AMC: Cancelling a non-linear ad due to timeout "+n),St(i,{code:this.AD_CANCEL_CODE.TIMEOUT}),t.publish(e.EVENTS.NONLINEAR_AD_PLAYED,n)},this,g,n,n.id);Nt(n,r,a),n.adManager&&this.adManagers[n.adManager]?p(this.adManagers[n.adManager],"playAd",[n]):this.notifyNonlinearAdEnded(n.id)},this.onPlayNonlinearAd=function(){};var Kt=t.bind(function(){Qt(),X||Ot()},this);this.onAdPodEnded=function(t,i){tt=!1,g.publish(e.EVENTS.ENABLE_SEEKING,e.VIDEO.ADS),g.publish(e.EVENTS.VC_SET_VIDEO_STREAMS,e.VIDEO.ADS,null),Kt(i)},this.onNonlinearAdDisplayed=function(){kt(this.EVENTS.NONLINEAR_AD_DISPLAYED)},this.onNonlinearAdPlayed=function(e,t){Kt(t)},this.tryAdsCompleted=function(){var t=!1;return this.ended&&!this.waitForPostrollToPlay&&(D.length<=0||D[0]&&!D[0].isLinear&&!D[0].isRequest)&&(this.waitForPostrollToPlay=!0,this.ui.transitionToMainContent(!1,this.ended),t=!0,e.log("AMC: All ads completed, unblocking played event"),g.publish(e.EVENTS.AMC_ALL_ADS_DONE)),t},this.onAdsPlayed=function(){if(X=!1,!this.tryAdsCompleted()){var t=!G&&B&&this.ui.isAdInFocus();this.ui.transitionToMainContent(t,this.ended),(!F&&!G||!Y&&e.isIos)&&(g.publish(e.EVENTS.AMC_PREROLLS_DONE),Y=!0),Ot(),Qt(),j&&K&&this.adManagers[K.adManager]&&(p(this.adManagers[K.adManager],"showOverlay"),g.publish(e.EVENTS.SHOW_NONLINEAR_AD))}},this.onAdsClicked=function(e,t){this.adsClicked(t)},this.onVideoTagFound=function(e,t,i,n){kt(this.EVENTS.VIDEO_TAG_FOUND,t,i,n)},this.onVideoElementCreated=t.bind(function(t,i){if(i.videoId===e.VIDEO.MAIN){var n=i.streamUrl;n&&kt(this.EVENTS.CONTENT_URL_CHANGED,n)}},this);var zt=t.bind(function(){var e=Date.now(),i=this.liveStreamTimestamps.paused,n=this.liveStreamTimestamps.initialPlay;i&&t.isFinite(i.ms)&&!i.delayUsed&&(this.timeMainVideoIdleMs+=e-i.ms,this.liveStreamTimestamps.paused.delayUsed=!0),n&&t.isFinite(n.ms)&&!n.delayUsed&&(this.timeMainVideoIdleMs+=e-n.ms,this.liveStreamTimestamps.initialPlay.delayUsed=!0)},this),qt=t.bind(function(){var e=Date.now()-this.liveStreamTimestamps.initialPlay.ms,t=(e-this.timeMainVideoIdleMs)/1e3;return t},this),Xt=t.bind(function(t,i){t=t>0?t:0,i=i>0?i:0;var n=e.localStorage.getItem(it);n=n&&+n>0?+n:0;var a=!1;return n>=t&&(0===i||(n-t)%i===0)&&(a=!0),a},this),$t=t.bind(function(){var t=e.localStorage.getItem(it);t=(t&&+t>0?+t:0)+1,e.setItem(it,t),e.log("MAIN VIDEO COUNT: "+e.localStorage.getItem(it))},this),Qt=t.bind(function(){z?(K=z,j=!0,this.adStarted=!0):(K=null,j=!1,this.adStarted=!1),et=!1,q=!1,Z=!0,J=null,tt=!1},this),Zt=t.bind(function(){D=[],L=0,w=!1,P=!1,V=!1,z=null,this.ended=!1,C=0,R=!1,k=0,this.waitForPostrollToPlay=!0,F=!1,B=!1,I=!1,O=!1},this),Jt=t.bind(function(e){y=!1,m=!1,this.movieMetadata=null,this.startTime=-1,this.movieDuration=-1,this.isLiveStream=!1,S=-1,b=[],X=!1,Zt(),Qt(),ut(e)},this),ei=t.bind(function(){this.ui&&"function"==typeof this.ui.destroy&&this.ui.destroy();for(var e in $)$.hasOwnProperty(e)&&Lt(e);("LinearAd"==this.currentState||"Overlay"==this.currentState)&&vt({code:this.AD_CANCEL_CODE.STREAM_ENDED});for(var t in this.adManagers)this.unregisterAdManager(t);this.fsm.destroyFsm(),Jt(!0)},this);this.onDestroy=function(){ei()},this.getRegisteredAdManagers=function(){return this.adManagers},this.unregisterAdManager=function(i){if(e.log("AMC: Removing an ad manager: "+i),i&&this.adManagers[i]){if(t.isFunction(this.adManagers[i].destroy))try{this.adManagers[i].destroy()}catch(n){e.log("AMC: Error destroying an ad manager - "+n)}this.unregisteredAdManagers.push(i),delete this.adManagers[i]}}};var p=function(i,n,a){try{if(t.isFunction(i[n]))return i[n].apply(i,a)}catch(r){e.log("AMC: ad manager",i&&i.name,"at function '"+n+"' threw exception -",r)}return null},E=null;e.registerModule("adManagerController",t.bind(function(t,i){return E=new e.AdManagerController(t,i)},this))}(OO,OO._,OO.$),OO.Ads.manager(function(e){var t=function(){this.name="ooyala-ads-manager",this.adId=null,this.ready=!1,this.movieMetadata={},this.streams={};var t=null,i="",n="",a=!0,r={},s=!1,o=!1,l=!1,u=!1,d=!1,c=0,h=e.bind(function(){OO.log(this.name+": resetting"),this.adId=null,this.ready=!1,this.movieMetadata={},this.streams={},i="",n="",a=!0,r={},s=!1,o=!1,l=!1,u=!1,d=!1},this);this.initialize=function(e){h(),c=(new Date).getTime(),t=e},this.loadMetadata=function(e,i,r){OO.log(this.name+": Load Metadata at "+((new Date).getTime()-c)+" ms"),t&&(t.addPlayerListener(t.EVENTS.CONTENT_CHANGED,g),this.movieMetadata=r,a&&r&&(this.ready=!1,n=r.embed_code,a=!1),o=!0,p())},this.authorizationFetched=function(){OO.log(this.name+": Authorization Fetched at "+((new Date).getTime()-c)+" ms"),l=!0,p()};var p=e.bind(function(){if(OO.log(this.name+": Try Fetch Ad Authorization at "+((new Date).getTime()-c)+" ms"),o&&l&&t&&!u){if(!this.movieMetadata||!this.movieMetadata.ads||this.movieMetadata.ads.length<=0||!this.movieMetadata.ads[0]||!this.movieMetadata.ads[0].ad_embed_code)return OO.log(this.name+": No Ooyala Ads at "+((new Date).getTime()-c)+" ms"),u=!0,E(),void h();OO.log(this.name+": Fetching Ad Authorization at "+((new Date).getTime()-c)+" ms"),u=!0,i=this.movieMetadata.ads[0].ad_embed_code;var e={pcode:this.movieMetadata.asset_pcode||"unknown",embedCode:i,server:OO.SERVER.AUTH,params:OO.playerParams};t.notify(t.EVENTS.WILL_FETCH_AD_AUTHORIZATION,e)}},this);this.ooyalaAdData=function(e){OO.log(this.name+": Ooyala Ad Data at "+((new Date).getTime()-c)+" ms"),e&&(this.streams[OO.VIDEO.ENCODING.MP4]=e,E())};var E=e.bind(function(){OO.log(this.name+": Set ready at "+((new Date).getTime()-c)+" ms"),this.ready=!0,t.onAdManagerReady()},this);this.buildTimeline=function(){if(OO.log(this.name+": Build Timeline at "+((new Date).getTime()-c)+" ms"),this.movieMetadata&&this.movieMetadata.ads&&!(this.movieMetadata.ads.length<=0)&&this.movieMetadata.ads[0]){var e=[],i={position:this.movieMetadata.ads[0].time,adManager:this.name,ad:this.movieMetadata.ads[0],streams:this.streams,adType:t.ADTYPE.UNKNOWN_AD_REQUEST},n=new t.Ad(i);return e.push(n),e}},this.playAd=function(n){OO.log(this.name+": Play Ad at "+((new Date).getTime()-c)+" ms"),t.pageSettings.autoPlay=!0,t.pageSettings.ooyalaAds=!0,r.indexInPod=1,this.movieMetadata?(r.name=this.movieMetadata.title,r.duration=this.movieMetadata.duration):(r.name="",r.duration=30),r.ooyalaAds=!0,r.hasClickUrl=n.ad.click_url,r.skippable=!1,this.adId=n.id;var a=e.clone(t.pageSettings);a.onCreate=null,t.notify(t.EVENTS.SET_EMBED_CODE,i,a),t.notifyLinearAdStarted(n.id,r)},this.cancelAd=function(e,i){if(OO.log("Cancelling Ooyala ad"),i&&i.code===t.AD_CANCEL_CODE.SKIPPED){t.pageSettings.ooyalaAds=!1,t.notify(OO.EVENTS.SINGLE_AD_PLAYED,this.adId),t.notify(OO.EVENTS.AD_POD_ENDED,this.adId);var a=n;h(),d=!0,t.notify(OO.EVENTS.SET_EMBED_CODE_AFTER_OOYALA_AD,a,t.pageSettings)}},this.playerClicked=function(){OO.log("Click Url = "+r.hasClickUrl),s?(t.notify(OO.EVENTS.PLAY),s=!1):(t.notify(OO.EVENTS.PAUSE),this.openUrl(r.hasClickUrl)&&t.adsClickthroughOpened(),s=!0)};var f=e.bind(function(e){return"string"==typeof e&&e.length>0?!0:!1},this);this.openUrl=function(e){return f(e)?(window.open(e),!0):!1},this.adVideoEnded=function(){OO.log(this.name+": adVideoEnded at "+((new Date).getTime()-c)+" ms"),t.pageSettings.ooyalaAds=!1,t.notify(OO.EVENTS.SINGLE_AD_PLAYED,this.adId),t.notify(OO.EVENTS.AD_POD_ENDED,this.adId);var e=n;h(),d=!0,t.notify(OO.EVENTS.SET_EMBED_CODE_AFTER_OOYALA_AD,e,t.pageSettings)};var g=e.bind(function(){OO.log(this.name+": onContentChanged at "+((new Date).getTime()-c)+" ms"),c=(new Date).getTime(),this.ready=!0,d&&h()},this);this.destroy=function(){OO.log(this.name+": Destroy at "+((new Date).getTime()-c)+" ms"),t&&t.removePlayerListener(t.EVENTS.CONTENT_CHANGED,g),s=!1}};return new t}),function e(t,i,n){function a(s,o){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=i[s]={exports:{}};t[s][0].call(d.exports,function(e){var i=t[s][1][e];return a(i?i:e)},d,d.exports,e,t,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)a(n[s]);return a}({1:[function(){OO||(OO={})},{}],2:[function(e){e("./InitOO.js"),window._||(window._=e("underscore")),OO._||(OO._=window._.noConflict())},{"./InitOO.js":1,underscore:6}],3:[function(e){if(e("./InitAnalyticsNamespace.js"),!OO.Analytics.AD_TYPE){var t={LINEAR_OVERLAY:"linearOverlay",NONLINEAR_OVERLAY:"nonlinearOverlay",LINEAR_VIDEO:"linearVideo",COMPANION:"companion"};OO.Analytics.AD_TYPE=t}if(!OO.Analytics.STREAM_TYPE){var i={VOD:"vod",LIVE_STREAM:"liveStream"};OO.Analytics.STREAM_TYPE=i}if(!OO.Analytics.ERROR_CODE){var n={100:"General Error"};OO.Analytics.ERROR_CODE=n}if(!OO.Analytics.EVENTS){var a={VIDEO_PLAYER_CREATED:"video_player_created",VIDEO_ELEMENT_CREATED:"video_element_created",INITIAL_PLAYBACK_REQUESTED:"initial_playback_requested",VIDEO_CONTENT_COMPLETED:"video_content_completed",PLAYBACK_COMPLETED:"playback_completed",VIDEO_PLAY_REQUESTED:"video_play_requested",VIDEO_PAUSE_REQUESTED:"video_pause_requested",VIDEO_PLAYING:"video_playing",VIDEO_PAUSED:"video_paused",VIDEO_REPLAY_REQUESTED:"video_replay_requested",VIDEO_SOURCE_CHANGED:"video_source_changed",VIDEO_STREAM_METADATA_UPDATED:"video_stream_metadata_updated",VIDEO_CONTENT_METADATA_UPDATED:"video_content_metadata_updated",STREAM_TYPE_UPDATED:"stream_type_updated",VIDEO_SEEK_REQUESTED:"video_seek_requested",VIDEO_SEEK_COMPLETED:"video_seek_completed",VIDEO_STREAM_DOWNLOADING:"video_stream_downloading",VIDEO_BUFFERING_STARTED:"video_buffering_started",VIDEO_BUFFERING_ENDED:"video_buffering_ended",VIDEO_STREAM_BITRATE_PROFILES:"video_stream_bitrate_profiles",VIDEO_STREAM_TARGET_BITRATE_REQUESTED:"video_stream_target_bitrate_requested",VIDEO_STREAM_BITRATE_CHANGED:"video_stream_bitrate_changed",VIDEO_STREAM_POSITION_CHANGED:"video_stream_position_changed",VIDEO_ERROR:"video_error",AD_BREAK_STARTED:"ad_break_started",AD_BREAK_ENDED:"ad_break_ended",AD_POD_STARTED:"ad_pod_started",AD_POD_ENDED:"ad_pod_ended",AD_STARTED:"ad_started",AD_ENDED:"ad_ended",AD_SKIPPED:"ad_skipped",AD_ERROR:"ad_error",AD_IMPRESSION:"ad_impression",AD_CLICKTHROUGH_OPENED:"ad_clickthrough_opened",FULLSCREEN_CHANGED:"fullscreen_changed",VOLUME_CHANGED:"volume_changed",DESTROY:"destroy",ERROR:{GENERAL:"general_error",METADATA_LOADING:"metadata_loading_error",VIDEO_PLAYBACK:"video_playback_error",AUTHORIZATION:"authorization_error"}};OO.Analytics.EVENTS=a}if(!OO.Analytics.EVENT_DATA){var r={};r.VideoElementData=function(e){var t=OO._.bind(s,this,"VideoElementData");this.streamUrl=t(e,"streamUrl",["string"])},r.VideoSourceData=function(e,t){var i=OO._.bind(s,this,"VideoSourceData");this.embedCode=i(e,"embedCode",["string"]),this.metadata=i(t,"metadata",["object"])},r.VideoContentMetadata=function(e,t,i,n,a,r){var o=OO._.bind(s,this,"VideoContentMetadata");this.title=o(e,"title",["string"]),this.description=o(t,"description",["string"]),this.duration=o(i,"duration",["number"]),this.closedCaptions=o(n,"closedCaptions",["object"]),this.contentType=o(a,"contentType",["string"]),this.hostedAtURL=o(r,"hostedAtURL",["string"])},r.StreamTypeMetadata=function(e){var t=OO._.bind(s,this,"StreamTypeMetadata");this.streamType=t(e,"streamType",["string"])},r.VideoDownloadingMetadata=function(e,t,i,n,a){var r=OO._.bind(s,this,"VideoDownloadingMetadata");this.currentTime=r(e,"currentTime",["number"]),this.totalStreamDuration=r(t,"totalStreamDuration",["number"]),this.streamBufferedUntilTime=r(i,"streamBufferedUntilTime",["number"]),this.seekableRangeStart=r(n,"seekableRangeStart",["number"]),this.seekableRangeEnd=r(a,"seekableRangeEnd",["number"])},r.VideoBufferingStartedData=function(e){var t=OO._.bind(s,this,"VideoBufferingStartedData");this.streamUrl=t(e,"streamUrl",["string"])},r.VideoBufferingEndedData=function(e){var t=OO._.bind(s,this,"VideoBufferingEndedData");this.streamUrl=t(e,"streamUrl",["string"])},r.VideoBitrateProfileLookupData=function(e){var t=OO._.bind(s,this,"VideoBitrateProfileLookupData"),i=t(e,"bitrateProfileArray",["array"])||[];this.profiles={};for(var n=0;n<i.length;n++){var a=i[n];a&&a.id&&(this.profiles[a.id]=a)}},r.VideoBitrateProfileData=function(e){var t=OO._.bind(s,this,"VideoBitrateProfileData");this.bitrate=t(e.bitrate,"bitrate",["number","string"]),this.height=t(e.height,"height",["number"]),this.width=t(e.width,"width",["number"]),this.id=t(e.id,"id",["string"])},r.VideoTargetBitrateData=function(e){var t=OO._.bind(s,this,"VideoTargetBitrateData");this.targetProfile=t(e,"targetProfile",["string"])},r.VideoSeekRequestedData=function(e){var t=OO._.bind(s,this,"VideoSeekRequestedData");this.seekingToTime=t(e,"seekingToTime",["number"])},r.VideoSeekCompletedData=function(e){var t=OO._.bind(s,this,"VideoSeekCompletedData");this.timeSeekedTo=t(e,"timeSeekedTo",["number"])},r.VideoStreamPositionChangedData=function(e,t,i){var n=OO._.bind(s,this,"VideoStreamPositionChangedData");this.streamPosition=n(e,"streamPosition",["number"]),this.totalStreamDuration=n(t,"totalStreamDuration",["number"]),this.videoId=n(i,"videoId",["string"])},r.VideoErrorData=function(e){var t=OO._.bind(s,this,"VideoErrorData");this.errorCode=t(e,"errorCode",["string"]),this.errorMessage=l(e)},r.GeneralErrorData=function(e,t){var i=OO._.bind(s,this,"GeneralErrorData");this.errorCode=i(e,"errorCode",["string"]),this.errorMessage=i(t,"errorMessage",["string"])},r.MetadataLoadingErrorData=function(e,t){var i=OO._.bind(s,this,"MetadataLoadingErrorData");this.errorCode=i(e,"errorCode",["string"]),this.errorMessage=i(t,"errorMessage",["string"])},r.VideoPlaybackErrorData=function(e,t){var i=OO._.bind(s,this,"VideoPlaybackErrorData");this.errorCode=i(e,"errorCode",["string"]),this.errorMessage=i(t,"errorMessage",["string"])},r.AuthorizationErrorData=function(e,t){var i=OO._.bind(s,this,"AuthorizationErrorData");this.errorCode=i(e,"errorCode",["string"]),this.errorMessage=i(t,"errorMessage",["string"])},r.AdPodStartedData=function(e){var t=OO._.bind(s,this,"AdPodStartedData");this.numberOfAds=t(e,"numberOfAds",["number"])},r.AdPodEndedData=function(e){var t=OO._.bind(s,this,"AdPodEndedData");this.adId=t(e,"adId",["string"])},r.AdStartedData=function(e,t){var i=OO._.bind(s,this,"AdStartedData");this.adType=i(e,"adType",["string"]),this.adMetadata=o(e,t)},r.LinearVideoData=function(e,t,i){var n=OO._.bind(s,this,"LinearVideoData");this.adId=n(e,"adId",["string"]),this.adDuration=n(t,"adDuration",["number"]),this.adPodPosition=n(i,"adPodPosition",["number"])},r.NonLinearOverlayData=function(e){var t=OO._.bind(s,this,"NonLinearOverlayData");this.adId=t(e,"adId",["string"])},r.AdEndedData=function(e,t){var i=OO._.bind(s,this,"AdEndedData");this.adType=i(e,"adType",["string"]),this.adId=i(t,"adId",["string"])},r.AdErrorData=function(e){var t=OO._.bind(s,this,"AdErrorData");this.error=t(e,"error",["string","object"])},r.FullscreenChangedData=function(e){var t=OO._.bind(s,this,"FullscreenChangedData");this.changingToFullscreen=t(e,"changingToFullscreen",["boolean"])},r.VolumeChangedData=function(e){var t=OO._.bind(s,this,"VolumeChangedData");this.currentVolume=t(e,"currentVolume",["number"])};var s=function(e,t,i,n){for(var a=!0,r=t,s=0;s<n.length;s++){var o=n[s];if("string"===o){if(OO._.isString(r)){a=!1;break}}else if("object"===o){if(r&&OO._.isObject(r)){a=!1;break}}else if("array"===o)r&&OO._.isArray(r)&&(a=!1);else if("number"===o){var l=parseFloat(r);if(OO._.isNumber(r)){a=!1;break}if(!isNaN(l)){r=l,a=!1;break}}else if("boolean"===o)if(OO._.isBoolean(r))a=!1;else{if("true"===r){r=!0,a=!1;break}if("false"===r){r=!1,a=!1;break}}}return a?void u("Analytics.EVENT_DATA."+e+" being created with invalid "+i+". Should be one of these types ["+n+"] but was ["+typeof t+"]."):r},o=function(e,t){var i;switch(e){case OO.Analytics.AD_TYPE.LINEAR_VIDEO:i=new r.LinearVideoData(t.name,t.duration,t.indexInPod);break;case OO.Analytics.AD_TYPE.NONLINEAR_OVERLAY:i=new r.NonLinearOverlayData(t.id);break;default:u("Ad Type not recognized. Should be one of these values ["+OO._.values(OO.Analytics.AD_TYPE)+"] but was ["+e+"].")}return i},l=function(e){var t;return _.has(n,e)?t=n[e]:u("Error code not recognized. Error code provided was: "+e),t},u=function(e){OO.log("Error AnalyticsConstants: "+e)};OO.Analytics.EVENT_DATA=r}if(!OO.Analytics.REQUIRED_PLUGIN_FUNCTIONS){var d=["getName","getVersion","setPluginID","getPluginID","init","setMetadata","destroy","processEvent"];OO.Analytics.REQUIRED_PLUGIN_FUNCTIONS=d}},{"./InitAnalyticsNamespace.js":5}],4:[function(e){e("../../html5-common/js/utils/InitModules/InitOOUnderscore.js"),e("./InitAnalyticsNamespace.js"),e("./AnalyticsConstants.js"),OO.Analytics.RecordedEvent=function(e,t,i){this.timeStamp=e,this.eventName=t,this.params=i},OO.Analytics.Framework=function(){var e,t=OO._,i={},n=[],a=!0,r={},s=0,o=20,l=500,u=t.bind(function(e){if(!t.isFunction(e))throw f("Trying to make private function but "+e+" is not a function.");return t.bind(e,this)},this);this.setPluginMetadata=function(i){var n=!1;if(e&&OO.log(f("Trying to run setPluginMetadata more than once. Ignoring new data.")),t.isObject(i)){e=i;for(var a=this.getPluginIDList(),r=0;r<a.length;r++){var s=h(a[r]);E(s)}n=!0}else OO.log(f("Calling setPluginMetadata without valid metadata object. Defaulting to no metadata"));return n},this.destroy=u(function(){OO.Analytics.UnregisterFrameworkInstance(this);for(var a in i)this.unregisterPlugin(a);t=null,i=null,n=null,e=null,r=null});var d=u(function(e,t){if(a&&n.length<l){var i=(new Date).getTime(),r=new OO.Analytics.RecordedEvent(i,e,t);n.push(r)}else c()}),c=(u(function(){n=[]}),u(function(){a=!0}),u(function(){a=!1}));this.getRecordedEvents=function(){return n?t.clone(n):[]},this.registerPlugin=function(t){var n,a,r=!1;if(t||(OO.log(f("Trying to register plugin class that is a falsy value.")),r=!0),!r)try{a=new t(this)}catch(s){OO.log(s),OO.log(f("Error was thrown during plugin creation.")),r=!0}if(r||(this.validatePlugin(a)?(g(a,"init"),e&&E(a)):r=!0),r||(n=p(a),n?i[n]||(i[n]={factory:t,instance:a,active:!0},g(a,"setPluginID",[n])):r=!0),r)if(n)OO.log(f("'"+n+"' is not valid and was not registered."));else{var o=g(a,"getName");OO.log(o?f("'"+o+"' is not valid and was not registered."):f("Plugin validation failed and was not registered."))}return n},this.unregisterPlugin=function(e){var t=!1;if(e&&i&&i[e]){var n=h(e);g(n,"destroy"),delete i[e],t=!0}return t},this.validatePlugin=function(e){var i=!0;if(e||(i=!1,OO.log(f("Plugin has falsy value and is not valid. Actual value: "),e)),i){for(var n=0;n<OO.Analytics.REQUIRED_PLUGIN_FUNCTIONS.length;n++){var a=OO.Analytics.REQUIRED_PLUGIN_FUNCTIONS[n];if(!e.hasOwnProperty(a)||"function"!=typeof e[a]){if(i=!1,e.getName&&"function"==typeof e.getName)try{OO.log(f("Plugin '"+e.getName()+"' missing function: "+a))}catch(r){OO.log(f("Plugin missing function: "+a))}else OO.log(f("Plugin missing function: "+a));break}}if(i)try{var s=e.getName();s&&t.isString(s)||(OO.log(f("Plugin does not have 'string' as return type of getName() or is empty string")),i=!1)}catch(r){OO.log(f("Plugin throws error on call to getName")),i=!1}if(i)try{var o=e.getVersion();o&&t.isString(o)||(OO.log(f("Plugin does not have 'string' as return type of getVersion() or is empty string")),i=!1)}catch(r){OO.log(f("Plugin throws error on call to getVersion")),i=!1}}return i},this.getPluginIDList=function(){var e=[];if(i)for(var t in i)e.push(t);return e};var h=u(function(e){var t;return i&&i[e]&&(t=i[e].instance),t});this.isPluginActive=function(e){return e&&i&&i[e]&&t.isBoolean(i[e].active)?i[e].active:!1},this.makePluginActive=function(e){var t=!1;return e&&i&&i[e]&&(i[e].active=!0,t=!0),t},this.makePluginInactive=function(e){var t=!1;return e&&i&&i[e]&&(i[e].active=!1,t=!0),t},this.flattenEvents=function(e){for(var i=[],n=t.keys(e),a=0;a<n.length;a++){var r=n[a],s=e[r];if("object"==typeof s)for(var o=this.flattenEvents(s),l=0;l<o.length;l++){var u=o[l];i.push(u)}else i.push(s)}return i},this.createEventDictionary=function(){var e=null,t=this.flattenEvents(OO.Analytics.EVENTS);if(t&&t instanceof Array){e={};for(var i=0;i<t.length;i++){var n=t[i];e[n]=!0}}return e},r=this.createEventDictionary(),this.publishEvent=function(e,n){var s=!1;if(r[e]){t.isArray(n)||(n=[]),a&&d(e,n);var o;for(o in i)if(this.isPluginActive(o)){var l=h(o);g(l,"processEvent",[e,n])}s=!0}else OO.log(f("Event '"+e+"' being published and it's not in the list of OO.Analytics.EVENTS"));return s};var p=u(function(e){var t=null;if(e){var n=g(e,"getName"),a=g(e,"getVersion");n&&a&&(t=s+"_"+n+"_"+a,i[t]?(OO.log(f("Failed to create a unique name for plugin "+n+"_"+a)),t=null):s++,s>o&&OO.log(f("You have tried to create more than "+o+" unique plugin ids. There is probably an infinite loop or some other error.")))}return t}),E=u(function(t){if(e){var i=g(t,"getName");if(!i)return void OO.log(f("Trying to pass in metadata to plugin that does not have valid name"));var n=e[i];g(t,"setMetadata",[n])}}),f=function(e){return"ERROR Analytics Framework: "+e},g=u(function(e,i,n){OO.DEBUG&&y(i);try{if(t.isFunction(e[i]))return e[i].apply(e,n)}catch(a){try{e&&t.isFunction(e.getName)&&OO.log(f("Error occurred during call to function '"+i+"' on plugin '"+e.getName()+"'\n",a))}catch(r){OO.log(f("Error occurred during call to function '"+i+"' on plugin\n",a))}}return null}),y=u(function(e){t.contains(OO.Analytics.REQUIRED_PLUGIN_FUNCTIONS,e)||OO.log(f("Calling function '"+e+"' in framework code and it's not in the REQUIRED_PLUGIN_FUNCTIONS list."))});OO.Analytics.RegisterFrameworkInstance(this)}},{"../../html5-common/js/utils/InitModules/InitOOUnderscore.js":2,"./AnalyticsConstants.js":3,"./InitAnalyticsNamespace.js":5}],5:[function(e){e("../../html5-common/js/utils/InitModules/InitOO.js"),e("../../html5-common/js/utils/InitModules/InitOOUnderscore.js"),OO.Analytics||(OO.Analytics={}),OO.Analytics.FrameworkInstanceList||(OO.Analytics.FrameworkInstanceList=[]),OO.Analytics.PluginFactoryList||(OO.Analytics.PluginFactoryList=[]),OO.Analytics.RegisterPluginFactory||(OO.Analytics.RegisterPluginFactory=function(e){if(OO.Analytics.PluginFactoryList.push(e),OO.Analytics.FrameworkInstanceList&&OO.Analytics.FrameworkInstanceList.length)for(var t=0;t<OO.Analytics.FrameworkInstanceList.length;t++)OO.Analytics.FrameworkInstanceList[t].registerPluginFactory(e)}),OO.Analytics.FrameworkRegistrationObject||(OO.Analytics.FrameworkRegistrationObject=function(e){this.registerPluginFactory=function(t){e.registerPlugin(t)}}),OO.Analytics.RegisterFrameworkInstance||(OO.Analytics.RegisterFrameworkInstance=function(e){var t=new OO.Analytics.FrameworkRegistrationObject(e);if(e.frameworkRegistrationObject=t,OO.Analytics.FrameworkInstanceList.push(t),OO._.isArray(OO.Analytics.PluginFactoryList)&&OO.Analytics.PluginFactoryList.length>0)for(var i=0;i<OO.Analytics.PluginFactoryList.length;i++)e.registerPlugin(OO.Analytics.PluginFactoryList[i])}),OO.Analytics.UnregisterFrameworkInstance||(OO.Analytics.UnregisterFrameworkInstance=function(e){if(e){var t=e.frameworkRegistrationObject;t&&(OO.Analytics.FrameworkInstanceList=OO._.without(OO.Analytics.FrameworkInstanceList,t))}})},{"../../html5-common/js/utils/InitModules/InitOO.js":1,"../../html5-common/js/utils/InitModules/InitOOUnderscore.js":2}],6:[function(e,t,i){(function(){function e(t,i,n){if(t===i)return 0!==t||1/t==1/i;if(null==t||null==i)return t===i;if(t._chain&&(t=t._wrapped),i._chain&&(i=i._wrapped),t.isEqual&&S.isFunction(t.isEqual))return t.isEqual(i);if(i.isEqual&&S.isFunction(i.isEqual))return i.isEqual(t);var a=c.call(t);if(a!=c.call(i))return!1;switch(a){case"[object String]":return t==String(i);case"[object Number]":return t!=+t?i!=+i:0==t?1/t==1/i:t==+i;case"[object Date]":case"[object Boolean]":return+t==+i;case"[object RegExp]":return t.source==i.source&&t.global==i.global&&t.multiline==i.multiline&&t.ignoreCase==i.ignoreCase}if("object"!=typeof t||"object"!=typeof i)return!1;for(var r=n.length;r--;)if(n[r]==t)return!0;n.push(t);var s=0,o=!0;if("[object Array]"==a){if(s=t.length,o=s==i.length)for(;s--&&(o=s in t==s in i&&e(t[s],i[s],n)););}else{if("constructor"in t!="constructor"in i||t.constructor!=i.constructor)return!1;for(var l in t)if(S.has(t,l)&&(s++,!(o=S.has(i,l)&&e(t[l],i[l],n))))break;if(o){for(l in i)if(S.has(i,l)&&!s--)break;o=!s}}return n.pop(),o}var n=this,a=n._,r={},s=Array.prototype,o=Object.prototype,l=Function.prototype,u=s.slice,d=s.unshift,c=o.toString,h=o.hasOwnProperty,p=s.forEach,E=s.map,f=s.reduce,g=s.reduceRight,y=s.filter,T=s.every,m=s.some,_=s.indexOf,O=s.lastIndexOf,A=Array.isArray,I=Object.keys,v=l.bind,S=function(e){return new F(e)
};"undefined"!=typeof i?("undefined"!=typeof t&&t.exports&&(i=t.exports=S),i._=S):n._=S,S.VERSION="1.3.3";var b=S.each=S.forEach=function(e,t,i){if(null!=e)if(p&&e.forEach===p)e.forEach(t,i);else if(e.length===+e.length){for(var n=0,a=e.length;a>n;n++)if(n in e&&t.call(i,e[n],n,e)===r)return}else for(var s in e)if(S.has(e,s)&&t.call(i,e[s],s,e)===r)return};S.map=S.collect=function(e,t,i){var n=[];return null==e?n:E&&e.map===E?e.map(t,i):(b(e,function(e,a,r){n[n.length]=t.call(i,e,a,r)}),e.length===+e.length&&(n.length=e.length),n)},S.reduce=S.foldl=S.inject=function(e,t,i,n){var a=arguments.length>2;if(null==e&&(e=[]),f&&e.reduce===f)return n&&(t=S.bind(t,n)),a?e.reduce(t,i):e.reduce(t);if(b(e,function(e,r,s){a?i=t.call(n,i,e,r,s):(i=e,a=!0)}),!a)throw new TypeError("Reduce of empty array with no initial value");return i},S.reduceRight=S.foldr=function(e,t,i,n){var a=arguments.length>2;if(null==e&&(e=[]),g&&e.reduceRight===g)return n&&(t=S.bind(t,n)),a?e.reduceRight(t,i):e.reduceRight(t);var r=S.toArray(e).reverse();return n&&!a&&(t=S.bind(t,n)),a?S.reduce(r,t,i,n):S.reduce(r,t)},S.find=S.detect=function(e,t,i){var n;return N(e,function(e,a,r){return t.call(i,e,a,r)?(n=e,!0):void 0}),n},S.filter=S.select=function(e,t,i){var n=[];return null==e?n:y&&e.filter===y?e.filter(t,i):(b(e,function(e,a,r){t.call(i,e,a,r)&&(n[n.length]=e)}),n)},S.reject=function(e,t,i){var n=[];return null==e?n:(b(e,function(e,a,r){t.call(i,e,a,r)||(n[n.length]=e)}),n)},S.every=S.all=function(e,t,i){var n=!0;return null==e?n:T&&e.every===T?e.every(t,i):(b(e,function(e,a,s){return(n=n&&t.call(i,e,a,s))?void 0:r}),!!n)};var N=S.some=S.any=function(e,t,i){t||(t=S.identity);var n=!1;return null==e?n:m&&e.some===m?e.some(t,i):(b(e,function(e,a,s){return n||(n=t.call(i,e,a,s))?r:void 0}),!!n)};S.include=S.contains=function(e,t){var i=!1;return null==e?i:_&&e.indexOf===_?-1!=e.indexOf(t):i=N(e,function(e){return e===t})},S.invoke=function(e,t){var i=u.call(arguments,2);return S.map(e,function(e){return(S.isFunction(t)?t||e:e[t]).apply(e,i)})},S.pluck=function(e,t){return S.map(e,function(e){return e[t]})},S.max=function(e,t,i){if(!t&&S.isArray(e)&&e[0]===+e[0])return Math.max.apply(Math,e);if(!t&&S.isEmpty(e))return-1/0;var n={computed:-1/0};return b(e,function(e,a,r){var s=t?t.call(i,e,a,r):e;s>=n.computed&&(n={value:e,computed:s})}),n.value},S.min=function(e,t,i){if(!t&&S.isArray(e)&&e[0]===+e[0])return Math.min.apply(Math,e);if(!t&&S.isEmpty(e))return 1/0;var n={computed:1/0};return b(e,function(e,a,r){var s=t?t.call(i,e,a,r):e;s<n.computed&&(n={value:e,computed:s})}),n.value},S.shuffle=function(e){var t,i=[];return b(e,function(e,n){t=Math.floor(Math.random()*(n+1)),i[n]=i[t],i[t]=e}),i},S.sortBy=function(e,t,i){var n=S.isFunction(t)?t:function(e){return e[t]};return S.pluck(S.map(e,function(e,t,a){return{value:e,criteria:n.call(i,e,t,a)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;return void 0===i?1:void 0===n?-1:n>i?-1:i>n?1:0}),"value")},S.groupBy=function(e,t){var i={},n=S.isFunction(t)?t:function(e){return e[t]};return b(e,function(e,t){var a=n(e,t);(i[a]||(i[a]=[])).push(e)}),i},S.sortedIndex=function(e,t,i){i||(i=S.identity);for(var n=0,a=e.length;a>n;){var r=n+a>>1;i(e[r])<i(t)?n=r+1:a=r}return n},S.toArray=function(e){return e?S.isArray(e)?u.call(e):S.isArguments(e)?u.call(e):e.toArray&&S.isFunction(e.toArray)?e.toArray():S.values(e):[]},S.size=function(e){return S.isArray(e)?e.length:S.keys(e).length},S.first=S.head=S.take=function(e,t,i){return null==t||i?e[0]:u.call(e,0,t)},S.initial=function(e,t,i){return u.call(e,0,e.length-(null==t||i?1:t))},S.last=function(e,t,i){return null==t||i?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},S.rest=S.tail=function(e,t,i){return u.call(e,null==t||i?1:t)},S.compact=function(e){return S.filter(e,function(e){return!!e})},S.flatten=function(e,t){return S.reduce(e,function(e,i){return S.isArray(i)?e.concat(t?i:S.flatten(i)):(e[e.length]=i,e)},[])},S.without=function(e){return S.difference(e,u.call(arguments,1))},S.uniq=S.unique=function(e,t,i){var n=i?S.map(e,i):e,a=[];return e.length<3&&(t=!0),S.reduce(n,function(i,n,r){return(t?S.last(i)===n&&i.length:S.include(i,n))||(i.push(n),a.push(e[r])),i},[]),a},S.union=function(){return S.uniq(S.flatten(arguments,!0))},S.intersection=S.intersect=function(e){var t=u.call(arguments,1);return S.filter(S.uniq(e),function(e){return S.every(t,function(t){return S.indexOf(t,e)>=0})})},S.difference=function(e){var t=S.flatten(u.call(arguments,1),!0);return S.filter(e,function(e){return!S.include(t,e)})},S.zip=function(){for(var e=u.call(arguments),t=S.max(S.pluck(e,"length")),i=new Array(t),n=0;t>n;n++)i[n]=S.pluck(e,""+n);return i},S.indexOf=function(e,t,i){if(null==e)return-1;var n,a;if(i)return n=S.sortedIndex(e,t),e[n]===t?n:-1;if(_&&e.indexOf===_)return e.indexOf(t);for(n=0,a=e.length;a>n;n++)if(n in e&&e[n]===t)return n;return-1},S.lastIndexOf=function(e,t){if(null==e)return-1;if(O&&e.lastIndexOf===O)return e.lastIndexOf(t);for(var i=e.length;i--;)if(i in e&&e[i]===t)return i;return-1},S.range=function(e,t,i){arguments.length<=1&&(t=e||0,e=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((t-e)/i),0),a=0,r=new Array(n);n>a;)r[a++]=e,e+=i;return r};var D=function(){};S.bind=function(e,t){var i,n;if(e.bind===v&&v)return v.apply(e,u.call(arguments,1));if(!S.isFunction(e))throw new TypeError;return n=u.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(u.call(arguments)));D.prototype=e.prototype;var a=new D,r=e.apply(a,n.concat(u.call(arguments)));return Object(r)===r?r:a}},S.bindAll=function(e){var t=u.call(arguments,1);return 0==t.length&&(t=S.functions(e)),b(t,function(t){e[t]=S.bind(e[t],e)}),e},S.memoize=function(e,t){var i={};return t||(t=S.identity),function(){var n=t.apply(this,arguments);return S.has(i,n)?i[n]:i[n]=e.apply(this,arguments)}},S.delay=function(e,t){var i=u.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},S.defer=function(e){return S.delay.apply(S,[e,1].concat(u.call(arguments,1)))},S.throttle=function(e,t){var i,n,a,r,s,o,l=S.debounce(function(){s=r=!1},t);return function(){i=this,n=arguments;var u=function(){a=null,s&&e.apply(i,n),l()};return a||(a=setTimeout(u,t)),r?s=!0:o=e.apply(i,n),l(),r=!0,o}},S.debounce=function(e,t,i){var n;return function(){var a=this,r=arguments,s=function(){n=null,i||e.apply(a,r)};i&&!n&&e.apply(a,r),clearTimeout(n),n=setTimeout(s,t)}},S.once=function(e){var t,i=!1;return function(){return i?t:(i=!0,t=e.apply(this,arguments))}},S.wrap=function(e,t){return function(){var i=[e].concat(u.call(arguments,0));return t.apply(this,i)}},S.compose=function(){var e=arguments;return function(){for(var t=arguments,i=e.length-1;i>=0;i--)t=[e[i].apply(this,t)];return t[0]}},S.after=function(e,t){return 0>=e?t():function(){return--e<1?t.apply(this,arguments):void 0}},S.keys=I||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var i in e)S.has(e,i)&&(t[t.length]=i);return t},S.values=function(e){return S.map(e,S.identity)},S.functions=S.methods=function(e){var t=[];for(var i in e)S.isFunction(e[i])&&t.push(i);return t.sort()},S.extend=function(e){return b(u.call(arguments,1),function(t){for(var i in t)e[i]=t[i]}),e},S.pick=function(e){var t={};return b(S.flatten(u.call(arguments,1)),function(i){i in e&&(t[i]=e[i])}),t},S.defaults=function(e){return b(u.call(arguments,1),function(t){for(var i in t)null==e[i]&&(e[i]=t[i])}),e},S.clone=function(e){return S.isObject(e)?S.isArray(e)?e.slice():S.extend({},e):e},S.tap=function(e,t){return t(e),e},S.isEqual=function(t,i){return e(t,i,[])},S.isEmpty=function(e){if(null==e)return!0;if(S.isArray(e)||S.isString(e))return 0===e.length;for(var t in e)if(S.has(e,t))return!1;return!0},S.isElement=function(e){return!(!e||1!=e.nodeType)},S.isArray=A||function(e){return"[object Array]"==c.call(e)},S.isObject=function(e){return e===Object(e)},S.isArguments=function(e){return"[object Arguments]"==c.call(e)},S.isArguments(arguments)||(S.isArguments=function(e){return!(!e||!S.has(e,"callee"))}),S.isFunction=function(e){return"[object Function]"==c.call(e)},S.isString=function(e){return"[object String]"==c.call(e)},S.isNumber=function(e){return"[object Number]"==c.call(e)},S.isFinite=function(e){return S.isNumber(e)&&isFinite(e)},S.isNaN=function(e){return e!==e},S.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},S.isDate=function(e){return"[object Date]"==c.call(e)},S.isRegExp=function(e){return"[object RegExp]"==c.call(e)},S.isNull=function(e){return null===e},S.isUndefined=function(e){return void 0===e},S.has=function(e,t){return h.call(e,t)},S.noConflict=function(){return n._=a,this},S.identity=function(e){return e},S.times=function(e,t,i){for(var n=0;e>n;n++)t.call(i,n)},S.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},S.result=function(e,t){if(null==e)return null;var i=e[t];return S.isFunction(i)?i.call(e):i},S.mixin=function(e){b(S.functions(e),function(t){M(t,S[t]=e[t])})};var R=0;S.uniqueId=function(e){var t=R++;return e?e+t:t},S.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var C=/.^/,L={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var P in L)L[L[P]]=P;var w=/\\|'|\r|\n|\t|\u2028|\u2029/g,k=/\\(\\|'|r|n|t|u2028|u2029)/g,V=function(e){return e.replace(k,function(e,t){return L[t]})};S.template=function(e,t,i){i=S.defaults(i||{},S.templateSettings);var n="__p+='"+e.replace(w,function(e){return"\\"+L[e]}).replace(i.escape||C,function(e,t){return"'+\n_.escape("+V(t)+")+\n'"}).replace(i.interpolate||C,function(e,t){return"'+\n("+V(t)+")+\n'"}).replace(i.evaluate||C,function(e,t){return"';\n"+V(t)+"\n;__p+='"})+"';\n";i.variable||(n="with(obj||{}){\n"+n+"}\n"),n="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+n+"return __p;\n";var a=new Function(i.variable||"obj","_",n);if(t)return a(t,S);var r=function(e){return a.call(this,e,S)};return r.source="function("+(i.variable||"obj")+"){\n"+n+"}",r},S.chain=function(e){return S(e).chain()};var F=function(e){this._wrapped=e};S.prototype=F.prototype;var B=function(e,t){return t?S(e).chain():e},M=function(e,t){F.prototype[e]=function(){var e=u.call(arguments);return d.call(e,this._wrapped),B(t.apply(S,e),this._chain)}};S.mixin(S),b(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];F.prototype[e]=function(){var i=this._wrapped;t.apply(i,arguments);var n=i.length;return"shift"!=e&&"splice"!=e||0!==n||delete i[0],B(i,this._chain)}}),b(["concat","join","slice"],function(e){var t=s[e];F.prototype[e]=function(){return B(t.apply(this._wrapped,arguments),this._chain)}}),F.prototype.chain=function(){return this._chain=!0,this},F.prototype.value=function(){return this._wrapped}}).call(this)},{}]},{},[4]),OO.exposeStaticApi("Analytics",OO.Analytics),OO.plugin("AnalyticsFrameworkTranslator",function(e,t){var i,n,a=!1,r=!1,s=null,o=!1,l={};l.SAS=e.ERROR.API.SAS,l.PLAYBACK=e.ERROR.PLAYBACK,l.METADATA_LOADING=e.ERROR.API,l.GENERAL=e.ERROR;var u=t.bind(function(e){if(!t.isFunction(e))throw J("Trying to make private function but "+e+" is not a function.");return t.bind(e,this)},this),d=function(t,a){this.id=a,i=t,n=new e.Analytics.Framework,i.subscribe(e.EVENTS.PLAYER_CREATED,"AnalyticsFrameworkTranslator",c),i.subscribe(e.EVENTS.EMBED_CODE_CHANGED,"AnalyticsFrameworkTranslator",h),i.subscribe(e.EVENTS.CONTENT_TREE_FETCHED,"AnalyticsFrameworkTranslator",p),i.subscribe(e.EVENTS.METADATA_FETCHED,"AnalyticsFrameworkTranslator",E),i.subscribe(e.EVENTS.AUTHORIZATION_FETCHED,"AnalyticsFrameworkTranslator",f),i.subscribe(e.EVENTS.INITIAL_PLAY,"AnalyticsFrameworkTranslator",g),i.subscribe(e.EVENTS.PLAY,"AnalyticsFrameworkTranslator",y),i.subscribe(e.EVENTS.DOWNLOADING,"AnalyticsFrameworkTranslator",T),i.subscribe(e.EVENTS.BUFFERING,"AnalyticsFrameworkTranslator",m),i.subscribe(e.EVENTS.BUFFERED,"AnalyticsFrameworkTranslator",_),i.subscribe(e.EVENTS.BITRATE_INFO_AVAILABLE,"AnalyticsFrameworkTranslator",O),i.subscribe(e.EVENTS.SET_TARGET_BITRATE,"AnalyticsFrameworkTranslator",A),i.subscribe(e.EVENTS.BITRATE_CHANGED,"AnalyticsFrameworkTranslator",I),i.subscribe(e.EVENTS.PLAYING,"AnalyticsFrameworkTranslator",v),i.subscribe(e.EVENTS.PLAYHEAD_TIME_CHANGED,"AnalyticsFrameworkTranslator",S),i.subscribe(e.EVENTS.PLAYED,"AnalyticsFrameworkTranslator",b),i.subscribe(e.EVENTS.PAUSE,"AnalyticsFrameworkTranslator",N),i.subscribe(e.EVENTS.PAUSED,"AnalyticsFrameworkTranslator",D),i.subscribe(e.EVENTS.REPLAY,"AnalyticsFrameworkTranslator",R),i.subscribe(e.EVENTS.SEEK,"AnalyticsFrameworkTranslator",C),i.subscribe(e.EVENTS.SEEKED,"AnalyticsFrameworkTranslator",L),i.subscribe(e.EVENTS.WILL_PLAY_ADS,"AnalyticsFrameworkTranslator",P),i.subscribe(e.EVENTS.AD_POD_STARTED,"AnalyticsFrameworkTranslator",w),i.subscribe(e.EVENTS.AD_POD_ENDED,"AnalyticsFrameworkTranslator",V),i.subscribe(e.EVENTS.WILL_PLAY_SINGLE_AD,"AnalyticsFrameworkTranslator",F),i.subscribe(e.EVENTS.SINGLE_AD_PLAYED,"AnalyticsFrameworkTranslator",B),i.subscribe(e.EVENTS.WILL_PLAY_NONLINEAR_AD,"AnalyticsFrameworkTranslator",M),i.subscribe(e.EVENTS.NONLINEAR_AD_PLAYED,"AnalyticsFrameworkTranslator",U),i.subscribe(e.EVENTS.ADS_PLAYED,"AnalyticsFrameworkTranslator",x),i.subscribe(e.EVENTS.SKIP_AD,"AnalyticsFrameworkTranslator",H),i.subscribe(e.EVENTS.ADS_ERROR,"AnalyticsFrameworkTranslator",G),i.subscribe(e.EVENTS.ADS_CLICKTHROUGH_OPENED,"AnalyticsFrameworkTranslator",Y),i.subscribe(e.EVENTS.FULLSCREEN_CHANGED,"AnalyticsFrameworkTranslator",W),i.subscribe(e.EVENTS.VOLUME_CHANGED,"AnalyticsFrameworkTranslator",j),i.subscribe(e.EVENTS.DESTROY,"AnalyticsFrameworkTranslator",K),i.subscribe(e.EVENTS.VC_PLAYED,"AnalyticsFrameworkTranslator",z),i.subscribe(e.EVENTS.VC_PLAYING,"AnalyticsFrameworkTranslator",q),i.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"AnalyticsFrameworkTranslator",$),i.subscribe(e.EVENTS.ERROR,"AnalyticsFrameworkTranslator",Q),i.subscribe(e.EVENTS.VC_PLAY_FAILED,"AnalyticsFrameworkTranslator",X)},c=u(function(t,i,a){var r;try{r=a}catch(s){et(t),r={}}n.setPluginMetadata(r),n.publishEvent(e.Analytics.EVENTS.VIDEO_PLAYER_CREATED,[r])}),h=u(function(t,i,a){var r;try{r=new e.Analytics.EVENT_DATA.VideoSourceData(i,a)}catch(s){et(t),r={}}n.publishEvent(e.Analytics.EVENTS.VIDEO_SOURCE_CHANGED,[r])}),p=u(function(t,i){var a;try{var r=i;a=new e.Analytics.EVENT_DATA.VideoContentMetadata(r.title,r.description,r.duration,r.closed_captions,r.content_type,r.hostedAtURL)}catch(s){et(t),a={}}n.publishEvent(e.Analytics.EVENTS.VIDEO_CONTENT_METADATA_UPDATED,[a])}),E=u(function(t,i){var a;try{a=i}catch(r){et(t),a={}}n.publishEvent(e.Analytics.EVENTS.VIDEO_STREAM_METADATA_UPDATED,[a])}),f=u(function(t,i){var a;try{var r;r=i&&i.streams&&i.streams[0]&&i.streams[0].is_live_stream?e.Analytics.STREAM_TYPE.LIVE_STREAM:e.Analytics.STREAM_TYPE.VOD,a=new e.Analytics.EVENT_DATA.StreamTypeMetadata(r)}catch(s){et(t),a={}}n.publishEvent(e.Analytics.EVENTS.STREAM_TYPE_UPDATED,[a])}),g=u(function(){n.publishEvent(e.Analytics.EVENTS.INITIAL_PLAYBACK_REQUESTED)}),y=u(function(){n.publishEvent(e.Analytics.EVENTS.VIDEO_PLAY_REQUESTED)}),T=u(function(t,i,a,r,s){var o;try{o=new e.Analytics.EVENT_DATA.VideoDownloadingMetadata(i,a,r,s.start,s.end)}catch(l){o={},et(t)}n.publishEvent(e.Analytics.EVENTS.VIDEO_STREAM_DOWNLOADING,[o])}),m=u(function(t,i){var a;try{a=new e.Analytics.EVENT_DATA.VideoBufferingStartedData(i)}catch(r){et(t),a={}}n.publishEvent(e.Analytics.EVENTS.VIDEO_BUFFERING_STARTED,[a])}),_=u(function(t,i){var a;try{a=new e.Analytics.EVENT_DATA.VideoBufferingEndedData(i)}catch(r){et(t),a={}}n.publishEvent(e.Analytics.EVENTS.VIDEO_BUFFERING_ENDED,[a])}),O=u(function(t,i){var a;try{a=new e.Analytics.EVENT_DATA.VideoBitrateProfileLookupData(i.bitrates)}catch(r){et(t),a={}}n.publishEvent(e.Analytics.EVENTS.VIDEO_STREAM_BITRATE_PROFILES,[a])}),A=u(function(t,i){var a;try{a=new e.Analytics.EVENT_DATA.VideoTargetBitrateData(i)}catch(r){et(t),a={}}n.publishEvent(e.Analytics.EVENTS.VIDEO_STREAM_TARGET_BITRATE_REQUESTED,[a])}),I=u(function(t,i){var a;try{a=new e.Analytics.EVENT_DATA.VideoBitrateProfileData(i)}catch(r){et(t),a={}}n.publishEvent(e.Analytics.EVENTS.VIDEO_STREAM_BITRATE_CHANGED,[a])}),v=u(function(){n.publishEvent(e.Analytics.EVENTS.VIDEO_PLAYING)}),S=u(function(t,i,a,r,s,o){var l;try{l=new e.Analytics.EVENT_DATA.VideoStreamPositionChangedData(i,a,o)}catch(u){et(t),l={}}n.publishEvent(e.Analytics.EVENTS.VIDEO_STREAM_POSITION_CHANGED,[l])}),b=u(function(){n.publishEvent(e.Analytics.EVENTS.PLAYBACK_COMPLETED)}),N=u(function(){n.publishEvent(e.Analytics.EVENTS.VIDEO_PAUSE_REQUESTED)}),D=u(function(){n.publishEvent(e.Analytics.EVENTS.VIDEO_PAUSED)}),R=u(function(){n.publishEvent(e.Analytics.EVENTS.VIDEO_REPLAY_REQUESTED)}),C=u(function(t,i){var a;try{a=new e.Analytics.EVENT_DATA.VideoSeekRequestedData(i)}catch(r){et(t),a={}}n.publishEvent(e.Analytics.EVENTS.VIDEO_SEEK_REQUESTED,[a])}),L=u(function(t,i){var a;try{a=new e.Analytics.EVENT_DATA.VideoSeekCompletedData(i)}catch(r){et(t),a={}}n.publishEvent(e.Analytics.EVENTS.VIDEO_SEEK_COMPLETED,[a])}),P=u(function(){a=!0}),w=u(function(t,i){var n;try{n=new e.Analytics.EVENT_DATA.AdPodStartedData(i)}catch(a){et(t),n={}}var o=[n];r?k(o):s=o}),k=u(function(t){t=t?t:[{}],n.publishEvent(e.Analytics.EVENTS.AD_POD_STARTED,t)}),V=u(function(t,i){if(r){var a;try{a=new e.Analytics.EVENT_DATA.AdPodEndedData(i)}catch(s){et(t),a={}}n.publishEvent(e.Analytics.EVENTS.AD_POD_ENDED,[a])}}),F=u(function(t,i){r||(n.publishEvent(e.Analytics.EVENTS.AD_BREAK_STARTED),k(s),s=null),r=!0,o=!1;var a;try{a=new e.Analytics.EVENT_DATA.AdStartedData(e.Analytics.AD_TYPE.LINEAR_VIDEO,i)}catch(l){et(t),a={}}n.publishEvent(e.Analytics.EVENTS.AD_STARTED,[a])}),B=u(function(t,i){var a;try{a=new e.Analytics.EVENT_DATA.AdEndedData(e.Analytics.AD_TYPE.LINEAR_VIDEO,i)}catch(r){et(t),a={}}n.publishEvent(e.Analytics.EVENTS.AD_ENDED,[a])}),M=u(function(t,i){var a;try{a=new e.Analytics.EVENT_DATA.AdStartedData(e.Analytics.AD_TYPE.NONLINEAR_OVERLAY,i)}catch(r){et(t),a={}}n.publishEvent(e.Analytics.EVENTS.AD_STARTED,[a])}),U=u(function(t,i){var a;try{a=new e.Analytics.EVENT_DATA.AdEndedData(e.Analytics.AD_TYPE.NONLINEAR_OVERLAY,i)}catch(r){et(t),a={}}n.publishEvent(e.Analytics.EVENTS.AD_ENDED,[a])}),x=u(function(){a=!1,o=!1,r&&n.publishEvent(e.Analytics.EVENTS.AD_BREAK_ENDED),r=!1,s=null}),H=u(function(){n.publishEvent(e.Analytics.EVENTS.AD_SKIPPED)}),G=u(function(t,i){var a;try{a=new e.Analytics.EVENT_DATA.AdErrorData(i)}catch(r){et(t),a={}}n.publishEvent(e.Analytics.EVENTS.AD_ERROR,[a])}),Y=u(function(){n.publishEvent(e.Analytics.EVENTS.AD_CLICKTHROUGH_OPENED)}),W=u(function(t,i){var a;try{a=new e.Analytics.EVENT_DATA.FullscreenChangedData(i)}catch(r){et(t),a={}}n.publishEvent(e.Analytics.EVENTS.FULLSCREEN_CHANGED,[a])}),j=u(function(t,i){var a;try{a=new e.Analytics.EVENT_DATA.VolumeChangedData(i)}catch(r){et(t),a={}}n.publishEvent(e.Analytics.EVENTS.VOLUME_CHANGED,[a])}),K=u(function(){n.publishEvent(e.Analytics.EVENTS.DESTROY)}),z=u(function(t,i){i===e.VIDEO.MAIN&&n.publishEvent(e.Analytics.EVENTS.VIDEO_CONTENT_COMPLETED)}),q=u(function(t,i){i===e.VIDEO.ADS&&a&&!o&&(o=!0,n.publishEvent(e.Analytics.EVENTS.AD_IMPRESSION))}),X=u(function(t,i,a){var r;try{r=new e.Analytics.EVENT_DATA.VideoErrorData(a)}catch(s){et(t),r={}}n.publishEvent(e.Analytics.EVENTS.VIDEO_ERROR,[r])}),$=u(function(t,i){if(i){var a=i.videoId;if(a===e.VIDEO.MAIN){var r=null;try{r=new e.Analytics.EVENT_DATA.VideoElementData(i.streamUrl)}catch(s){et(t),r={}}n.publishEvent(e.Analytics.EVENTS.VIDEO_ELEMENT_CREATED,[r])}}}),Q=u(function(t,i){if(i&&i.code){var a=i.code,r=Z(a);if(r){var s,o=e.getLocalizedMessage(a);switch(r){case"SAS":s=new e.Analytics.EVENT_DATA.AuthorizationErrorData(a,o),n.publishEvent(e.Analytics.EVENTS.ERROR.AUTHORIZATION,[s]);break;case"PLAYBACK":s=new e.Analytics.EVENT_DATA.VideoPlaybackErrorData(a,o),n.publishEvent(e.Analytics.EVENTS.ERROR.VIDEO_PLAYBACK,[s]);break;case"METADATA_LOADING":s=new e.Analytics.EVENT_DATA.MetadataLoadingErrorData(a,o),n.publishEvent(e.Analytics.EVENTS.ERROR.METADATA_LOADING,[s]);break;case"GENERAL":s=new e.Analytics.EVENT_DATA.GeneralErrorData(a,o),n.publishEvent(e.Analytics.EVENTS.ERROR.GENERAL,[s])}}else J("error while reporting error message - error code does not fall under a recognized category. error code provided is: "+a)}else J("error while reporting error message - expected errorData is malformed: "+i)}),Z=u(function(e){for(var i=null,n=t.keys(l),a=0;a<n.length;a++){var r=n[a],s=t.values(l[r]);if(t.contains(s,e)){i=r;break}}return i}),J=u(function(e){return"Error AnalyticsFrameworkTranslator: "+e}),et=u(function(t){e.log(J(t+" data changed and is causing an error."))});return d}),function(OO,$,_){!function(){var e="undefined"!=typeof process&&process.versions&&process.versions.node?global:window;"undefined"==typeof e.Ooyala&&(e.Ooyala={}),Ooyala.Util={};var t=function(t){if("string"!=typeof t)throw"The namespace name must be a string.";var i=t.split(".");if(!(i.length>0))throw"The namespace '"+t+"' is not valid.";for(var n=e,a=0;a<i.length;a++){var r=i[a];if(!(r.length>0))throw"The namespace '"+t+"' is not valid.";if(n[r]){var s=i.slice(0,a).join(".");if("object"!=typeof n[r])throw"Namespace error: the name '"+s+"' already exists and is not a namespace."}else n[r]={};n=n[r]}};t("Ooyala.Util"),Ooyala.Util.createNamespace=t}(),Ooyala.Util.getOwnProperties=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i);return t},Ooyala.Util.extend=function(e,t){for(var i in t)t.hasOwnProperty(i)&&void 0==e[i]&&(e[i]=t[i])},Ooyala.Util.createNamespace("Ooyala.Util"),Ooyala.Util.bind=function(e,t){var i=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,i.concat(Array.prototype.slice.call(arguments)))}},Ooyala.Util.createNamespace("Ooyala.Util.Enumerable"),Ooyala.Util.extend(Ooyala.Util.Enumerable,{_checkFunction:function(e){if("function"!=typeof e)throw new TypeError},foreach:function(e,t){this._checkFunction(t);for(var i=0;i<e.length;i++)t.call(void 0,e[i])},map:function(e,t){this._checkFunction(t);var i=[];return Ooyala.Util.Enumerable.foreach(e,function(e){i.push(t.call(void 0,e))}),i},select:function(e,t){this._checkFunction(t);var i=[];return Ooyala.Util.Enumerable.foreach(e,function(e){t.call(void 0,e)&&i.push(e)}),i},reject:function(e,t){return this.select(e,function(e){return!t.call(void 0,e)})}}),Ooyala.Util.createNamespace("Ooyala.Util.Http"),Ooyala.Util.Http._XMLHttpRequestFactories=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")}],Ooyala.Util.Http._XMLHttpRequestFactory=null,Ooyala.Util.Http.createXMLHttpRequest=function(){if(null!=Ooyala.Util.Http._XMLHttpRequestFactory)return Ooyala.Util.Http._XMLHttpRequestFactory();for(var e=0;e<Ooyala.Util.Http._XMLHttpRequestFactories.length;e++)try{var t=Ooyala.Util.Http._XMLHttpRequestFactories[e],i=t();if(null!=i)return Ooyala.Util.Http._XMLHttpRequestFactory=t,i}catch(n){}Ooyala.Util.Http._XMLHttpRequestFactory=function(){throw"XMLHttpRequest not supported."},Ooyala.Util.Http._XMLHttpRequestFactory()},Ooyala.Util.CookieManager=function(e,t,i){this._cookieName=e,this._daysToLive=t,this._compareFn=i,this._keysValuesHash={},this._cookiesEnabled=window.navigator.cookieEnabled,Ooyala.Util.CookieManager.cookieNames.push(e)},Ooyala.Util.CookieManager.MAX_COOKIE_SIZE=2048,Ooyala.Util.CookieManager.cookieNames=[],Ooyala.Util.CookieManager.prototype={deDupe:function(){for(var e=this._readAllCookies(this._cookieName),t=0;t<e.length;t++)this._updateHashFromString(e[t]);this._writeCookie(this._cookieName,this._updateStringFromHash()),this._destroyCookies(this._cookieName)},get:function(e){return this._cookiesEnabled?(this._updateHashFromString(this._readCookie(this._cookieName)),(e=this._keysValuesHash[e])?e:null):null},set:function(e,t){this._cookiesEnabled&&(this._keysValuesHash[e]=t.toString(),this._writeCookie(this._cookieName,this._updateStringFromHash()))},_compare:function(e,t){return this._compareFn(this._keysValuesHash[t],this._keysValuesHash[e])},_updateHashFromString:function(e){if(e){e=e.split("&");for(var t=0;t<e.length;t++){var i=e[t],n=i.indexOf(":");if(-1!=n){var a=i.substring(0,n);i=i.substring(n+1),this._compareFn(this._keysValuesHash[a],i)<0&&(this._keysValuesHash[a]=i)}}}},_updateStringFromHash:function(){for(var e=Ooyala.Util.getOwnProperties(this._keysValuesHash).sort(Ooyala.Util.bind(this._compare,this)),t="",i=this._cookieOverhead(this._cookieName),n=0;n<Ooyala.Util.CookieManager.cookieNames.length;n++){var a=Ooyala.Util.CookieManager.cookieNames[n];a!=this._cookieName&&(i+=this._cookieOverhead(a)+(this._readCookie(a)||"").length)}for(n=0;n<e.length;n++){a=e[n];var r=this._keysValuesHash[a];if(i+t.length+a.length+r.length+(0==n?1:2)>Ooyala.Util.CookieManager.MAX_COOKIE_SIZE)break;t+=(0==n?"":"&")+a+":"+r}return t},_writeCookie:function(e,t){document.cookie=e+"="+t+"; expires="+this._getExpiryDate()+"; path=/;"},_readCookie:function(e){var t=document.cookie;if(!t)return null;e+="=",t=t.split(";");for(var i=0;i<t.length;i++){for(var n=t[i];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(e))return e=n.substring(e.length,n.length),e.length>0?e:null}return null},_readAllCookies:function(e){var t=document.cookie,i=[];if(!t)return i;e+="=",t=t.split(";");for(var n=0;n<t.length;n++){for(var a=t[n];" "==a.charAt(0);)a=a.substring(1);0==a.indexOf(e)&&(a=a.substring(e.length,a.length),a.length>0&&i.push(a))}return i},_destroyCookies:function(e,t){if(e){t||(t=!1);for(var i=document.location.pathname;;){var n=i.lastIndexOf("/");if(-1===n)break;if(0===n&&1===i.length)break;document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path="+i+";",i=i.substring(0,n)}t&&(document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/;")}},_cookieOverhead:function(e){return e.length+this._getExpiryDate().length+10+9},_getExpiryDate:function(){var e=(new Date).getTime();return new Date(e+24*this._daysToLive*60*60*1e3).toGMTString()}},Ooyala.Util.createNamespace("Ooyala.Util"),Ooyala.Util.extend(Ooyala.Util,{base64Encode:function(e){for(var t,i,n,a,r,s,o="",l=0;l<e.length;)t=e[l++],i=e[l++],n=e[l++],a=t>>2,t=(3&t)<<4|i>>4,r=(15&i)<<2|n>>6,s=63&n,isNaN(i)?r=s=64:isNaN(n)&&(s=64),o=o+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(r)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(s);return o},utf8Encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",i=0;i<e.length;i++){var n=e.charCodeAt(i);128>n?t+=String.fromCharCode(n):(n>127&&2048>n?t+=String.fromCharCode(n>>6|192):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128)),t+=String.fromCharCode(63&n|128))}return t},encodeDouble:function(e){var t,i,n,a,r,s,o=Array(8),l=e,u={len:8,mLen:52,rt:0};for(n=u.mLen,a=8*u.len-u.mLen-1,s=(1<<a)-1,r=s>>1,e=0>l?1:0,l=Math.abs(l),isNaN(l)||1/0==l?(l=isNaN(l)?1:0,t=s):(t=Math.floor(Math.log(l)/Math.LN2),l*(i=Math.pow(2,-t))<1&&(t--,i*=2),l+=t+r>=1?u.rt/i:u.rt*Math.pow(2,1-r),l*i>=2&&(t++,i/=2),t+r>=s?(l=0,t=s):t+r>=1?(l=(l*i-1)*Math.pow(2,n),t+=r):(l=l*Math.pow(2,r-1)*Math.pow(2,n),t=0)),u=u.len-1;n>=8;o[0+u]=255&l,u+=-1,l/=256,n-=8);for(t=t<<n|l,a+=n;a>0;o[0+u]=255&t,u+=-1,t/=256,a-=8);return o[0+u- -1]|=128*e,o}}),function(){var a={Type:{STOP:0,VOID:1,BOOL:2,BYTE:3,I08:3,DOUBLE:4,I16:6,I32:8,I64:10,STRING:11,UTF7:11,STRUCT:12,MAP:13,SET:14,LIST:15,UTF8:16,UTF16:17},MessageType:{CALL:1,REPLY:2,EXCEPTION:3}};a.TException={},a.TException.prototype={initialize:function(e,t){this.message=e,this.code=null==t?0:t}},a.TApplicationExceptionType={UNKNOWN:0,UNKNOWN_METHOD:1,INVALID_MESSAGE_TYPE:2,WRONG_METHOD_NAME:3,BAD_SEQUENCE_ID:4,MISSING_RESULT:5},a.TApplicationException=function(e,t){this.message=e,this.code=null==t?0:t},a.TApplicationException.prototype={read:function(e){var t,i=e.readStructBegin(fname);for(this.fname=i.fname;i=e.readFieldBegin(),i.ftype!=TType.STOP;){switch(t=i.fid){case 1:i.ftype==Type.STRING?(i=e.readString(),this.message=i.value):e.skip(i.ftype);break;case 2:i.ftype==Type.I32?(i=e.readI32(),this.code=i.value):e.skip(i.ftype);break;default:e.skip(i.ftype)}e.readFieldEnd()}e.readStructEnd()},write:function(e){e.writeStructBegin("TApplicationException"),this.message&&(e.writeFieldBegin("message",Type.STRING,1),e.writeString(this.getMessage()),e.writeFieldEnd()),this.code&&(e.writeFieldBegin("type",Type.I32,2),e.writeI32(this.code),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},getCode:function(){return this.code},getMessage:function(){return this.message}},a.Transport=function(e){this.url=e,this.rpos=this.wpos=0,this.recv_buf=this.send_buf=""},a.Transport.prototype={getXmlHttpRequestObject:function(){try{return new XMLHttpRequest}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(i){}throw"Your browser doesn't support the XmlHttpRequest object.  Try upgrading to Firefox."},flush:function(){if(void 0==this.url||""==this.url)return this.send_buf;var e=this.getXmlHttpRequestObject();if(e.overrideMimeType&&e.overrideMimeType("application/json"),e.open("POST",this.url,!1),e.send(this.send_buf),4!=e.readyState)throw"encountered an unknown ajax ready state: "+e.readyState;if(200!=e.status)throw"encountered a unknown request status: "+e.status;this.recv_buf=e.responseText,this.wpos=this.recv_buf_sz=this.recv_buf.length,this.rpos=0},setRecvBuffer:function(e){this.recv_buf=e,this.wpos=this.recv_buf_sz=this.recv_buf.length,this.rpos=0},isOpen:function(){return!0},open:function(){},close:function(){},read:function(e){var t=this.wpos-this.rpos;if(0==t)return"";var i=e;return e>t&&(i=t),e=this.read_buf.substr(this.rpos,i),this.rpos+=i,e},readAll:function(){return this.recv_buf},write:function(e){this.send_buf=e},getSendBuffer:function(){return this.send_buf}},a.Protocol=function(e){this.transport=e},a.Protocol.Type={},a.Protocol.Type[a.Type.BOOL]='"tf"',a.Protocol.Type[a.Type.BYTE]='"i8"',a.Protocol.Type[a.Type.I16]='"i16"',a.Protocol.Type[a.Type.I32]='"i32"',a.Protocol.Type[a.Type.I64]='"i64"',a.Protocol.Type[a.Type.DOUBLE]='"dbl"',a.Protocol.Type[a.Type.STRUCT]='"rec"',a.Protocol.Type[a.Type.STRING]='"str"',a.Protocol.Type[a.Type.MAP]='"map"',a.Protocol.Type[a.Type.LIST]='"lst"',a.Protocol.Type[a.Type.SET]='"set"',a.Protocol.RType={},a.Protocol.RType.tf=a.Type.BOOL,a.Protocol.RType.i8=a.Type.BYTE,a.Protocol.RType.i16=a.Type.I16,a.Protocol.RType.i32=a.Type.I32,a.Protocol.RType.i64=a.Type.I64,a.Protocol.RType.dbl=a.Type.DOUBLE,a.Protocol.RType.rec=a.Type.STRUCT,a.Protocol.RType.str=a.Type.STRING,a.Protocol.RType.map=a.Type.MAP,a.Protocol.RType.lst=a.Type.LIST,a.Protocol.RType.set=a.Type.SET,a.Protocol.Version=1,a.Protocol.prototype={getTransport:function(){return this.transport},writeMessageBegin:function(e,t,i){this.tstack=[],this.tpos=[],this.tstack.push([a.Protocol.Version,'"'+e+'"',t,i])},writeMessageEnd:function(){var e=this.tstack.pop();this.wobj=this.tstack.pop(),this.wobj.push(e),this.wbuf="["+this.wobj.join(",")+"]",this.transport.write(this.wbuf)},writeStructBegin:function(){this.tpos.push(this.tstack.length),this.tstack.push({})},writeStructEnd:function(){var e=this.tpos.pop(),t=this.tstack[e],i="{",n=!0;for(var a in t)n?n=!1:i+=",",i+=a+":"+t[a];i+="}",this.tstack[e]=i},writeFieldBegin:function(e,t,i){this.tpos.push(this.tstack.length),this.tstack.push({fieldId:'"'+i+'"',fieldType:a.Protocol.Type[t]})},writeFieldEnd:function(){var e=this.tstack.pop(),t=this.tstack.pop();this.tstack[this.tstack.length-1][t.fieldId]="{"+t.fieldType+":"+e+"}",this.tpos.pop()},writeFieldStop:function(){},writeMapBegin:function(e,t){this.tpos.push(this.tstack.length),this.tstack.push([a.Protocol.Type[e],a.Protocol.Type[t],0])
},writeMapEnd:function(){var e=this.tpos.pop();if(e!=this.tstack.length){(this.tstack.length-e-1)%2!=0&&this.tstack.push(""),this.tstack[e][this.tstack[e].length-1]=(this.tstack.length-e-1)/2;for(var t="{",i=!0;this.tstack.length>e+1;){var n=this.tstack.pop(),a=this.tstack.pop();i?i=!1:t+=",",t+='"'+a+'":'+n}t+="}",this.tstack[e].push(t),this.tstack[e]="["+this.tstack[e].join(",")+"]"}},writeListBegin:function(e,t){this.tpos.push(this.tstack.length),this.tstack.push([a.Protocol.Type[e],t])},writeListEnd:function(){for(var e=this.tpos.pop();this.tstack.length>e+1;){var t=this.tstack[e+1];this.tstack.splice(e+1,1),this.tstack[e].push(t)}this.tstack[e]="["+this.tstack[e].join(",")+"]"},writeSetBegin:function(e,t){this.tpos.push(this.tstack.length),this.tstack.push([a.Protocol.Type[e],t])},writeSetEnd:function(){for(var e=this.tpos.pop();this.tstack.length>e+1;){var t=this.tstack[e+1];this.tstack.splice(e+1,1),this.tstack[e].push(t)}this.tstack[e]="["+this.tstack[e].join(",")+"]"},writeBool:function(e){this.tstack.push(e?1:0)},writeByte:function(e){this.tstack.push(e)},writeI16:function(e){this.tstack.push(e)},writeI32:function(e){this.tstack.push(e)},writeI64:function(e){this.tstack.push(e)},writeDouble:function(e){this.tstack.push(e)},writeString:function(e){this.tstack.push('"'+encodeURIComponent(e)+'"')},writeBinary:function(e){this.writeString(e)},readMessageBegin:function(){this.rstack=[],this.rpos=[],this.robj=eval(this.transport.readAll());var b={},c=this.robj.shift();if(c!=a.Protocol.Version)throw"Wrong thrift protocol version: "+c;return b.fname=this.robj.shift(),b.mtype=this.robj.shift(),b.rseqid=this.robj.shift(),this.rstack.push(this.robj.shift()),b},readMessageEnd:function(){},readStructBegin:function(){var e={};return e.fname="",this.rstack[this.rstack.length-1]instanceof Array&&this.rstack.push(this.rstack[this.rstack.length-1].shift()),e},readStructEnd:function(){this.rstack[this.rstack.length-2]instanceof Array&&this.rstack.pop()},readFieldBegin:function(){var e={},t=-1,i=a.Type.STOP;for(var n in this.rstack[this.rstack.length-1])if(null!=n){t=parseInt(n),this.rpos.push(this.rstack.length);var r=this.rstack[this.rstack.length-1][t];delete this.rstack[this.rstack.length-1][t],this.rstack.push(r);break}if(-1!=t)for(n in this.rstack[this.rstack.length-1])null!=a.Protocol.RType[n]&&(i=a.Protocol.RType[n],this.rstack[this.rstack.length-1]=this.rstack[this.rstack.length-1][n]);return e.fname="",e.ftype=i,e.fid=t,e},readFieldEnd:function(){for(var e=this.rpos.pop();this.rstack.length>e;)this.rstack.pop()},readMapBegin:function(){var e=this.rstack.pop(),t={};return t.ktype=a.Protocol.RType[e.shift()],t.vtype=a.Protocol.RType[e.shift()],t.size=e.shift(),this.rpos.push(this.rstack.length),this.rstack.push(e.shift()),t},readMapEnd:function(){this.readFieldEnd()},readListBegin:function(){var e=this.rstack[this.rstack.length-1],t={};return t.etype=a.Protocol.RType[e.shift()],t.size=e.shift(),this.rpos.push(this.rstack.length),this.rstack.push(e),t},readListEnd:function(){this.readFieldEnd()},readSetBegin:function(e,t){return this.readListBegin(e,t)},readSetEnd:function(){return this.readListEnd()},readBool:function(){var e=this.readI32();return e.value=null!=e&&"1"==e.value?!0:!1,e},readByte:function(){return this.readI32()},readI16:function(){return this.readI32()},readI32:function(e){void 0==e&&(e=this.rstack[this.rstack.length-1]);var t={};if(e instanceof Array)t.value=0==e.length?void 0:e.shift();else if(e instanceof Object){for(var i in e)if(null!=i){this.rstack.push(e[i]),delete e[i],t.value=i;break}}else t.value=e;return t},readI64:function(){return this.readI32()},readDouble:function(){return this.readI32()},readString:function(){var e=this.readI32();return e.value=decodeURIComponent(e.value),e},readBinary:function(){return this.readString()},skip:function(){throw"skip not supported yet"}},Ooyala.Thrift=a}(),Ooyala.Thrift.BinaryProtocol=function(e){this.transport=e},Ooyala.Thrift.BinaryProtocol.VERSION_MASK=4294901760,Ooyala.Thrift.BinaryProtocol.VERSION_1=2147549184,Ooyala.Thrift.BinaryProtocol.TYPE_MASK=255,Ooyala.Thrift.BinaryProtocol.prototype={getTransport:function(){return this.transport},writeMessageBegin:function(e,t,i){this.writeI16(Ooyala.Thrift.BinaryProtocol.VERSION_1>>16),this.writeI16(t),this.writeString(e),this.writeI32(i)},writeMessageEnd:function(){},writeStructBegin:function(){},writeStructEnd:function(){},writeFieldBegin:function(e,t,i){this.writeByte(t),this.writeI16(i)},writeFieldEnd:function(){},writeFieldStop:function(){this.writeByte(Ooyala.Thrift.Type.STOP)},writeMapBegin:function(e,t,i){this.writeByte(e),this.writeByte(t),this.writeI32(i)},writeMapEnd:function(){},writeListBegin:function(e,t){this.writeByte(e),this.writeI32(t)},writeListEnd:function(){},writeSetBegin:function(e,t){this.writeByte(e),this.writeI32(t)},writeSetEnd:function(){},writeBool:function(e){this.writeByte(e?1:0)},writeByte:function(e){this.transport.write([e])},writeI16:function(e){this.transport.write([(65280&e)>>8,255&e])},writeI32:function(e){var t=65535&e;this.writeI16((4294901760&e)>>16),this.writeI16(t)},writeI64:function(e){var t=4294967295&e;this.writeI32(e/4294967296&4294967295),this.writeI32(t)},writeDouble:function(e){this.transport.write(Ooyala.Util.encodeDouble(e))},writeString:function(e){e=Ooyala.Util.utf8Encode(e),this.writeI32(e.length);for(var t=0;t<e.length;t++)this.writeByte(e.charCodeAt(t))},readMessageBegin:function(){},readMessageEnd:function(){},readStructBegin:function(){},readStructEnd:function(){},readFieldBegin:function(){},readFieldEnd:function(){},readMapBegin:function(){},readMapEnd:function(){},readListBegin:function(){},readListEnd:function(){},readSetBegin:function(){},readSetEnd:function(){},readBool:function(){},readByte:function(){},readI16:function(){},readI32:function(){},readI64:function(){},readDouble:function(){},readString:function(){},skip:function(){throw"skip not supported yet"}},Ooyala.Thrift.MemoryBufferTransport=function(e){this.buf=e||[],this.index=0},Ooyala.Thrift.MemoryBufferTransport.prototype={isOpen:function(){return!0},open:function(){},close:function(){},read:function(e){var t=this.buf.slice(this.index,this.index+e);return this.index+=e,this.index>this.buf.length&&(this.index=this.buf.length),t},readAll:function(){return this.buf},write:function(e){this.buf=this.buf.concat(e)},flush:function(){},resetBuffer:function(){this.buf=[],this.index=0}},Ooyala.Thrift.Serializer=function(){this.transport=new Ooyala.Thrift.MemoryBufferTransport(null),this.protocol=new Ooyala.Thrift.BinaryProtocol(this.transport)},Ooyala.Thrift.Serializer.prototype={serialize:function(e){return this.transport.resetBuffer(),e.write(this.protocol),this.transport.readAll()}},"undefined"==typeof Ooyala&&(Ooyala={}),"undefined"==typeof Ooyala.AdsLogging&&(Ooyala.AdsLogging={}),Ooyala.AdsLogging.AdFormat={VIDEO:1,OVERLAY:2,ENDCAP:3,COMPANION:4},Ooyala.AdsLogging.AdSourceId={OOYALA:1,DOUBLECLICK:2,LIGHTNINGCAST:3,YUME:4,TREMOR:5,ADSENSE:6,TV2N:7,OAS:8,ADTECH:9,SCANSCOUT:10,ATLAS:11,FREEWHEEL:12,OPENX:13,LIVERAIL:14,VAST:15,ADIFY:16,DART_ENTERPRISE:17,CBSI:18,BRIGHTROLL:19,UNKNOWN:20,ADAPTV:21,VIDEOPLAZA:22,SPOTXCHANGE:23},Ooyala.AdsLogging.AdPositionType={PREROLL:1,MIDROLL:2,POSTROLL:3,OVERLAY_POSITION:4,ENDSLATE:5,STANDALONE:6},Ooyala.AdsLogging.AdFailureReason={LOAD_ERROR:1,LOAD_TIMEOUT:2,LOAD_IO_ERROR:3,PREFETCH_ERROR:4,PREFETCH_TIMEOUT:5,PREFETCH_IO_ERROR:6,PLAY_ERROR:7,PLAY_TIMEOUT:8,PLAY_IO_ERROR:9,INVALID_PLAYER_CONFIGURATION:10,INVALID_AD_CONFIGURATION:11,AD_NOT_FOUND:12,EXCEPTION:13,AD_ERROR:14,INVALID_AD_RESPONSE:15,CONNECTION_ERROR:16,BUFFERING_TIMEOUT:17,POLICY_RESTRICTION:18},Ooyala.AdsLogging.AD_FORMAT_MAP={1:"video",2:"overlay",3:"endcap",4:"companion"},Ooyala.AdsLogging.AD_SOURCE_MAP={1:"ooyala",2:"doubleclick",3:"lightningcast",4:"yume",5:"tremor",6:"adsense",7:"tv2n",8:"oas",9:"adtech",10:"scanscout",11:"atlas",12:"freewheel",13:"openx",14:"liverail",15:"vast",16:"adify",17:"dart_enterprise",18:"cbsi",19:"brightroll",21:"adap-tv",22:"videoplaza",23:"spotxchange",20:"[unknown]"},Ooyala.AdsLogging.AD_POSITION_TYPE_MAP={1:"preroll",2:"midroll",3:"postroll",4:"overlay",5:"endslate",6:"standalone"},Ooyala.AdsLogging.AD_FAILURE_REASON_MAP={1:"loadError",2:"loadTimeout",3:"loadIOError",4:"prefetchError",5:"prefetchTimeout",6:"prefetchIOError",7:"playError",8:"playTimeout",9:"playIOError",10:"invalidPlayerConfiguration",11:"invalidAdConfiguration",12:"adNotFound",13:"exception",14:"adError",15:"invalidAdResponse",16:"connectionError",17:"bufferingTimeout",18:"policyRestriction"},Ooyala.AdsLogging.AdParams=function(e){this.string_key="",this.integer_key=0,this.value="",null!=e&&(null!=e.string_key&&(this.string_key=e.string_key),null!=e.integer_key&&(this.integer_key=e.integer_key),null!=e.value&&(this.value=e.value))},Ooyala.AdsLogging.AdParams.prototype={},Ooyala.AdsLogging.AdParams.prototype.read=function(e){for(var t=e.readStructBegin();;){t=e.readFieldBegin();var i=t.ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.string_key=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.integer_key=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.value=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.AdsLogging.AdParams.prototype.write=function(e){e.writeStructBegin("AdParams"),null!=this.string_key&&(e.writeFieldBegin("string_key",Ooyala.Thrift.Type.STRING,1),e.writeString(this.string_key),e.writeFieldEnd()),null!=this.integer_key&&(e.writeFieldBegin("integer_key",Ooyala.Thrift.Type.I32,2),e.writeI32(this.integer_key),e.writeFieldEnd()),null!=this.value&&(e.writeFieldBegin("value",Ooyala.Thrift.Type.STRING,3),e.writeString(this.value),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.AdsLogging.AdClick=function(e){this.clickUrl="",this.realTime=this.playheadTimeMillis=0,null!=e&&(null!=e.clickUrl&&(this.clickUrl=e.clickUrl),null!=e.playheadTimeMillis&&(this.playheadTimeMillis=e.playheadTimeMillis),null!=e.realTime&&(this.realTime=e.realTime))},Ooyala.AdsLogging.AdClick.prototype={},Ooyala.AdsLogging.AdClick.prototype.read=function(e){for(var t=e.readStructBegin();;){t=e.readFieldBegin();var i=t.ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.clickUrl=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.playheadTimeMillis=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.realTime=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.AdsLogging.AdClick.prototype.write=function(e){e.writeStructBegin("AdClick"),null!=this.clickUrl&&(e.writeFieldBegin("clickUrl",Ooyala.Thrift.Type.STRING,1),e.writeString(this.clickUrl),e.writeFieldEnd()),null!=this.playheadTimeMillis&&(e.writeFieldBegin("playheadTimeMillis",Ooyala.Thrift.Type.I32,2),e.writeI32(this.playheadTimeMillis),e.writeFieldEnd()),null!=this.realTime&&(e.writeFieldBegin("realTime",Ooyala.Thrift.Type.I32,3),e.writeI32(this.realTime),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.AdsLogging.AdSpot=function(e){this.adSourceContentId=this.parentContentReportingIdIndex=this.adPositionInMillis=this.ooyalaAdReportingIdIndex=this.adPositionType=this.adFormat=this.adSource=0,this.passthroughParameters=this.tagUrl="",this.adId=0,null!=e&&(null!=e.adSource&&(this.adSource=e.adSource),null!=e.adFormat&&(this.adFormat=e.adFormat),null!=e.adPositionType&&(this.adPositionType=e.adPositionType),null!=e.ooyalaAdReportingIdIndex&&(this.ooyalaAdReportingIdIndex=e.ooyalaAdReportingIdIndex),null!=e.adPositionInMillis&&(this.adPositionInMillis=e.adPositionInMillis),null!=e.parentContentReportingIdIndex&&(this.parentContentReportingIdIndex=e.parentContentReportingIdIndex),null!=e.adSourceContentId&&(this.adSourceContentId=e.adSourceContentId),null!=e.tagUrl&&(this.tagUrl=e.tagUrl),null!=e.passthroughParameters&&(this.passthroughParameters=e.passthroughParameters),null!=e.adId&&(this.adId=e.adId))},Ooyala.AdsLogging.AdSpot.prototype={},Ooyala.AdsLogging.AdSpot.prototype.read=function(e){for(var t=e.readStructBegin();;){t=e.readFieldBegin();var i=t.ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.adSource=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.adFormat=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.adPositionType=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.ooyalaAdReportingIdIndex=t.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.adPositionInMillis=t.value):e.skip(i);break;case 6:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.parentContentReportingIdIndex=t.value):e.skip(i);break;case 7:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.adSourceContentId=t.value):e.skip(i);break;case 8:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.tagUrl=t.value):e.skip(i);break;case 9:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.passthroughParameters=t.value):e.skip(i);break;case 10:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.adId=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.AdsLogging.AdSpot.prototype.write=function(e){e.writeStructBegin("AdSpot"),null!=this.adSource&&(e.writeFieldBegin("adSource",Ooyala.Thrift.Type.BYTE,1),e.writeByte(this.adSource),e.writeFieldEnd()),null!=this.adFormat&&(e.writeFieldBegin("adFormat",Ooyala.Thrift.Type.BYTE,2),e.writeByte(this.adFormat),e.writeFieldEnd()),null!=this.adPositionType&&(e.writeFieldBegin("adPositionType",Ooyala.Thrift.Type.BYTE,3),e.writeByte(this.adPositionType),e.writeFieldEnd()),null!=this.ooyalaAdReportingIdIndex&&(e.writeFieldBegin("ooyalaAdReportingIdIndex",Ooyala.Thrift.Type.BYTE,4),e.writeByte(this.ooyalaAdReportingIdIndex),e.writeFieldEnd()),null!=this.adPositionInMillis&&(e.writeFieldBegin("adPositionInMillis",Ooyala.Thrift.Type.I32,5),e.writeI32(this.adPositionInMillis),e.writeFieldEnd()),null!=this.parentContentReportingIdIndex&&(e.writeFieldBegin("parentContentReportingIdIndex",Ooyala.Thrift.Type.BYTE,6),e.writeByte(this.parentContentReportingIdIndex),e.writeFieldEnd()),null!=this.adSourceContentId&&(e.writeFieldBegin("adSourceContentId",Ooyala.Thrift.Type.I32,7),e.writeI32(this.adSourceContentId),e.writeFieldEnd()),null!=this.tagUrl&&(e.writeFieldBegin("tagUrl",Ooyala.Thrift.Type.STRING,8),e.writeString(this.tagUrl),e.writeFieldEnd()),null!=this.passthroughParameters&&(e.writeFieldBegin("passthroughParameters",Ooyala.Thrift.Type.STRING,9),e.writeString(this.passthroughParameters),e.writeFieldEnd()),null!=this.adId&&(e.writeFieldBegin("adId",Ooyala.Thrift.Type.I32,10),e.writeI32(this.adId),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.AdsLogging.AdTracking=function(e){this.playThroughCompletion=this.adSpotIndex=0,this.clickToVideo=!1,this.clickUrl="",this.failureAfterAdImpression=this.dupClick=!1,this.failureReason=0,null!=e&&(null!=e.adSpotIndex&&(this.adSpotIndex=e.adSpotIndex),null!=e.playThroughCompletion&&(this.playThroughCompletion=e.playThroughCompletion),null!=e.clickToVideo&&(this.clickToVideo=e.clickToVideo),null!=e.clickUrl&&(this.clickUrl=e.clickUrl),null!=e.dupClick&&(this.dupClick=e.dupClick),null!=e.failureAfterAdImpression&&(this.failureAfterAdImpression=e.failureAfterAdImpression),null!=e.failureReason&&(this.failureReason=e.failureReason))},Ooyala.AdsLogging.AdTracking.prototype={},Ooyala.AdsLogging.AdTracking.prototype.read=function(e){for(var t=e.readStructBegin();;){t=e.readFieldBegin();var i=t.ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.adSpotIndex=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.I16?(t=e.readI16(),this.playThroughCompletion=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.clickToVideo=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.clickUrl=t.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.dupClick=t.value):e.skip(i);break;case 6:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.failureAfterAdImpression=t.value):e.skip(i);break;case 7:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.failureReason=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.AdsLogging.AdTracking.prototype.write=function(e){e.writeStructBegin("AdTracking"),null!=this.adSpotIndex&&(e.writeFieldBegin("adSpotIndex",Ooyala.Thrift.Type.BYTE,1),e.writeByte(this.adSpotIndex),e.writeFieldEnd()),null!=this.playThroughCompletion&&(e.writeFieldBegin("playThroughCompletion",Ooyala.Thrift.Type.I16,2),e.writeI16(this.playThroughCompletion),e.writeFieldEnd()),null!=this.clickToVideo&&(e.writeFieldBegin("clickToVideo",Ooyala.Thrift.Type.BOOL,3),e.writeBool(this.clickToVideo),e.writeFieldEnd()),null!=this.clickUrl&&(e.writeFieldBegin("clickUrl",Ooyala.Thrift.Type.STRING,4),e.writeString(this.clickUrl),e.writeFieldEnd()),null!=this.dupClick&&(e.writeFieldBegin("dupClick",Ooyala.Thrift.Type.BOOL,5),e.writeBool(this.dupClick),e.writeFieldEnd()),null!=this.failureAfterAdImpression&&(e.writeFieldBegin("failureAfterAdImpression",Ooyala.Thrift.Type.BOOL,6),e.writeBool(this.failureAfterAdImpression),e.writeFieldEnd()),null!=this.failureReason&&(e.writeFieldBegin("failureReason",Ooyala.Thrift.Type.BYTE,7),e.writeByte(this.failureReason),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},"undefined"==typeof Ooyala&&(Ooyala={}),"undefined"==typeof Ooyala.CustomEventsLogging&&(Ooyala.CustomEventsLogging={}),Ooyala.CustomEventsLogging.Callee={AS:1,JS:2,OPF:3,OTHER:4},Ooyala.CustomEventsLogging.CalleeFormat={1:"actionscript api",2:"javascript api",3:"OPF api",4:"unknown api"},Ooyala.CustomEventsLogging.CustomEvent=function(e){this.event="",this.operations=[],this.callee=0,this.process=!1,this.value=0,null!=e&&(null!=e.event&&(this.event=e.event),null!=e.operations&&(this.operations=e.operations),null!=e.callee&&(this.callee=e.callee),null!=e.process&&(this.process=e.process),null!=e.value&&(this.value=e.value))},Ooyala.CustomEventsLogging.CustomEvent.prototype={},Ooyala.CustomEventsLogging.CustomEvent.prototype.read=function(e){for(var t=e.readStructBegin();;){t=e.readFieldBegin();var i=t.ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:if(i==Ooyala.Thrift.Type.STRING){var n=e.readString();this.event=n.value}else e.skip(i);break;case 2:if(i==Ooyala.Thrift.Type.LIST){for(t=0,this.operations=[],t=e.readListBegin().size,i=0;t>i;++i)n=null,n=e.readString(),n=n.value,this.operations.push(n);e.readListEnd()}else e.skip(i);break;case 3:i==Ooyala.Thrift.Type.BYTE?(n=e.readByte(),this.callee=n.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.BOOL?(n=e.readBool(),this.process=n.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.I32?(n=e.readI32(),this.value=n.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.CustomEventsLogging.CustomEvent.prototype.write=function(e){if(e.writeStructBegin("CustomEvent"),null!=this.event&&(e.writeFieldBegin("event",Ooyala.Thrift.Type.STRING,1),e.writeString(this.event),e.writeFieldEnd()),null!=this.operations){e.writeFieldBegin("operations",Ooyala.Thrift.Type.LIST,2),e.writeListBegin(Ooyala.Thrift.Type.STRING,this.operations.length);for(var t=0;t<this.operations.length;t++)e.writeString(this.operations[t]);e.writeListEnd(),e.writeFieldEnd()}null!=this.callee&&(e.writeFieldBegin("callee",Ooyala.Thrift.Type.BYTE,3),e.writeByte(this.callee),e.writeFieldEnd()),null!=this.process&&(e.writeFieldBegin("process",Ooyala.Thrift.Type.BOOL,4),e.writeBool(this.process),e.writeFieldEnd()),null!=this.value&&(e.writeFieldBegin("value",Ooyala.Thrift.Type.I32,5),e.writeI32(this.value),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},"undefined"==typeof Ooyala&&(Ooyala={}),"undefined"==typeof Ooyala.MetricsLogging&&(Ooyala.MetricsLogging={}),Ooyala.MetricsLogging.MetricsKey={TIME_TO_UI_READY:1,TIME_TO_PLAYBACK_READY:2,TIME_TO_START_SCREEN_IMAGE_DISPLAYED:3,TIME_FROM_PLAY_CLICK_TO_PLAY:4,TIME_TO_START_PLAY_WITH_AUTOPLAY:5,TIME_TO_LOAD_AD:6,TIME_TO_PREFETCH_AD:7,TIME_TO_PLAY_AD:8,USER_VIEWABLE_LATENCY_FOR_AD:9,TIME_TO_LOAD_AD_FAILURE:10,TIME_TO_PREFETCH_AD_FAILURE:11,TIME_TO_PLAY_AD_FAILURE:12,USER_VIEWABLE_LATENCY_FOR_AD_FAILURE:13,TIME_SPENT_BUFFERING:20,TIME_FROM_LOAD_TO_API_READY:30,TIME_FROM_PLAY_TO_PLAYBACK_STARTED:31},Ooyala.MetricsLogging.METRICS_KEY_TYPENAMES={1:"timeToUIReady",2:"timeToPlaybackReady",3:"timeToStartScreenImageDisplayed",5:"timeToStartPlayWithAutoplay",4:"timeFromPlayClickToPlay",6:"timeToLoadAd",7:"timeToPrefetchAd",8:"timeToPlayAd",9:"userViewableLatencyForAd",10:"timeToLoadAdFailure",11:"timeToPrefetchAdFailure",12:"timeToPlayAdFailure",13:"userViewableLatencyForAdFailure",20:"timeSpentBuffering",30:"timeFromLoadToAPIReady",31:"timeFromPlayToPlaybackStarted"},Ooyala.MetricsLogging.Metric=function(e){this.key=0,this.values=[],null!=e&&(null!=e.key&&(this.key=e.key),null!=e.values&&(this.values=e.values))},Ooyala.MetricsLogging.Metric.prototype={},Ooyala.MetricsLogging.Metric.prototype.read=function(e){for(var t=e.readStructBegin();;){t=e.readFieldBegin();var i=t.ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:if(i==Ooyala.Thrift.Type.I16){var n=e.readI16();this.key=n.value}else e.skip(i);break;case 2:if(i==Ooyala.Thrift.Type.LIST){for(t=0,this.values=[],t=e.readListBegin().size,i=0;t>i;++i)n=null,n=e.readI32(),n=n.value,this.values.push(n);e.readListEnd()}else e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.MetricsLogging.Metric.prototype.write=function(e){if(e.writeStructBegin("Metric"),null!=this.key&&(e.writeFieldBegin("key",Ooyala.Thrift.Type.I16,1),e.writeI16(this.key),e.writeFieldEnd()),null!=this.values){e.writeFieldBegin("values",Ooyala.Thrift.Type.LIST,2),e.writeListBegin(Ooyala.Thrift.Type.I32,this.values.length);for(var t=0;t<this.values.length;t++)e.writeI32(this.values[t]);e.writeListEnd(),e.writeFieldEnd()}e.writeFieldStop(),e.writeStructEnd()},"undefined"==typeof Ooyala&&(Ooyala={}),"undefined"==typeof Ooyala.Logging&&(Ooyala.Logging={}),Ooyala.Logging.PlayerEventType={UNKNOWN:0,DISPLAY:1,PLAY:2,PERCENTAGE_WATCHED:3,SEEK:4,REPLAY:5,PAUSE:6,BUCKETS_WATCHED:7,TOTAL_TIME_PLAYED:8,BITRATE_PLAYED:9,DOWNLOAD:10,CHUNK_FAILOVER:11,BUFFER:12,CV_INFO:13,AD_CLICK:14,AD_IMPRESSION:15,AD_PLAYTHROUGH:16,AD_PLAY_FAILED:17,METRIC:18,PLAYER_LOAD:19,BITRATE_TRANSITION:20,BITRATES_AVAILABLE:21,SHARE:22,PAY_PER_VIEW:23,SAS_AUTHORIZE:24,SAS_AUTHORIZE_V2:25,AD_REQUESTED:26,AD_MOUSEOVER:27,VIDEO_START:28,CUSTOM:29,RELATED_VIDEO_SELECTED:30,RELATED_VIDEOS_DISPLAYED:31,PLAYTHROUGH_PERCENT:32},Ooyala.Logging.FileType={VIDEO_FILE:1,IMAGE:2,PLAYER:3,MODULE:4,XML:5},Ooyala.Logging.ChunkFailoverReason={UNKNOWN_REASON:0,READ_TIMEOUT:1,CONNECTION_TIMEOUT:2,CONNECTION_ERROR:3,CLOSE:4,DISCONNECTED:5},Ooyala.Logging.StreamFormat={VP6:1,H264:2,OTHER:3},Ooyala.Logging.PlayerEmbedType={JS:1,OBJECT:2,FLASH_IN_FLASH:3,EXTERNAL_ANALYTICS:4},Ooyala.Logging.BufferType={UNKNOWN_BUFFER_TYPE:0,LOW_BANDWIDTH:1,USER_INITIATED:2,CONNECTION_LOST:3},Ooyala.Logging.Gateway={PAYPAL:1,PAYMO:2},Ooyala.Logging.PayPerViewCheckoutType={CHECKOUT_PRESENTED:1,CHECKOUT_STARTED:2,CHECKOUT_FINISHED:3,CHECKOUT_CANCELLED:4,CHECKOUT_FAILED:5},Ooyala.Logging.ReportingIdType={GLOBAL:1,VIDEO:2,CHANNEL:3,CHANNEL_SET:4,PROVIDER:5},Ooyala.Logging.UserInfoSource={AKAMAI:1,MAXMIND:2,ENCRYPTED_SAS:3},Ooyala.Logging.PLAYER_EVENT_TYPENAMES={0:"unknown",1:"display",2:"play",3:"percentageWatched",4:"seek",5:"replay",6:"pause",7:"bucketsWatched",8:"totalTimePlayed",9:"bitratePlayed",10:"download",11:"chunkFailover",12:"buffer",13:"cvInfo",14:"adClick",27:"adMouseover",26:"adRequested",15:"adImpression",16:"adPlaythrough",17:"adPlayFailed",18:"metric",19:"playerLoad",20:"bitrateTransition",21:"bitratesAvailable",22:"share",23:"payPerView",24:"sasAuthorize",25:"sasAuthorizeV2",28:"videoStart",29:"customEvent",30:"relatedVideoSelected",31:"relatedVideoDisplayed",32:"playthroughPercent"},Ooyala.Logging.FILE_TYPENAMES={1:"video",2:"image",3:"player",4:"module",5:"xml"},Ooyala.Logging.STREAM_FORMAT_TYPENAMES={1:"vp6",2:"h264",3:"other"},Ooyala.Logging.PLAYER_EMBED_TYPENAMES={1:"js",2:"object",3:"flashInFlash",4:"externalAnalytics"},Ooyala.Logging.BUFFER_TYPENAMES={0:"unknown",1:"lowBandwidth",2:"userInitiated",3:"connectionLost"},Ooyala.Logging.GATEWAY_TYPENAMES={1:"paypal",2:"paymo"},Ooyala.Logging.PAY_PER_VIEW_CHECKOUT_TYPENAMES={1:"checkoutPresented",2:"checkoutStarted",3:"checkoutFinished",4:"checkoutCancelled",5:"checkoutFailed"},Ooyala.Logging.REPORTING_ID_TYPE_MAP={1:"global",2:"video",3:"channel",4:"channelSet",5:"provider"},Ooyala.Logging.DownloadStats=function(e){this.servingDomainId=0,this.fileTypeToBytesDownloaded={},this.servingDomain="",this.timesToFirstByte=[],this.avgTimeToFirstByte=this.numLatencyPoints=this.downloadTime=0,this.percentSingleConnection=100,this.totalSingleStreamPlayTime=this.totalSingleStreamBytes=this.bytesDownloadedFromSingleConnection=0,this.filetype=1,this.timeToFirstByte=this.bytesDownloaded=0,null!=e&&(null!=e.servingDomainId&&(this.servingDomainId=e.servingDomainId),null!=e.fileTypeToBytesDownloaded&&(this.fileTypeToBytesDownloaded=e.fileTypeToBytesDownloaded),null!=e.servingDomain&&(this.servingDomain=e.servingDomain),null!=e.timesToFirstByte&&(this.timesToFirstByte=e.timesToFirstByte),null!=e.downloadTime&&(this.downloadTime=e.downloadTime),null!=e.numLatencyPoints&&(this.numLatencyPoints=e.numLatencyPoints),null!=e.avgTimeToFirstByte&&(this.avgTimeToFirstByte=e.avgTimeToFirstByte),null!=e.percentSingleConnection&&(this.percentSingleConnection=e.percentSingleConnection),null!=e.bytesDownloadedFromSingleConnection&&(this.bytesDownloadedFromSingleConnection=e.bytesDownloadedFromSingleConnection),null!=e.totalSingleStreamBytes&&(this.totalSingleStreamBytes=e.totalSingleStreamBytes),null!=e.totalSingleStreamPlayTime&&(this.totalSingleStreamPlayTime=e.totalSingleStreamPlayTime),null!=e.filetype&&(this.filetype=e.filetype),null!=e.bytesDownloaded&&(this.bytesDownloaded=e.bytesDownloaded),null!=e.timeToFirstByte&&(this.timeToFirstByte=e.timeToFirstByte))},Ooyala.Logging.DownloadStats.prototype={},Ooyala.Logging.DownloadStats.prototype.read=function(e){for(var t=e.readStructBegin();;){t=e.readFieldBegin();var i=t.ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 2:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.servingDomainId=t.value):e.skip(i);break;case 11:if(i==Ooyala.Thrift.Type.MAP){i=0,this.fileTypeToBytesDownloaded={},t=e.readMapBegin(),i=t.size;for(var n=0;i>n;++n)val6=key5=0,t=e.readByte(),key5=t.value,t=e.readI32(),val6=t.value,this.fileTypeToBytesDownloaded[key5]=val6;e.readMapEnd()}else e.skip(i);break;case 15:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.servingDomain=t.value):e.skip(i);break;case 12:if(i==Ooyala.Thrift.Type.LIST){for(i=0,this.timesToFirstByte=[],t=e.readListBegin(),i=t.size,n=0;i>n;++n)t=null,t=e.readI16(),t=t.value,this.timesToFirstByte.push(t);e.readListEnd()}else e.skip(i);break;case 5:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.downloadTime=t.value):e.skip(i);break;case 13:i==Ooyala.Thrift.Type.I16?(t=e.readI16(),this.numLatencyPoints=t.value):e.skip(i);break;case 14:i==Ooyala.Thrift.Type.I16?(t=e.readI16(),this.avgTimeToFirstByte=t.value):e.skip(i);break;case 6:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.percentSingleConnection=t.value):e.skip(i);break;case 7:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.bytesDownloadedFromSingleConnection=t.value):e.skip(i);break;case 8:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.totalSingleStreamBytes=t.value):e.skip(i);break;case 9:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.totalSingleStreamPlayTime=t.value):e.skip(i);break;case 1:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.filetype=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.bytesDownloaded=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.timeToFirstByte=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.DownloadStats.prototype.write=function(e){if(e.writeStructBegin("DownloadStats"),null!=this.servingDomainId&&(e.writeFieldBegin("servingDomainId",Ooyala.Thrift.Type.I32,2),e.writeI32(this.servingDomainId),e.writeFieldEnd()),null!=this.fileTypeToBytesDownloaded){e.writeFieldBegin("fileTypeToBytesDownloaded",Ooyala.Thrift.Type.MAP,11);var t=0;for(key in this.fileTypeToBytesDownloaded)this.fileTypeToBytesDownloaded.hasOwnProperty(key)&&t++;e.writeMapBegin(Ooyala.Thrift.Type.BYTE,Ooyala.Thrift.Type.I32,t);for(var i in this.fileTypeToBytesDownloaded)t=this.fileTypeToBytesDownloaded[i],e.writeByte(i),e.writeI32(t);e.writeMapEnd(),e.writeFieldEnd()}if(null!=this.servingDomain&&(e.writeFieldBegin("servingDomain",Ooyala.Thrift.Type.STRING,15),e.writeString(this.servingDomain),e.writeFieldEnd()),null!=this.timesToFirstByte){for(e.writeFieldBegin("timesToFirstByte",Ooyala.Thrift.Type.LIST,12),e.writeListBegin(Ooyala.Thrift.Type.I16,this.timesToFirstByte.length),i=0;i<this.timesToFirstByte.length;i++)e.writeI16(this.timesToFirstByte[i]);e.writeListEnd(),e.writeFieldEnd()}null!=this.downloadTime&&(e.writeFieldBegin("downloadTime",Ooyala.Thrift.Type.I32,5),e.writeI32(this.downloadTime),e.writeFieldEnd()),null!=this.numLatencyPoints&&(e.writeFieldBegin("numLatencyPoints",Ooyala.Thrift.Type.I16,13),e.writeI16(this.numLatencyPoints),e.writeFieldEnd()),null!=this.avgTimeToFirstByte&&(e.writeFieldBegin("avgTimeToFirstByte",Ooyala.Thrift.Type.I16,14),e.writeI16(this.avgTimeToFirstByte),e.writeFieldEnd()),null!=this.percentSingleConnection&&(e.writeFieldBegin("percentSingleConnection",Ooyala.Thrift.Type.BYTE,6),e.writeByte(this.percentSingleConnection),e.writeFieldEnd()),null!=this.bytesDownloadedFromSingleConnection&&(e.writeFieldBegin("bytesDownloadedFromSingleConnection",Ooyala.Thrift.Type.I32,7),e.writeI32(this.bytesDownloadedFromSingleConnection),e.writeFieldEnd()),null!=this.totalSingleStreamBytes&&(e.writeFieldBegin("totalSingleStreamBytes",Ooyala.Thrift.Type.I32,8),e.writeI32(this.totalSingleStreamBytes),e.writeFieldEnd()),null!=this.totalSingleStreamPlayTime&&(e.writeFieldBegin("totalSingleStreamPlayTime",Ooyala.Thrift.Type.I32,9),e.writeI32(this.totalSingleStreamPlayTime),e.writeFieldEnd()),null!=this.filetype&&(e.writeFieldBegin("filetype",Ooyala.Thrift.Type.BYTE,1),e.writeByte(this.filetype),e.writeFieldEnd()),null!=this.bytesDownloaded&&(e.writeFieldBegin("bytesDownloaded",Ooyala.Thrift.Type.I32,3),e.writeI32(this.bytesDownloaded),e.writeFieldEnd()),null!=this.timeToFirstByte&&(e.writeFieldBegin("timeToFirstByte",Ooyala.Thrift.Type.I32,4),e.writeI32(this.timeToFirstByte),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.ChunkFailoverInfo=function(e){this.servingDomainId=this.reason=0,this.chunkShortUrl="",this.firstForUrl=this.firstForChunk=!1,null!=e&&(null!=e.reason&&(this.reason=e.reason),null!=e.servingDomainId&&(this.servingDomainId=e.servingDomainId),null!=e.chunkShortUrl&&(this.chunkShortUrl=e.chunkShortUrl),null!=e.firstForChunk&&(this.firstForChunk=e.firstForChunk),null!=e.firstForUrl&&(this.firstForUrl=e.firstForUrl))},Ooyala.Logging.ChunkFailoverInfo.prototype={},Ooyala.Logging.ChunkFailoverInfo.prototype.read=function(e){for(var t=e.readStructBegin();;){t=e.readFieldBegin();var i=t.ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.reason=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.servingDomainId=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.chunkShortUrl=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.firstForChunk=t.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.firstForUrl=t.value):e.skip(i);
break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.ChunkFailoverInfo.prototype.write=function(e){e.writeStructBegin("ChunkFailoverInfo"),null!=this.reason&&(e.writeFieldBegin("reason",Ooyala.Thrift.Type.I32,1),e.writeI32(this.reason),e.writeFieldEnd()),null!=this.servingDomainId&&(e.writeFieldBegin("servingDomainId",Ooyala.Thrift.Type.I32,2),e.writeI32(this.servingDomainId),e.writeFieldEnd()),null!=this.chunkShortUrl&&(e.writeFieldBegin("chunkShortUrl",Ooyala.Thrift.Type.STRING,3),e.writeString(this.chunkShortUrl),e.writeFieldEnd()),null!=this.firstForChunk&&(e.writeFieldBegin("firstForChunk",Ooyala.Thrift.Type.BOOL,4),e.writeBool(this.firstForChunk),e.writeFieldEnd()),null!=this.firstForUrl&&(e.writeFieldBegin("firstForUrl",Ooyala.Thrift.Type.BOOL,5),e.writeBool(this.firstForUrl),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.PlayheadStatus=function(e){this.fromSeekTimeMillis=this.lastSeekTimeMillis=this.playheadTimeMillis=0,this.DEPRECATED_firstForVideo=this.DEPRECATED_firstForUser=!1,null!=e&&(null!=e.playheadTimeMillis&&(this.playheadTimeMillis=e.playheadTimeMillis),null!=e.lastSeekTimeMillis&&(this.lastSeekTimeMillis=e.lastSeekTimeMillis),null!=e.fromSeekTimeMillis&&(this.fromSeekTimeMillis=e.fromSeekTimeMillis),null!=e.DEPRECATED_firstForUser&&(this.DEPRECATED_firstForUser=e.DEPRECATED_firstForUser),null!=e.DEPRECATED_firstForVideo&&(this.DEPRECATED_firstForVideo=e.DEPRECATED_firstForVideo))},Ooyala.Logging.PlayheadStatus.prototype={},Ooyala.Logging.PlayheadStatus.prototype.read=function(e){for(var t=e.readStructBegin();;){t=e.readFieldBegin();var i=t.ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.playheadTimeMillis=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.lastSeekTimeMillis=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.fromSeekTimeMillis=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.DEPRECATED_firstForUser=t.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.DEPRECATED_firstForVideo=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.PlayheadStatus.prototype.write=function(e){e.writeStructBegin("PlayheadStatus"),null!=this.playheadTimeMillis&&(e.writeFieldBegin("playheadTimeMillis",Ooyala.Thrift.Type.I32,1),e.writeI32(this.playheadTimeMillis),e.writeFieldEnd()),null!=this.lastSeekTimeMillis&&(e.writeFieldBegin("lastSeekTimeMillis",Ooyala.Thrift.Type.I32,2),e.writeI32(this.lastSeekTimeMillis),e.writeFieldEnd()),null!=this.fromSeekTimeMillis&&(e.writeFieldBegin("fromSeekTimeMillis",Ooyala.Thrift.Type.I32,4),e.writeI32(this.fromSeekTimeMillis),e.writeFieldEnd()),null!=this.DEPRECATED_firstForUser&&(e.writeFieldBegin("DEPRECATED_firstForUser",Ooyala.Thrift.Type.BOOL,3),e.writeBool(this.DEPRECATED_firstForUser),e.writeFieldEnd()),null!=this.DEPRECATED_firstForVideo&&(e.writeFieldBegin("DEPRECATED_firstForVideo",Ooyala.Thrift.Type.BOOL,5),e.writeBool(this.DEPRECATED_firstForVideo),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.CvObjectClickInfo=function(e){this.oid=this.trackId="",this.clickTime=this.mouseY=this.mouseX=0,this.link=this.label="",this.outline=[],null!=e&&(null!=e.trackId&&(this.trackId=e.trackId),null!=e.oid&&(this.oid=e.oid),null!=e.mouseX&&(this.mouseX=e.mouseX),null!=e.mouseY&&(this.mouseY=e.mouseY),null!=e.clickTime&&(this.clickTime=e.clickTime),null!=e.label&&(this.label=e.label),null!=e.link&&(this.link=e.link),null!=e.outline&&(this.outline=e.outline))},Ooyala.Logging.CvObjectClickInfo.prototype={},Ooyala.Logging.CvObjectClickInfo.prototype.read=function(e){for(var t=e.readStructBegin();;){t=e.readFieldBegin();var i=t.ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:if(i==Ooyala.Thrift.Type.STRING){var n=e.readString();this.trackId=n.value}else e.skip(i);break;case 2:i==Ooyala.Thrift.Type.STRING?(n=e.readString(),this.oid=n.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.DOUBLE?(n=e.readDouble(),this.mouseX=n.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.DOUBLE?(n=e.readDouble(),this.mouseY=n.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.DOUBLE?(n=e.readDouble(),this.clickTime=n.value):e.skip(i);break;case 6:i==Ooyala.Thrift.Type.STRING?(n=e.readString(),this.label=n.value):e.skip(i);break;case 7:i==Ooyala.Thrift.Type.STRING?(n=e.readString(),this.link=n.value):e.skip(i);break;case 8:if(i==Ooyala.Thrift.Type.LIST){for(t=0,this.outline=[],t=e.readListBegin().size,i=0;t>i;++i)n=null,n=e.readDouble(),n=n.value,this.outline.push(n);e.readListEnd()}else e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.CvObjectClickInfo.prototype.write=function(e){if(e.writeStructBegin("CvObjectClickInfo"),null!=this.trackId&&(e.writeFieldBegin("trackId",Ooyala.Thrift.Type.STRING,1),e.writeString(this.trackId),e.writeFieldEnd()),null!=this.oid&&(e.writeFieldBegin("oid",Ooyala.Thrift.Type.STRING,2),e.writeString(this.oid),e.writeFieldEnd()),null!=this.mouseX&&(e.writeFieldBegin("mouseX",Ooyala.Thrift.Type.DOUBLE,3),e.writeDouble(this.mouseX),e.writeFieldEnd()),null!=this.mouseY&&(e.writeFieldBegin("mouseY",Ooyala.Thrift.Type.DOUBLE,4),e.writeDouble(this.mouseY),e.writeFieldEnd()),null!=this.clickTime&&(e.writeFieldBegin("clickTime",Ooyala.Thrift.Type.DOUBLE,5),e.writeDouble(this.clickTime),e.writeFieldEnd()),null!=this.label&&(e.writeFieldBegin("label",Ooyala.Thrift.Type.STRING,6),e.writeString(this.label),e.writeFieldEnd()),null!=this.link&&(e.writeFieldBegin("link",Ooyala.Thrift.Type.STRING,7),e.writeString(this.link),e.writeFieldEnd()),null!=this.outline){e.writeFieldBegin("outline",Ooyala.Thrift.Type.LIST,8),e.writeListBegin(Ooyala.Thrift.Type.DOUBLE,this.outline.length);for(var t=0;t<this.outline.length;t++)e.writeDouble(this.outline[t]);e.writeListEnd(),e.writeFieldEnd()}e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.WatchedBuckets=function(e){this.maxPerMille=this.minPerMille=0,null!=e&&(null!=e.minPerMille&&(this.minPerMille=e.minPerMille),null!=e.maxPerMille&&(this.maxPerMille=e.maxPerMille))},Ooyala.Logging.WatchedBuckets.prototype={},Ooyala.Logging.WatchedBuckets.prototype.read=function(e){for(var t=e.readStructBegin();;){t=e.readFieldBegin();var i=t.ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.I16?(t=e.readI16(),this.minPerMille=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.I16?(t=e.readI16(),this.maxPerMille=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.WatchedBuckets.prototype.write=function(e){e.writeStructBegin("WatchedBuckets"),null!=this.minPerMille&&(e.writeFieldBegin("minPerMille",Ooyala.Thrift.Type.I16,1),e.writeI16(this.minPerMille),e.writeFieldEnd()),null!=this.maxPerMille&&(e.writeFieldBegin("maxPerMille",Ooyala.Thrift.Type.I16,2),e.writeI16(this.maxPerMille),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.BitratePlayed=function(e){this.userBandwidthInKbps=this.audioKbps=this.videoFormat=this.videoKbps=this.timePlayed=0,null!=e&&(null!=e.timePlayed&&(this.timePlayed=e.timePlayed),null!=e.videoKbps&&(this.videoKbps=e.videoKbps),null!=e.videoFormat&&(this.videoFormat=e.videoFormat),null!=e.audioKbps&&(this.audioKbps=e.audioKbps),null!=e.userBandwidthInKbps&&(this.userBandwidthInKbps=e.userBandwidthInKbps))},Ooyala.Logging.BitratePlayed.prototype={},Ooyala.Logging.BitratePlayed.prototype.read=function(e){for(var t=e.readStructBegin();;){t=e.readFieldBegin();var i=t.ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.timePlayed=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.videoKbps=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.videoFormat=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.audioKbps=t.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.userBandwidthInKbps=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.BitratePlayed.prototype.write=function(e){e.writeStructBegin("BitratePlayed"),null!=this.timePlayed&&(e.writeFieldBegin("timePlayed",Ooyala.Thrift.Type.I32,1),e.writeI32(this.timePlayed),e.writeFieldEnd()),null!=this.videoKbps&&(e.writeFieldBegin("videoKbps",Ooyala.Thrift.Type.I32,2),e.writeI32(this.videoKbps),e.writeFieldEnd()),null!=this.videoFormat&&(e.writeFieldBegin("videoFormat",Ooyala.Thrift.Type.I32,3),e.writeI32(this.videoFormat),e.writeFieldEnd()),null!=this.audioKbps&&(e.writeFieldBegin("audioKbps",Ooyala.Thrift.Type.I32,4),e.writeI32(this.audioKbps),e.writeFieldEnd()),null!=this.userBandwidthInKbps&&(e.writeFieldBegin("userBandwidthInKbps",Ooyala.Thrift.Type.I32,5),e.writeI32(this.userBandwidthInKbps),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.BitrateTransition=function(e){this.transitionTimeInMillis=this.newAudioKbps=this.oldAudioKbps=this.newVideoKbps=this.oldVideoKbps=0,null!=e&&(null!=e.oldVideoKbps&&(this.oldVideoKbps=e.oldVideoKbps),null!=e.newVideoKbps&&(this.newVideoKbps=e.newVideoKbps),null!=e.oldAudioKbps&&(this.oldAudioKbps=e.oldAudioKbps),null!=e.newAudioKbps&&(this.newAudioKbps=e.newAudioKbps),null!=e.transitionTimeInMillis&&(this.transitionTimeInMillis=e.transitionTimeInMillis))},Ooyala.Logging.BitrateTransition.prototype={},Ooyala.Logging.BitrateTransition.prototype.read=function(e){for(var t=e.readStructBegin();;){t=e.readFieldBegin();var i=t.ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.oldVideoKbps=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.newVideoKbps=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.oldAudioKbps=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.newAudioKbps=t.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.transitionTimeInMillis=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.BitrateTransition.prototype.write=function(e){e.writeStructBegin("BitrateTransition"),null!=this.oldVideoKbps&&(e.writeFieldBegin("oldVideoKbps",Ooyala.Thrift.Type.I32,1),e.writeI32(this.oldVideoKbps),e.writeFieldEnd()),null!=this.newVideoKbps&&(e.writeFieldBegin("newVideoKbps",Ooyala.Thrift.Type.I32,2),e.writeI32(this.newVideoKbps),e.writeFieldEnd()),null!=this.oldAudioKbps&&(e.writeFieldBegin("oldAudioKbps",Ooyala.Thrift.Type.I32,3),e.writeI32(this.oldAudioKbps),e.writeFieldEnd()),null!=this.newAudioKbps&&(e.writeFieldBegin("newAudioKbps",Ooyala.Thrift.Type.I32,4),e.writeI32(this.newAudioKbps),e.writeFieldEnd()),null!=this.transitionTimeInMillis&&(e.writeFieldBegin("transitionTimeInMillis",Ooyala.Thrift.Type.I32,5),e.writeI32(this.transitionTimeInMillis),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.Sharing=function(e){this.urlCopy=this.twitter=this.facebook=this.stumbleUpon=this.digg=this.embedCodeCopy=this.email=!1,null!=e&&(null!=e.email&&(this.email=e.email),null!=e.embedCodeCopy&&(this.embedCodeCopy=e.embedCodeCopy),null!=e.digg&&(this.digg=e.digg),null!=e.stumbleUpon&&(this.stumbleUpon=e.stumbleUpon),null!=e.facebook&&(this.facebook=e.facebook),null!=e.twitter&&(this.twitter=e.twitter),null!=e.urlCopy&&(this.urlCopy=e.urlCopy))},Ooyala.Logging.Sharing.prototype={},Ooyala.Logging.Sharing.prototype.read=function(e){for(var t=e.readStructBegin();;){t=e.readFieldBegin();var i=t.ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.email=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.embedCodeCopy=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.digg=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.stumbleUpon=t.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.facebook=t.value):e.skip(i);break;case 6:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.twitter=t.value):e.skip(i);break;case 7:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.urlCopy=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.Sharing.prototype.write=function(e){e.writeStructBegin("Sharing"),null!=this.email&&(e.writeFieldBegin("email",Ooyala.Thrift.Type.BOOL,1),e.writeBool(this.email),e.writeFieldEnd()),null!=this.embedCodeCopy&&(e.writeFieldBegin("embedCodeCopy",Ooyala.Thrift.Type.BOOL,2),e.writeBool(this.embedCodeCopy),e.writeFieldEnd()),null!=this.digg&&(e.writeFieldBegin("digg",Ooyala.Thrift.Type.BOOL,3),e.writeBool(this.digg),e.writeFieldEnd()),null!=this.stumbleUpon&&(e.writeFieldBegin("stumbleUpon",Ooyala.Thrift.Type.BOOL,4),e.writeBool(this.stumbleUpon),e.writeFieldEnd()),null!=this.facebook&&(e.writeFieldBegin("facebook",Ooyala.Thrift.Type.BOOL,5),e.writeBool(this.facebook),e.writeFieldEnd()),null!=this.twitter&&(e.writeFieldBegin("twitter",Ooyala.Thrift.Type.BOOL,6),e.writeBool(this.twitter),e.writeFieldEnd()),null!=this.urlCopy&&(e.writeFieldBegin("urlCopy",Ooyala.Thrift.Type.BOOL,7),e.writeBool(this.urlCopy),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.PersonalizationBucketInfo=function(e){this.bucketInfo="",null!=e&&null!=e.bucketInfo&&(this.bucketInfo=e.bucketInfo)},Ooyala.Logging.PersonalizationBucketInfo.prototype={},Ooyala.Logging.PersonalizationBucketInfo.prototype.read=function(e){for(var t=e.readStructBegin();;){t=e.readFieldBegin();var i=t.ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.STRING?this.bucketInfo=e.readString().value:e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.PersonalizationBucketInfo.prototype.write=function(e){e.writeStructBegin("PersonalizationBucketInfo"),null!=this.bucketInfo&&(e.writeFieldBegin("bucketInfo",Ooyala.Thrift.Type.STRING,1),e.writeString(this.bucketInfo),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.PayPerView=function(e){this.mobilePrice=this.price=this.gateway=this.checkoutType=0,this.currency="",this.playheadTimeInMillis=this.previewWindowInMillis=0,this.error="",null!=e&&(null!=e.checkoutType&&(this.checkoutType=e.checkoutType),null!=e.gateway&&(this.gateway=e.gateway),null!=e.price&&(this.price=e.price),null!=e.mobilePrice&&(this.mobilePrice=e.mobilePrice),null!=e.currency&&(this.currency=e.currency),null!=e.previewWindowInMillis&&(this.previewWindowInMillis=e.previewWindowInMillis),null!=e.playheadTimeInMillis&&(this.playheadTimeInMillis=e.playheadTimeInMillis),null!=e.error&&(this.error=e.error))},Ooyala.Logging.PayPerView.prototype={},Ooyala.Logging.PayPerView.prototype.read=function(e){for(var t=e.readStructBegin();;){t=e.readFieldBegin();var i=t.ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.checkoutType=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.gateway=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.DOUBLE?(t=e.readDouble(),this.price=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.DOUBLE?(t=e.readDouble(),this.mobilePrice=t.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.currency=t.value):e.skip(i);break;case 6:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.previewWindowInMillis=t.value):e.skip(i);break;case 7:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.playheadTimeInMillis=t.value):e.skip(i);break;case 8:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.error=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.PayPerView.prototype.write=function(e){e.writeStructBegin("PayPerView"),null!=this.checkoutType&&(e.writeFieldBegin("checkoutType",Ooyala.Thrift.Type.BYTE,1),e.writeByte(this.checkoutType),e.writeFieldEnd()),null!=this.gateway&&(e.writeFieldBegin("gateway",Ooyala.Thrift.Type.BYTE,2),e.writeByte(this.gateway),e.writeFieldEnd()),null!=this.price&&(e.writeFieldBegin("price",Ooyala.Thrift.Type.DOUBLE,3),e.writeDouble(this.price),e.writeFieldEnd()),null!=this.mobilePrice&&(e.writeFieldBegin("mobilePrice",Ooyala.Thrift.Type.DOUBLE,4),e.writeDouble(this.mobilePrice),e.writeFieldEnd()),null!=this.currency&&(e.writeFieldBegin("currency",Ooyala.Thrift.Type.STRING,5),e.writeString(this.currency),e.writeFieldEnd()),null!=this.previewWindowInMillis&&(e.writeFieldBegin("previewWindowInMillis",Ooyala.Thrift.Type.I32,6),e.writeI32(this.previewWindowInMillis),e.writeFieldEnd()),null!=this.playheadTimeInMillis&&(e.writeFieldBegin("playheadTimeInMillis",Ooyala.Thrift.Type.I32,7),e.writeI32(this.playheadTimeInMillis),e.writeFieldEnd()),null!=this.error&&(e.writeFieldBegin("error",Ooyala.Thrift.Type.STRING,8),e.writeString(this.error),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.SasAuthorize=function(e){this.authorized=!1,this.latency=this.requestTime=0,this.messages=this.codes="",this.isAuthorizedInPlayerXML=!1,null!=e&&(null!=e.authorized&&(this.authorized=e.authorized),null!=e.requestTime&&(this.requestTime=e.requestTime),null!=e.latency&&(this.latency=e.latency),null!=e.codes&&(this.codes=e.codes),null!=e.messages&&(this.messages=e.messages),null!=e.isAuthorizedInPlayerXML&&(this.isAuthorizedInPlayerXML=e.isAuthorizedInPlayerXML))},Ooyala.Logging.SasAuthorize.prototype={},Ooyala.Logging.SasAuthorize.prototype.read=function(e){for(var t=e.readStructBegin();;){t=e.readFieldBegin();var i=t.ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.authorized=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.requestTime=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.latency=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.codes=t.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.messages=t.value):e.skip(i);break;case 6:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.isAuthorizedInPlayerXML=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.SasAuthorize.prototype.write=function(e){e.writeStructBegin("SasAuthorize"),null!=this.authorized&&(e.writeFieldBegin("authorized",Ooyala.Thrift.Type.BOOL,1),e.writeBool(this.authorized),e.writeFieldEnd()),null!=this.requestTime&&(e.writeFieldBegin("requestTime",Ooyala.Thrift.Type.I32,2),e.writeI32(this.requestTime),e.writeFieldEnd()),null!=this.latency&&(e.writeFieldBegin("latency",Ooyala.Thrift.Type.I32,3),e.writeI32(this.latency),e.writeFieldEnd()),null!=this.codes&&(e.writeFieldBegin("codes",Ooyala.Thrift.Type.STRING,4),e.writeString(this.codes),e.writeFieldEnd()),null!=this.messages&&(e.writeFieldBegin("messages",Ooyala.Thrift.Type.STRING,5),e.writeString(this.messages),e.writeFieldEnd()),null!=this.isAuthorizedInPlayerXML&&(e.writeFieldBegin("isAuthorizedInPlayerXML",Ooyala.Thrift.Type.BOOL,6),e.writeBool(this.isAuthorizedInPlayerXML),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.SasAuthorizeV2=function(e){this.rootEmbedCode=this.requestId="",this.clientSideLatencyForLastRequest=this.clientSideLatency=this.serverSideLatency=this.responseCode=0,this.continent=this.country="",null!=e&&(null!=e.requestId&&(this.requestId=e.requestId),null!=e.rootEmbedCode&&(this.rootEmbedCode=e.rootEmbedCode),null!=e.responseCode&&(this.responseCode=e.responseCode),null!=e.serverSideLatency&&(this.serverSideLatency=e.serverSideLatency),null!=e.clientSideLatency&&(this.clientSideLatency=e.clientSideLatency),null!=e.clientSideLatencyForLastRequest&&(this.clientSideLatencyForLastRequest=e.clientSideLatencyForLastRequest),null!=e.country&&(this.country=e.country),null!=e.continent&&(this.continent=e.continent))},Ooyala.Logging.SasAuthorizeV2.prototype={},Ooyala.Logging.SasAuthorizeV2.prototype.read=function(e){for(var t=e.readStructBegin();;){t=e.readFieldBegin();var i=t.ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.requestId=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.rootEmbedCode=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.responseCode=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.DOUBLE?(t=e.readDouble(),this.serverSideLatency=t.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.DOUBLE?(t=e.readDouble(),this.clientSideLatency=t.value):e.skip(i);break;case 6:i==Ooyala.Thrift.Type.DOUBLE?(t=e.readDouble(),this.clientSideLatencyForLastRequest=t.value):e.skip(i);break;case 7:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.country=t.value):e.skip(i);break;case 8:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.continent=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.SasAuthorizeV2.prototype.write=function(e){e.writeStructBegin("SasAuthorizeV2"),null!=this.requestId&&(e.writeFieldBegin("requestId",Ooyala.Thrift.Type.STRING,1),e.writeString(this.requestId),e.writeFieldEnd()),null!=this.rootEmbedCode&&(e.writeFieldBegin("rootEmbedCode",Ooyala.Thrift.Type.STRING,2),e.writeString(this.rootEmbedCode),e.writeFieldEnd()),null!=this.responseCode&&(e.writeFieldBegin("responseCode",Ooyala.Thrift.Type.I32,3),e.writeI32(this.responseCode),e.writeFieldEnd()),null!=this.serverSideLatency&&(e.writeFieldBegin("serverSideLatency",Ooyala.Thrift.Type.DOUBLE,4),e.writeDouble(this.serverSideLatency),e.writeFieldEnd()),null!=this.clientSideLatency&&(e.writeFieldBegin("clientSideLatency",Ooyala.Thrift.Type.DOUBLE,5),e.writeDouble(this.clientSideLatency),e.writeFieldEnd()),null!=this.clientSideLatencyForLastRequest&&(e.writeFieldBegin("clientSideLatencyForLastRequest",Ooyala.Thrift.Type.DOUBLE,6),e.writeDouble(this.clientSideLatencyForLastRequest),e.writeFieldEnd()),null!=this.country&&(e.writeFieldBegin("country",Ooyala.Thrift.Type.STRING,7),e.writeString(this.country),e.writeFieldEnd()),null!=this.continent&&(e.writeFieldBegin("continent",Ooyala.Thrift.Type.STRING,8),e.writeString(this.continent),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.ReportingIdDescriptor=function(e){this.adSetId=this.syndicationDestinationIdIndex=this.parentContentIdIndex=this.providerReportingIdIndex=this.reportingIdType=0,null!=e&&(null!=e.reportingIdType&&(this.reportingIdType=e.reportingIdType),null!=e.providerReportingIdIndex&&(this.providerReportingIdIndex=e.providerReportingIdIndex),null!=e.parentContentIdIndex&&(this.parentContentIdIndex=e.parentContentIdIndex),null!=e.syndicationDestinationIdIndex&&(this.syndicationDestinationIdIndex=e.syndicationDestinationIdIndex),null!=e.adSetId&&(this.adSetId=e.adSetId))},Ooyala.Logging.ReportingIdDescriptor.prototype={},Ooyala.Logging.ReportingIdDescriptor.prototype.read=function(e){for(var t=e.readStructBegin();;){t=e.readFieldBegin();var i=t.ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.reportingIdType=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.providerReportingIdIndex=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.parentContentIdIndex=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.syndicationDestinationIdIndex=t.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.adSetId=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.ReportingIdDescriptor.prototype.write=function(e){e.writeStructBegin("ReportingIdDescriptor"),null!=this.reportingIdType&&(e.writeFieldBegin("reportingIdType",Ooyala.Thrift.Type.BYTE,1),e.writeByte(this.reportingIdType),e.writeFieldEnd()),null!=this.providerReportingIdIndex&&(e.writeFieldBegin("providerReportingIdIndex",Ooyala.Thrift.Type.BYTE,2),e.writeByte(this.providerReportingIdIndex),e.writeFieldEnd()),null!=this.parentContentIdIndex&&(e.writeFieldBegin("parentContentIdIndex",Ooyala.Thrift.Type.BYTE,3),e.writeByte(this.parentContentIdIndex),e.writeFieldEnd()),null!=this.syndicationDestinationIdIndex&&(e.writeFieldBegin("syndicationDestinationIdIndex",Ooyala.Thrift.Type.BYTE,4),e.writeByte(this.syndicationDestinationIdIndex),e.writeFieldEnd()),null!=this.adSetId&&(e.writeFieldBegin("adSetId",Ooyala.Thrift.Type.I32,5),e.writeI32(this.adSetId),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.PlayerEvent=function(e){this.reportingIdIndex=0,this.reportingIdIndices=[],this.eventType=0,this.param2=this.param1="",this.download=new Ooyala.Logging.DownloadStats,this.chunkFailover=new Ooyala.Logging.ChunkFailoverInfo,this.playhead=new Ooyala.Logging.PlayheadStatus,this.cvinfo=new Ooyala.Logging.CvObjectClickInfo,this.DEPRECATED_adClick=new Ooyala.AdsLogging.AdClick,this.buckets=new Ooyala.Logging.WatchedBuckets,this.timePlayed=0,this.bitratePlayed=new Ooyala.Logging.BitratePlayed,this.adTracking=new Ooyala.AdsLogging.AdTracking,this.metric=new Ooyala.MetricsLogging.Metric,this.lastEventTime=0,this.firstForVideo=this.firstForRootContent=this.firstForPlayer=!1,this.bufferType=0,this.bitrateTransition=new Ooyala.Logging.BitrateTransition,this.bitratesAvailable=[],this.sharing=new Ooyala.Logging.Sharing,this.payPerView=new Ooyala.Logging.PayPerView,this.sasAuthorize=new Ooyala.Logging.SasAuthorize,this.sasAuthorizeV2=new Ooyala.Logging.SasAuthorizeV2,this.autoplay=!1,this.customEvent=new Ooyala.CustomEventsLogging.CustomEvent,this.personalizationBucketInfo=new Ooyala.Logging.PersonalizationBucketInfo,this.reportingIdIndexToPlayheadPositionMillis={},this.seqnum=this.playthroughPercent=0,null!=e&&(null!=e.reportingIdIndex&&(this.reportingIdIndex=e.reportingIdIndex),null!=e.reportingIdIndices&&(this.reportingIdIndices=e.reportingIdIndices),null!=e.eventType&&(this.eventType=e.eventType),null!=e.param1&&(this.param1=e.param1),null!=e.param2&&(this.param2=e.param2),null!=e.download&&(this.download=e.download),null!=e.chunkFailover&&(this.chunkFailover=e.chunkFailover),null!=e.playhead&&(this.playhead=e.playhead),null!=e.cvinfo&&(this.cvinfo=e.cvinfo),null!=e.DEPRECATED_adClick&&(this.DEPRECATED_adClick=e.DEPRECATED_adClick),null!=e.buckets&&(this.buckets=e.buckets),null!=e.timePlayed&&(this.timePlayed=e.timePlayed),null!=e.bitratePlayed&&(this.bitratePlayed=e.bitratePlayed),null!=e.adTracking&&(this.adTracking=e.adTracking),null!=e.metric&&(this.metric=e.metric),null!=e.lastEventTime&&(this.lastEventTime=e.lastEventTime),null!=e.firstForPlayer&&(this.firstForPlayer=e.firstForPlayer),null!=e.firstForRootContent&&(this.firstForRootContent=e.firstForRootContent),null!=e.firstForVideo&&(this.firstForVideo=e.firstForVideo),null!=e.bufferType&&(this.bufferType=e.bufferType),null!=e.bitrateTransition&&(this.bitrateTransition=e.bitrateTransition),null!=e.bitratesAvailable&&(this.bitratesAvailable=e.bitratesAvailable),null!=e.sharing&&(this.sharing=e.sharing),null!=e.payPerView&&(this.payPerView=e.payPerView),null!=e.sasAuthorize&&(this.sasAuthorize=e.sasAuthorize),null!=e.sasAuthorizeV2&&(this.sasAuthorizeV2=e.sasAuthorizeV2),null!=e.autoplay&&(this.autoplay=e.autoplay),null!=e.customEvent&&(this.customEvent=e.customEvent),null!=e.personalizationBucketInfo&&(this.personalizationBucketInfo=e.personalizationBucketInfo),null!=e.reportingIdIndexToPlayheadPositionMillis&&(this.reportingIdIndexToPlayheadPositionMillis=e.reportingIdIndexToPlayheadPositionMillis),null!=e.playthroughPercent&&(this.playthroughPercent=e.playthroughPercent),null!=e.seqnum&&(this.seqnum=e.seqnum))},Ooyala.Logging.PlayerEvent.prototype={},Ooyala.Logging.PlayerEvent.prototype.read=function(e){for(var t=e.readStructBegin();;){t=e.readFieldBegin();var i=t.ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.reportingIdIndex=t.value):e.skip(i);break;case 11:if(i==Ooyala.Thrift.Type.LIST){i=0,this.reportingIdIndices=[],t=e.readListBegin(),i=t.size;for(var n=0;i>n;++n)t=null,t=e.readByte(),t=t.value,this.reportingIdIndices.push(t);e.readListEnd()}else e.skip(i);break;case 2:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.eventType=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.param1=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.param2=t.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.STRUCT?(this.download=new Ooyala.Logging.DownloadStats,this.download.read(e)):e.skip(i);break;case 7:i==Ooyala.Thrift.Type.STRUCT?(this.chunkFailover=new Ooyala.Logging.ChunkFailoverInfo,this.chunkFailover.read(e)):e.skip(i);break;case 8:i==Ooyala.Thrift.Type.STRUCT?(this.playhead=new Ooyala.Logging.PlayheadStatus,this.playhead.read(e)):e.skip(i);break;case 9:i==Ooyala.Thrift.Type.STRUCT?(this.cvinfo=new Ooyala.Logging.CvObjectClickInfo,this.cvinfo.read(e)):e.skip(i);break;case 10:i==Ooyala.Thrift.Type.STRUCT?(this.DEPRECATED_adClick=new Ooyala.AdsLogging.AdClick,this.DEPRECATED_adClick.read(e)):e.skip(i);break;case 12:i==Ooyala.Thrift.Type.STRUCT?(this.buckets=new Ooyala.Logging.WatchedBuckets,this.buckets.read(e)):e.skip(i);break;case 13:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.timePlayed=t.value):e.skip(i);break;case 14:i==Ooyala.Thrift.Type.STRUCT?(this.bitratePlayed=new Ooyala.Logging.BitratePlayed,this.bitratePlayed.read(e)):e.skip(i);break;case 15:i==Ooyala.Thrift.Type.STRUCT?(this.adTracking=new Ooyala.AdsLogging.AdTracking,this.adTracking.read(e)):e.skip(i);break;case 16:i==Ooyala.Thrift.Type.STRUCT?(this.metric=new Ooyala.MetricsLogging.Metric,this.metric.read(e)):e.skip(i);break;case 6:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.lastEventTime=t.value):e.skip(i);break;case 17:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.firstForPlayer=t.value):e.skip(i);break;case 18:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.firstForRootContent=t.value):e.skip(i);break;case 19:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.firstForVideo=t.value):e.skip(i);break;case 20:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.bufferType=t.value):e.skip(i);break;case 21:i==Ooyala.Thrift.Type.STRUCT?(this.bitrateTransition=new Ooyala.Logging.BitrateTransition,this.bitrateTransition.read(e)):e.skip(i);break;case 22:if(i==Ooyala.Thrift.Type.LIST){for(i=0,this.bitratesAvailable=[],t=e.readListBegin(),i=t.size,n=0;i>n;++n)t=null,t=e.readI16(),t=t.value,this.bitratesAvailable.push(t);e.readListEnd()}else e.skip(i);break;case 23:i==Ooyala.Thrift.Type.STRUCT?(this.sharing=new Ooyala.Logging.Sharing,this.sharing.read(e)):e.skip(i);break;case 24:i==Ooyala.Thrift.Type.STRUCT?(this.payPerView=new Ooyala.Logging.PayPerView,this.payPerView.read(e)):e.skip(i);break;case 25:i==Ooyala.Thrift.Type.STRUCT?(this.sasAuthorize=new Ooyala.Logging.SasAuthorize,this.sasAuthorize.read(e)):e.skip(i);break;case 26:i==Ooyala.Thrift.Type.STRUCT?(this.sasAuthorizeV2=new Ooyala.Logging.SasAuthorizeV2,this.sasAuthorizeV2.read(e)):e.skip(i);break;case 28:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.autoplay=t.value):e.skip(i);break;case 29:i==Ooyala.Thrift.Type.STRUCT?(this.customEvent=new Ooyala.CustomEventsLogging.CustomEvent,this.customEvent.read(e)):e.skip(i);break;case 30:i==Ooyala.Thrift.Type.STRUCT?(this.personalizationBucketInfo=new Ooyala.Logging.PersonalizationBucketInfo,this.personalizationBucketInfo.read(e)):e.skip(i);break;case 31:if(i==Ooyala.Thrift.Type.MAP){for(i=0,this.reportingIdIndexToPlayheadPositionMillis={},t=e.readMapBegin(),i=t.size,n=0;i>n;++n)val43=key42=0,t=e.readByte(),key42=t.value,t=e.readI32(),val43=t.value,this.reportingIdIndexToPlayheadPositionMillis[key42]=val43;e.readMapEnd()}else e.skip(i);break;case 32:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.playthroughPercent=t.value):e.skip(i);break;case 33:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.seqnum=t.value):e.skip(i);
break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.PlayerEvent.prototype.write=function(e){if(e.writeStructBegin("PlayerEvent"),null!=this.reportingIdIndex&&(e.writeFieldBegin("reportingIdIndex",Ooyala.Thrift.Type.BYTE,1),e.writeByte(this.reportingIdIndex),e.writeFieldEnd()),null!=this.reportingIdIndices){e.writeFieldBegin("reportingIdIndices",Ooyala.Thrift.Type.LIST,11),e.writeListBegin(Ooyala.Thrift.Type.BYTE,this.reportingIdIndices.length);for(var t=0;t<this.reportingIdIndices.length;t++)e.writeByte(this.reportingIdIndices[t]);e.writeListEnd(),e.writeFieldEnd()}if(null!=this.eventType&&(e.writeFieldBegin("eventType",Ooyala.Thrift.Type.BYTE,2),e.writeByte(this.eventType),e.writeFieldEnd()),null!=this.param1&&(e.writeFieldBegin("param1",Ooyala.Thrift.Type.STRING,3),e.writeString(this.param1),e.writeFieldEnd()),null!=this.param2&&(e.writeFieldBegin("param2",Ooyala.Thrift.Type.STRING,4),e.writeString(this.param2),e.writeFieldEnd()),null!=this.download&&(e.writeFieldBegin("download",Ooyala.Thrift.Type.STRUCT,5),this.download.write(e),e.writeFieldEnd()),null!=this.chunkFailover&&(e.writeFieldBegin("chunkFailover",Ooyala.Thrift.Type.STRUCT,7),this.chunkFailover.write(e),e.writeFieldEnd()),null!=this.playhead&&(e.writeFieldBegin("playhead",Ooyala.Thrift.Type.STRUCT,8),this.playhead.write(e),e.writeFieldEnd()),null!=this.cvinfo&&(e.writeFieldBegin("cvinfo",Ooyala.Thrift.Type.STRUCT,9),this.cvinfo.write(e),e.writeFieldEnd()),null!=this.DEPRECATED_adClick&&(e.writeFieldBegin("DEPRECATED_adClick",Ooyala.Thrift.Type.STRUCT,10),this.DEPRECATED_adClick.write(e),e.writeFieldEnd()),null!=this.buckets&&(e.writeFieldBegin("buckets",Ooyala.Thrift.Type.STRUCT,12),this.buckets.write(e),e.writeFieldEnd()),null!=this.timePlayed&&(e.writeFieldBegin("timePlayed",Ooyala.Thrift.Type.I32,13),e.writeI32(this.timePlayed),e.writeFieldEnd()),null!=this.bitratePlayed&&(e.writeFieldBegin("bitratePlayed",Ooyala.Thrift.Type.STRUCT,14),this.bitratePlayed.write(e),e.writeFieldEnd()),null!=this.adTracking&&(e.writeFieldBegin("adTracking",Ooyala.Thrift.Type.STRUCT,15),this.adTracking.write(e),e.writeFieldEnd()),null!=this.metric&&(e.writeFieldBegin("metric",Ooyala.Thrift.Type.STRUCT,16),this.metric.write(e),e.writeFieldEnd()),null!=this.lastEventTime&&(e.writeFieldBegin("lastEventTime",Ooyala.Thrift.Type.I32,6),e.writeI32(this.lastEventTime),e.writeFieldEnd()),null!=this.firstForPlayer&&(e.writeFieldBegin("firstForPlayer",Ooyala.Thrift.Type.BOOL,17),e.writeBool(this.firstForPlayer),e.writeFieldEnd()),null!=this.firstForRootContent&&(e.writeFieldBegin("firstForRootContent",Ooyala.Thrift.Type.BOOL,18),e.writeBool(this.firstForRootContent),e.writeFieldEnd()),null!=this.firstForVideo&&(e.writeFieldBegin("firstForVideo",Ooyala.Thrift.Type.BOOL,19),e.writeBool(this.firstForVideo),e.writeFieldEnd()),null!=this.bufferType&&(e.writeFieldBegin("bufferType",Ooyala.Thrift.Type.BYTE,20),e.writeByte(this.bufferType),e.writeFieldEnd()),null!=this.bitrateTransition&&(e.writeFieldBegin("bitrateTransition",Ooyala.Thrift.Type.STRUCT,21),this.bitrateTransition.write(e),e.writeFieldEnd()),null!=this.bitratesAvailable){for(e.writeFieldBegin("bitratesAvailable",Ooyala.Thrift.Type.LIST,22),e.writeListBegin(Ooyala.Thrift.Type.I16,this.bitratesAvailable.length),t=0;t<this.bitratesAvailable.length;t++)e.writeI16(this.bitratesAvailable[t]);e.writeListEnd(),e.writeFieldEnd()}if(null!=this.sharing&&(e.writeFieldBegin("sharing",Ooyala.Thrift.Type.STRUCT,23),this.sharing.write(e),e.writeFieldEnd()),null!=this.payPerView&&(e.writeFieldBegin("payPerView",Ooyala.Thrift.Type.STRUCT,24),this.payPerView.write(e),e.writeFieldEnd()),null!=this.sasAuthorize&&(e.writeFieldBegin("sasAuthorize",Ooyala.Thrift.Type.STRUCT,25),this.sasAuthorize.write(e),e.writeFieldEnd()),null!=this.sasAuthorizeV2&&(e.writeFieldBegin("sasAuthorizeV2",Ooyala.Thrift.Type.STRUCT,26),this.sasAuthorizeV2.write(e),e.writeFieldEnd()),null!=this.autoplay&&(e.writeFieldBegin("autoplay",Ooyala.Thrift.Type.BOOL,28),e.writeBool(this.autoplay),e.writeFieldEnd()),null!=this.customEvent&&(e.writeFieldBegin("customEvent",Ooyala.Thrift.Type.STRUCT,29),this.customEvent.write(e),e.writeFieldEnd()),null!=this.personalizationBucketInfo&&(e.writeFieldBegin("personalizationBucketInfo",Ooyala.Thrift.Type.STRUCT,30),this.personalizationBucketInfo.write(e),e.writeFieldEnd()),null!=this.reportingIdIndexToPlayheadPositionMillis){e.writeFieldBegin("reportingIdIndexToPlayheadPositionMillis",Ooyala.Thrift.Type.MAP,31),t=0;for(key in this.reportingIdIndexToPlayheadPositionMillis)this.reportingIdIndexToPlayheadPositionMillis.hasOwnProperty(key)&&t++;e.writeMapBegin(Ooyala.Thrift.Type.BYTE,Ooyala.Thrift.Type.I32,t);for(var i in this.reportingIdIndexToPlayheadPositionMillis)t=this.reportingIdIndexToPlayheadPositionMillis[i],e.writeByte(i),e.writeI32(t);e.writeMapEnd(),e.writeFieldEnd()}null!=this.playthroughPercent&&(e.writeFieldBegin("playthroughPercent",Ooyala.Thrift.Type.I32,32),e.writeI32(this.playthroughPercent),e.writeFieldEnd()),null!=this.seqnum&&(e.writeFieldBegin("seqnum",Ooyala.Thrift.Type.I32,33),e.writeI32(this.seqnum),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.User=function(e){this.city=this.county=this.region=this.country="",this.lon=this.lat=0,this.clientIP="",this.source=this.pmsaCode=this.dmaCode=0,this.cookie="",null!=e&&(null!=e.country&&(this.country=e.country),null!=e.region&&(this.region=e.region),null!=e.county&&(this.county=e.county),null!=e.city&&(this.city=e.city),null!=e.lat&&(this.lat=e.lat),null!=e.lon&&(this.lon=e.lon),null!=e.clientIP&&(this.clientIP=e.clientIP),null!=e.dmaCode&&(this.dmaCode=e.dmaCode),null!=e.pmsaCode&&(this.pmsaCode=e.pmsaCode),null!=e.source&&(this.source=e.source),null!=e.cookie&&(this.cookie=e.cookie))},Ooyala.Logging.User.prototype={},Ooyala.Logging.User.prototype.read=function(e){for(var t=e.readStructBegin();;){t=e.readFieldBegin();var i=t.ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.country=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.region=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.county=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.city=t.value):e.skip(i);break;case 6:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.lat=t.value):e.skip(i);break;case 7:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.lon=t.value):e.skip(i);break;case 8:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.clientIP=t.value):e.skip(i);break;case 9:i==Ooyala.Thrift.Type.I16?(t=e.readI16(),this.dmaCode=t.value):e.skip(i);break;case 10:i==Ooyala.Thrift.Type.I16?(t=e.readI16(),this.pmsaCode=t.value):e.skip(i);break;case 11:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.source=t.value):e.skip(i);break;case 12:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.cookie=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.User.prototype.write=function(e){e.writeStructBegin("User"),null!=this.country&&(e.writeFieldBegin("country",Ooyala.Thrift.Type.STRING,1),e.writeString(this.country),e.writeFieldEnd()),null!=this.region&&(e.writeFieldBegin("region",Ooyala.Thrift.Type.STRING,2),e.writeString(this.region),e.writeFieldEnd()),null!=this.county&&(e.writeFieldBegin("county",Ooyala.Thrift.Type.STRING,3),e.writeString(this.county),e.writeFieldEnd()),null!=this.city&&(e.writeFieldBegin("city",Ooyala.Thrift.Type.STRING,4),e.writeString(this.city),e.writeFieldEnd()),null!=this.lat&&(e.writeFieldBegin("lat",Ooyala.Thrift.Type.I32,6),e.writeI32(this.lat),e.writeFieldEnd()),null!=this.lon&&(e.writeFieldBegin("lon",Ooyala.Thrift.Type.I32,7),e.writeI32(this.lon),e.writeFieldEnd()),null!=this.clientIP&&(e.writeFieldBegin("clientIP",Ooyala.Thrift.Type.STRING,8),e.writeString(this.clientIP),e.writeFieldEnd()),null!=this.dmaCode&&(e.writeFieldBegin("dmaCode",Ooyala.Thrift.Type.I16,9),e.writeI16(this.dmaCode),e.writeFieldEnd()),null!=this.pmsaCode&&(e.writeFieldBegin("pmsaCode",Ooyala.Thrift.Type.I16,10),e.writeI16(this.pmsaCode),e.writeFieldEnd()),null!=this.source&&(e.writeFieldBegin("source",Ooyala.Thrift.Type.BYTE,11),e.writeByte(this.source),e.writeFieldEnd()),null!=this.cookie&&(e.writeFieldBegin("cookie",Ooyala.Thrift.Type.STRING,12),e.writeString(this.cookie),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.PlayerLogEntry=function(e){this.version=1,this.user=new Ooyala.Logging.User,this.logTime=0,this.logServer=this.userAgent=this.ipaddr="",this.userTimezone=this.userTime=0,this.documentUrl=this.country=this.guid="",this.authenticationTime=0,this.reportingIds=[],this.reportingIdDescriptors=[],this.tags=[],this.timezoneIds=[],this.clientStat="",this.events=[],this.adSpots=[],this.flashCookieAge=this.playerEmbedType=this.rootContentReportingIdIndex=this.providerReportingIdIndex=0,this.isUntrustedDocUrl=!1,this.bucketInfo="",this.customEvents=[],this.accountId="",this.variationIds=[],this.playerBrandingId="",this.userTimeMillis=this.logTimeMillis=this.randomSessionSeed=this.sessionStartTimeMillis=0,null!=e&&(null!=e.version&&(this.version=e.version),null!=e.user&&(this.user=e.user),null!=e.logTime&&(this.logTime=e.logTime),null!=e.ipaddr&&(this.ipaddr=e.ipaddr),null!=e.userAgent&&(this.userAgent=e.userAgent),null!=e.logServer&&(this.logServer=e.logServer),null!=e.userTime&&(this.userTime=e.userTime),null!=e.userTimezone&&(this.userTimezone=e.userTimezone),null!=e.guid&&(this.guid=e.guid),null!=e.country&&(this.country=e.country),null!=e.documentUrl&&(this.documentUrl=e.documentUrl),null!=e.authenticationTime&&(this.authenticationTime=e.authenticationTime),null!=e.reportingIds&&(this.reportingIds=e.reportingIds),null!=e.reportingIdDescriptors&&(this.reportingIdDescriptors=e.reportingIdDescriptors),null!=e.tags&&(this.tags=e.tags),null!=e.timezoneIds&&(this.timezoneIds=e.timezoneIds),null!=e.clientStat&&(this.clientStat=e.clientStat),null!=e.events&&(this.events=e.events),null!=e.adSpots&&(this.adSpots=e.adSpots),null!=e.providerReportingIdIndex&&(this.providerReportingIdIndex=e.providerReportingIdIndex),null!=e.rootContentReportingIdIndex&&(this.rootContentReportingIdIndex=e.rootContentReportingIdIndex),null!=e.playerEmbedType&&(this.playerEmbedType=e.playerEmbedType),null!=e.flashCookieAge&&(this.flashCookieAge=e.flashCookieAge),null!=e.isUntrustedDocUrl&&(this.isUntrustedDocUrl=e.isUntrustedDocUrl),null!=e.bucketInfo&&(this.bucketInfo=e.bucketInfo),null!=e.customEvents&&(this.customEvents=e.customEvents),null!=e.accountId&&(this.accountId=e.accountId),null!=e.variationIds&&(this.variationIds=e.variationIds),null!=e.playerBrandingId&&(this.playerBrandingId=e.playerBrandingId),null!=e.sessionStartTimeMillis&&(this.sessionStartTimeMillis=e.sessionStartTimeMillis),null!=e.randomSessionSeed&&(this.randomSessionSeed=e.randomSessionSeed),null!=e.logTimeMillis&&(this.logTimeMillis=e.logTimeMillis),null!=e.userTimeMillis&&(this.userTimeMillis=e.userTimeMillis))},Ooyala.Logging.PlayerLogEntry.prototype={},Ooyala.Logging.PlayerLogEntry.prototype.read=function(e){for(var t=e.readStructBegin();;){t=e.readFieldBegin();var i=t.ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.version=t.value):e.skip(i);break;case 21:i==Ooyala.Thrift.Type.STRUCT?(this.user=new Ooyala.Logging.User,this.user.read(e)):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.logTime=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.ipaddr=t.value):e.skip(i);break;case 16:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.userAgent=t.value):e.skip(i);break;case 22:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.logServer=t.value):e.skip(i);break;case 8:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.userTime=t.value):e.skip(i);break;case 9:i==Ooyala.Thrift.Type.I16?(t=e.readI16(),this.userTimezone=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.guid=t.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.country=t.value):e.skip(i);break;case 6:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.documentUrl=t.value):e.skip(i);break;case 7:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.authenticationTime=t.value):e.skip(i);break;case 10:if(i==Ooyala.Thrift.Type.LIST){i=0,this.reportingIds=[],t=e.readListBegin(),i=t.size;for(var n=0;i>n;++n)t=null,t=e.readString(),t=t.value,this.reportingIds.push(t);e.readListEnd()}else e.skip(i);break;case 20:if(i==Ooyala.Thrift.Type.LIST){for(t=0,this.reportingIdDescriptors=[],t=e.readListBegin(),t=t.size,i=0;t>i;++i)n=null,n=new Ooyala.Logging.ReportingIdDescriptor,n.read(e),this.reportingIdDescriptors.push(n);e.readListEnd()}else e.skip(i);break;case 24:if(i==Ooyala.Thrift.Type.LIST){for(i=0,this.tags=[],t=e.readListBegin(),i=t.size,n=0;i>n;++n)t=null,t=e.readString(),t=t.value,this.tags.push(t);e.readListEnd()}else e.skip(i);break;case 12:if(i==Ooyala.Thrift.Type.LIST){for(i=0,this.timezoneIds=[],t=e.readListBegin(),i=t.size,n=0;i>n;++n)t=null,t=e.readI32(),t=t.value,this.timezoneIds.push(t);e.readListEnd()}else e.skip(i);break;case 13:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.clientStat=t.value):e.skip(i);break;case 11:if(i==Ooyala.Thrift.Type.LIST){for(t=0,this.events=[],t=e.readListBegin(),t=t.size,i=0;t>i;++i)n=null,n=new Ooyala.Logging.PlayerEvent,n.read(e),this.events.push(n);e.readListEnd()}else e.skip(i);break;case 14:if(i==Ooyala.Thrift.Type.LIST){for(t=0,this.adSpots=[],t=e.readListBegin(),t=t.size,i=0;t>i;++i)n=null,n=new Ooyala.AdsLogging.AdSpot,n.read(e),this.adSpots.push(n);e.readListEnd()}else e.skip(i);break;case 17:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.providerReportingIdIndex=t.value):e.skip(i);break;case 18:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.rootContentReportingIdIndex=t.value):e.skip(i);break;case 15:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.playerEmbedType=t.value):e.skip(i);break;case 19:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.flashCookieAge=t.value):e.skip(i);break;case 23:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.isUntrustedDocUrl=t.value):e.skip(i);break;case 25:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.bucketInfo=t.value):e.skip(i);break;case 26:if(i==Ooyala.Thrift.Type.LIST){for(t=0,this.customEvents=[],t=e.readListBegin(),t=t.size,i=0;t>i;++i)n=null,n=new Ooyala.CustomEventsLogging.CustomEvent,n.read(e),this.customEvents.push(n);e.readListEnd()}else e.skip(i);break;case 27:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.accountId=t.value):e.skip(i);break;case 28:if(i==Ooyala.Thrift.Type.LIST){for(i=0,this.variationIds=[],t=e.readListBegin(),i=t.size,n=0;i>n;++n)t=null,t=e.readI32(),t=t.value,this.variationIds.push(t);e.readListEnd()}else e.skip(i);break;case 29:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.playerBrandingId=t.value):e.skip(i);break;case 30:i==Ooyala.Thrift.Type.I64?(t=e.readI64(),this.sessionStartTimeMillis=t.value):e.skip(i);break;case 31:i==Ooyala.Thrift.Type.I64?(t=e.readI64(),this.randomSessionSeed=t.value):e.skip(i);break;case 32:i==Ooyala.Thrift.Type.I64?(t=e.readI64(),this.logTimeMillis=t.value):e.skip(i);break;case 33:i==Ooyala.Thrift.Type.I64?(t=e.readI64(),this.userTimeMillis=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.PlayerLogEntry.prototype.write=function(e){if(e.writeStructBegin("PlayerLogEntry"),null!=this.version&&(e.writeFieldBegin("version",Ooyala.Thrift.Type.BYTE,1),e.writeByte(this.version),e.writeFieldEnd()),null!=this.user&&(e.writeFieldBegin("user",Ooyala.Thrift.Type.STRUCT,21),this.user.write(e),e.writeFieldEnd()),null!=this.logTime&&(e.writeFieldBegin("logTime",Ooyala.Thrift.Type.I32,2),e.writeI32(this.logTime),e.writeFieldEnd()),null!=this.ipaddr&&(e.writeFieldBegin("ipaddr",Ooyala.Thrift.Type.STRING,3),e.writeString(this.ipaddr),e.writeFieldEnd()),null!=this.userAgent&&(e.writeFieldBegin("userAgent",Ooyala.Thrift.Type.STRING,16),e.writeString(this.userAgent),e.writeFieldEnd()),null!=this.logServer&&(e.writeFieldBegin("logServer",Ooyala.Thrift.Type.STRING,22),e.writeString(this.logServer),e.writeFieldEnd()),null!=this.userTime&&(e.writeFieldBegin("userTime",Ooyala.Thrift.Type.I32,8),e.writeI32(this.userTime),e.writeFieldEnd()),null!=this.userTimezone&&(e.writeFieldBegin("userTimezone",Ooyala.Thrift.Type.I16,9),e.writeI16(this.userTimezone),e.writeFieldEnd()),null!=this.guid&&(e.writeFieldBegin("guid",Ooyala.Thrift.Type.STRING,4),e.writeString(this.guid),e.writeFieldEnd()),null!=this.country&&(e.writeFieldBegin("country",Ooyala.Thrift.Type.STRING,5),e.writeString(this.country),e.writeFieldEnd()),null!=this.documentUrl&&(e.writeFieldBegin("documentUrl",Ooyala.Thrift.Type.STRING,6),e.writeString(this.documentUrl),e.writeFieldEnd()),null!=this.authenticationTime&&(e.writeFieldBegin("authenticationTime",Ooyala.Thrift.Type.I32,7),e.writeI32(this.authenticationTime),e.writeFieldEnd()),null!=this.reportingIds){e.writeFieldBegin("reportingIds",Ooyala.Thrift.Type.LIST,10),e.writeListBegin(Ooyala.Thrift.Type.STRING,this.reportingIds.length);for(var t=0;t<this.reportingIds.length;t++)e.writeString(this.reportingIds[t]);e.writeListEnd(),e.writeFieldEnd()}if(null!=this.reportingIdDescriptors){for(e.writeFieldBegin("reportingIdDescriptors",Ooyala.Thrift.Type.LIST,20),e.writeListBegin(Ooyala.Thrift.Type.STRUCT,this.reportingIdDescriptors.length),t=0;t<this.reportingIdDescriptors.length;t++)this.reportingIdDescriptors[t].write(e);e.writeListEnd(),e.writeFieldEnd()}if(null!=this.tags){for(e.writeFieldBegin("tags",Ooyala.Thrift.Type.LIST,24),e.writeListBegin(Ooyala.Thrift.Type.STRING,this.tags.length),t=0;t<this.tags.length;t++)e.writeString(this.tags[t]);e.writeListEnd(),e.writeFieldEnd()}if(null!=this.timezoneIds){for(e.writeFieldBegin("timezoneIds",Ooyala.Thrift.Type.LIST,12),e.writeListBegin(Ooyala.Thrift.Type.I32,this.timezoneIds.length),t=0;t<this.timezoneIds.length;t++)e.writeI32(this.timezoneIds[t]);e.writeListEnd(),e.writeFieldEnd()}if(null!=this.clientStat&&(e.writeFieldBegin("clientStat",Ooyala.Thrift.Type.STRING,13),e.writeString(this.clientStat),e.writeFieldEnd()),null!=this.events){for(e.writeFieldBegin("events",Ooyala.Thrift.Type.LIST,11),e.writeListBegin(Ooyala.Thrift.Type.STRUCT,this.events.length),t=0;t<this.events.length;t++)this.events[t].write(e);e.writeListEnd(),e.writeFieldEnd()}if(null!=this.adSpots){for(e.writeFieldBegin("adSpots",Ooyala.Thrift.Type.LIST,14),e.writeListBegin(Ooyala.Thrift.Type.STRUCT,this.adSpots.length),t=0;t<this.adSpots.length;t++)this.adSpots[t].write(e);e.writeListEnd(),e.writeFieldEnd()}if(null!=this.providerReportingIdIndex&&(e.writeFieldBegin("providerReportingIdIndex",Ooyala.Thrift.Type.BYTE,17),e.writeByte(this.providerReportingIdIndex),e.writeFieldEnd()),null!=this.rootContentReportingIdIndex&&(e.writeFieldBegin("rootContentReportingIdIndex",Ooyala.Thrift.Type.BYTE,18),e.writeByte(this.rootContentReportingIdIndex),e.writeFieldEnd()),null!=this.playerEmbedType&&(e.writeFieldBegin("playerEmbedType",Ooyala.Thrift.Type.BYTE,15),e.writeByte(this.playerEmbedType),e.writeFieldEnd()),null!=this.flashCookieAge&&(e.writeFieldBegin("flashCookieAge",Ooyala.Thrift.Type.I32,19),e.writeI32(this.flashCookieAge),e.writeFieldEnd()),null!=this.isUntrustedDocUrl&&(e.writeFieldBegin("isUntrustedDocUrl",Ooyala.Thrift.Type.BOOL,23),e.writeBool(this.isUntrustedDocUrl),e.writeFieldEnd()),null!=this.bucketInfo&&(e.writeFieldBegin("bucketInfo",Ooyala.Thrift.Type.STRING,25),e.writeString(this.bucketInfo),e.writeFieldEnd()),null!=this.customEvents){for(e.writeFieldBegin("customEvents",Ooyala.Thrift.Type.LIST,26),e.writeListBegin(Ooyala.Thrift.Type.STRUCT,this.customEvents.length),t=0;t<this.customEvents.length;t++)this.customEvents[t].write(e);e.writeListEnd(),e.writeFieldEnd()}if(null!=this.accountId&&(e.writeFieldBegin("accountId",Ooyala.Thrift.Type.STRING,27),e.writeString(this.accountId),e.writeFieldEnd()),null!=this.variationIds){for(e.writeFieldBegin("variationIds",Ooyala.Thrift.Type.LIST,28),e.writeListBegin(Ooyala.Thrift.Type.I32,this.variationIds.length),t=0;t<this.variationIds.length;t++)e.writeI32(this.variationIds[t]);e.writeListEnd(),e.writeFieldEnd()}null!=this.playerBrandingId&&(e.writeFieldBegin("playerBrandingId",Ooyala.Thrift.Type.STRING,29),e.writeString(this.playerBrandingId),e.writeFieldEnd()),null!=this.sessionStartTimeMillis&&(e.writeFieldBegin("sessionStartTimeMillis",Ooyala.Thrift.Type.I64,30),e.writeI64(this.sessionStartTimeMillis),e.writeFieldEnd()),null!=this.randomSessionSeed&&(e.writeFieldBegin("randomSessionSeed",Ooyala.Thrift.Type.I64,31),e.writeI64(this.randomSessionSeed),e.writeFieldEnd()),null!=this.logTimeMillis&&(e.writeFieldBegin("logTimeMillis",Ooyala.Thrift.Type.I64,32),e.writeI64(this.logTimeMillis),e.writeFieldEnd()),null!=this.userTimeMillis&&(e.writeFieldBegin("userTimeMillis",Ooyala.Thrift.Type.I64,33),e.writeI64(this.userTimeMillis),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},"undefined"==typeof Ooyala&&(Ooyala={}),"undefined"==typeof Ooyala.Logging&&(Ooyala.Logging={}),Ooyala.Logging.Session=function(e){this.log_entries=[],null!=e&&null!=e.log_entries&&(this.log_entries=e.log_entries)},Ooyala.Logging.Session.prototype={},Ooyala.Logging.Session.prototype.read=function(e){for(var t=e.readStructBegin();;){t=e.readFieldBegin();var i=t.ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:if(i==Ooyala.Thrift.Type.LIST){for(t=0,this.log_entries=[],t=e.readListBegin().size,i=0;t>i;++i){var n=null;n=new Ooyala.Logging.PlayerLogEntry,n.read(e),this.log_entries.push(n)}e.readListEnd()}else e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.Session.prototype.write=function(e){if(e.writeStructBegin("Session"),null!=this.log_entries){e.writeFieldBegin("log_entries",Ooyala.Thrift.Type.LIST,1),e.writeListBegin(Ooyala.Thrift.Type.STRUCT,this.log_entries.length);for(var t=0;t<this.log_entries.length;t++)this.log_entries[t].write(e);e.writeListEnd(),e.writeFieldEnd()}e.writeFieldStop(),e.writeStructEnd()},Ooyala.Util.createNamespace("Ooyala.ThirdParty.CRC32"),function(){Ooyala.ThirdParty.CRC32.computeCrc=function(e){var t=e;e=void 0,t=t,t=t.replace(/\x0d\x0a/g,"\n");for(var i="",n=0;n<t.length;n++){var a=t.charCodeAt(n);128>a?i+=String.fromCharCode(a):(a>127&&2048>a?i+=String.fromCharCode(a>>6|192):(i+=String.fromCharCode(a>>12|224),i+=String.fromCharCode(a>>6&63|128)),i+=String.fromCharCode(63&a|128))}for(t=i,"undefined"==typeof e&&(e=0),a=a=0,e^=-1,i=0,n=t.length;n>i;i++)a=255&(e^t.charCodeAt(i)),a="0x"+"00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D".substr(9*a,8),e=e>>>8^a;return e=-1^e,2*(e>>>1)+(1&e)}}(),Ooyala.Util.createNamespace("Ooyala.ThirdParty.SHA256"),function(){function e(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function t(e,t){return e>>>t|e<<32-t}function i(i,n){var a,r,s,o,l,u,d,c,h,p,E,f,g=Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),y=Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),T=Array(64);for(i[n>>5]|=128<<24-n%32,i[(n+64>>9<<4)+15]=n,h=0;h<i.length;h+=16){for(a=y[0],r=y[1],s=y[2],o=y[3],l=y[4],u=y[5],d=y[6],c=y[7],p=0;64>p;p++)T[p]=16>p?i[p+h]:e(e(e(t(T[p-2],17)^t(T[p-2],19)^T[p-2]>>>10,T[p-7]),t(T[p-15],7)^t(T[p-15],18)^T[p-15]>>>3),T[p-16]),E=e(e(e(e(c,t(l,6)^t(l,11)^t(l,25)),l&u^~l&d),g[p]),T[p]),f=e(t(a,2)^t(a,13)^t(a,22),a&r^a&s^r&s),c=d,d=u,u=l,l=e(o,E),o=s,s=r,r=a,a=e(E,f);y[0]=e(a,y[0]),y[1]=e(r,y[1]),y[2]=e(s,y[2]),y[3]=e(o,y[3]),y[4]=e(l,y[4]),y[5]=e(u,y[5]),y[6]=e(d,y[6]),y[7]=e(c,y[7])}return y}function n(e){for(var t=[],i=(1<<a)-1,n=0;n<e.length*a;n+=a)t[n>>5]|=(e.charCodeAt(n/a)&i)<<24-n%32;return t}var a=8;Ooyala.ThirdParty.SHA256.sha256ToHexString=function(e){e=i(n(e),e.length*a);for(var t="",r=0;r<4*e.length;r++)t+="0123456789abcdef".charAt(e[r>>2]>>8*(3-r%4)+4&15)+"0123456789abcdef".charAt(e[r>>2]>>8*(3-r%4)&15);return t},Ooyala.ThirdParty.SHA256.sha256ToBase64String=function(e){e=i(n(e),e.length*a);for(var t="",r=0;r<4*e.length;r+=3)for(var s=(e[r>>2]>>8*(3-r%4)&255)<<16|(e[r+1>>2]>>8*(3-(r+1)%4)&255)<<8|e[r+2>>2]>>8*(3-(r+2)%4)&255,o=0;4>o;o++)t+=8*r+6*o>32*e.length?"":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(s>>6*(3-o)&63);return t},Ooyala.ThirdParty.SHA256.sha256ToString=function(e){e=i(n(e),e.length*a);for(var t="",r=(1<<a)-1,s=0;s<32*e.length;s+=a)t+=String.fromCharCode(e[s>>5]>>>24-s%32&r);return t}}(),Ooyala.Constants={LOGGING_SERVER_DOMAIN:("https:"==window.location.protocol?"https:":"http:")+"//l.ooyala.com",IFRAME_PINGER_PATH:"/analytics/iframe.html",SAS_URL:("https:"==window.location.protocol?"https:":"http:")+"//player.ooyala.com/sas/analytics",HIGH_PRIORITY_EVENT:0,LOW_PRIORITY_EVENT:1,HIGH_PRIORITY_EVENT_FLUSH_INTERVAL_MS:1e3,LOW_PRIORITY_EVENT_FLUSH_INTERVAL_MS:1e4,MIN_DURATION_FOR_STEP_BACKOFF:24e4},Ooyala.Util.createNamespace("Ooyala.Pinger"),Ooyala.Pinger.ALIVE_MESSAGE="&handshake!",Ooyala.Pinger.COOKIE_NAME="gi",Ooyala.Pinger.DAYS_TO_LIVE=7300,Ooyala.Pinger._numCompare=function(){return-1},Ooyala.Pinger.RegisterMessageListener=function(e){window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent("onmessage",e)},Ooyala.Pinger.RemoveMessageListener=function(e){window.removeEventListener?window.removeEventListener("message",e):window.detachEvent("onmessage",e)},Ooyala.Pinger._createAndSetGuid=function(){var e=(new Date).getTime(),t=window.navigator.userAgent,i=Math.random();return i=i>0?i.toString(16).split(".")[1]:"00000000",e=Ooyala.ThirdParty.SHA256.sha256ToBase64String(e+t+i),new Ooyala.Util.CookieManager(Ooyala.Pinger.COOKIE_NAME,Ooyala.Pinger.DAYS_TO_LIVE,Ooyala.Pinger._numCompare).set("guid",e),e},Ooyala.Pinger.getOrCreateGuid=function(){var e=new Ooyala.Util.CookieManager(Ooyala.Pinger.COOKIE_NAME,Ooyala.Pinger.DAYS_TO_LIVE,Ooyala.Pinger._numCompare).get("guid");return null==e&&(e=Ooyala.Pinger._createAndSetGuid()),e},Ooyala.Pinger.Listener=function(e){this._reconstructor=new Ooyala.Pinger.ChunkReconstructor(e)},Ooyala.Pinger.Listener.POLL_INTERVAL=500,Ooyala.Pinger.Listener.prototype={_pollAndSend:function(){var e=window.location.hash;e.length>1&&(window.location.hash="",this._reconstructor.push(e.substring(1))),window.setTimeout(Ooyala.Util.bind(this._pollAndSend,this),Ooyala.Pinger.Listener.POLL_INTERVAL)},_messageHandler:function(e){this._reconstructor.push(e.data)},start:function(){if(window.postMessage){try{parent.postMessage(Ooyala.Pinger.ALIVE_MESSAGE+";"+Ooyala.Pinger.getOrCreateGuid(),"*")}catch(e){}Ooyala.Pinger.RegisterMessageListener(Ooyala.Util.bind(this._messageHandler,this))}else this._pollAndSend()}},Ooyala.Pinger.ChunkReconstructor=function(e){this._receiver=e,this._reset()},Ooyala.Pinger.ChunkReconstructor.prototype={_parseChunk:function(e){var t=e.split("~");if(3!=t.length)return window.console&&console.log("Warning - Ooyala iframe is receiving data from non-Ooyala sources. Shouldn't be the case, ignored the data: "+e),null;if(e={},e.data=t[0],e.id=parseInt(t[1]),e.count=parseInt(t[2]),e.id<=0||e.count<=0||e.id>e.count)throw"Bad chunk ID or total chunk count in ping chunk.";return e},_reset:function(){this._data="",this._totalChunks=this._chunksSeen=0},_handleChunk:function(e){0==this._totalChunks?e.id>1||(1==e.count?this._receiver.sendPing(e.data):(this._chunksSeen=1,this._totalChunks=e.count,this._data=e.data)):e.count==this._totalChunks&&e.id==this._chunksSeen+1?e.count==e.id?(e=this._data+e.data,this._reset(),this._receiver.sendPing(e)):(this._chunksSeen+=1,this._data+=e.data):(this._reset(),this._handleChunk(e))},push:function(e){e=this._parseChunk(e),null!==e&&this._handleChunk(e)}},Ooyala.Pinger.ServerPinger=function(e){this._pingUrl=e},Ooyala.Pinger.MAX_XVERIFY_HEADER_LENGTH=7500,Ooyala.Pinger.ServerPinger.prototype={sendPing:function(e){if(e.length>Ooyala.Pinger.MAX_XVERIFY_HEADER_LENGTH)throw"Ping (length = "+e.length+") is too long.";var t=Ooyala.Util.Http.createXMLHttpRequest();t.open("POST",this._pingUrl,!0),t.setRequestHeader("X-Verify",e),t.send(null)}},Ooyala.Util.createNamespace("Ooyala.Pinger"),Ooyala.Pinger.OuterPinger=function(e){this._pingerIFrameWindow=this._pingerIFrame=null,this._browserCompatible=!0,this._onReadyFn=e,this._initializePingerIFrame(),this._bufferedChunks=[],this._scheduleFlushInMillis(Ooyala.Pinger.OuterPinger.SEND_INTERVAL_MILLIS)},Ooyala.Pinger.OuterPinger.IFRAME_BASE_URL=Ooyala.Constants.LOGGING_SERVER_DOMAIN+Ooyala.Constants.IFRAME_PINGER_PATH,Ooyala.Pinger.OuterPinger.MAX_MESSAGE_LENGTH=7500,Ooyala.Pinger.OuterPinger.MAX_CHUNKS_PER_MESSAGE=2,Ooyala.Pinger.OuterPinger.MAX_CHUNK_LENGTH=Math.ceil(Ooyala.Pinger.OuterPinger.MAX_MESSAGE_LENGTH/Ooyala.Pinger.OuterPinger.MAX_CHUNKS_PER_MESSAGE),Ooyala.Pinger.OuterPinger.SEND_INTERVAL_MILLIS=1e3,Ooyala.Pinger.OuterPinger.prototype={sendMessage:function(e){if(-1!==window.navigator.userAgent.indexOf("Netgem")){if(e.length>7500)throw"Ping (length = "+e.length+") is too long.";var t=Ooyala.Util.Http.createXMLHttpRequest();
t.open("POST",Ooyala.Constants.LOGGING_SERVER_DOMAIN+"/verify",!0),t.setRequestHeader("X-Verify",e),t.send(null)}else this._browserCompatible&&(this._bufferedChunks=this._bufferedChunks.concat(this._convertMessageToChunks(e)))},_convertMessageToChunks:function(e){if(e.length<=Ooyala.Pinger.OuterPinger.MAX_MESSAGE_LENGTH){for(var t=[],i=Math.ceil(e.length/Ooyala.Pinger.OuterPinger.MAX_CHUNK_LENGTH),n=0;i>n;n++){var a=e.substr(n*Ooyala.Pinger.OuterPinger.MAX_CHUNK_LENGTH,Ooyala.Pinger.OuterPinger.MAX_CHUNK_LENGTH)+"~"+(n+1).toString()+"~"+i.toString();t.push(a)}return t}throw Error("Message (length = "+e.length+") is too long.")},_flushNextChunk:function(){var e=this._bufferedChunks.length>0?this._bufferedChunks.shift():null;e&&(window.postMessage?this._pingerIFrameWindow.postMessage(e,Ooyala.Constants.LOGGING_SERVER_DOMAIN):this._pingerIFrame.setAttribute("src",Ooyala.Pinger.OuterPinger.IFRAME_BASE_URL+"#"+e)),this._scheduleFlushInMillis(Ooyala.Pinger.OuterPinger.SEND_INTERVAL_MILLIS)},_scheduleFlushInMillis:function(e){setTimeout(Ooyala.Util.bind(this._flushNextChunk,this),e)},_getUnusedId:function(e){for(var t=0;document.getElementById(e+t.toString());)t+=1;return e+t.toString()},_initializePingerIFrame:function(){var e=this._getUnusedId("OoyalaPingerIFrame");if(window.postMessage)this._pingerIFrame=document.createElement("iframe"),this._setUpHiddenIFrame(this._pingerIFrame,e),document.body.appendChild(this._pingerIFrame),this._pingerIFrameWindow=window.frames[e],Ooyala.Pinger.RegisterMessageListener(Ooyala.Util.bind(this._handleHandshake,this));else if(-1!==window.navigator.userAgent.indexOf("Netgem"))document.write("<IFRAME id='"+e+"'></IFRAME>"),this._pingerIFrame=document.getElementById(e),this._setUpHiddenIFrame(this._pingerIFrame,e),this._pingerIFrameWindow=null,this._onReadyFn&&this._onReadyFn();else if(window.ActiveXObject){var t=new ActiveXObject("htmlfile");t.open(),t.write("<html><body><iframe id='"+e+"' src='"+Ooyala.Pinger.OuterPinger.IFRAME_BASE_URL+"'></iframe></body></html>"),t.close(),this._pingerIFrame=t.getElementById(e),this._pingerIFrameWindow=null,this._pingerIFrameDocument=t,this._onReadyFn&&this._onReadyFn()}else this._browserCompatible=!1},_handleHandshake:function(e){e&&"string"==typeof e.data&&(e=e.data.split(";"),2==e.length&&e[0]==Ooyala.Pinger.ALIVE_MESSAGE&&this._onReadyFn&&this._onReadyFn(e[1]))},_setUpHiddenIFrame:function(e,t){e.setAttribute("name",t),e.setAttribute("id",t),e.setAttribute("src",Ooyala.Pinger.OuterPinger.IFRAME_BASE_URL),e.style.visibility="hidden",e.style["border-style"]="none",e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-5px",e.style.left="-5px"}},Ooyala.PlaytimeTracker=function(e,t,i,n){this._lastPlayheadPosition=0,this._totalTimeBetweenPlayheadUpdates=Ooyala.PlaytimeTracker.INITIAL_ESTIMATE_FOR_TIME_BETWEEN_PLAYHEAD_UPDATES,this._numPlayheadUpdateDataPoints=1,this._bucketsWatched=Ooyala.Util.Enumerable.map(Array(Ooyala.PlaytimeTracker.NUM_BUCKETS),function(){return!1}),this._numBucketsWatched=0,this._updateWasSeek=!1,this._lastBucketWatchedIndex=0,this._duration=e,this._reportTimePlayedHandle=t,this._reportBucketWatchedHandle=i,this._reportPercentageWatchedHandle=n},Ooyala.PlaytimeTracker.INITIAL_ESTIMATE_FOR_TIME_BETWEEN_PLAYHEAD_UPDATES=250,Ooyala.PlaytimeTracker.MILLIS_BETWEEN_PLAYHEAD_UPDATES_FOR_SEEK=5e3,Ooyala.PlaytimeTracker.PER_MILLE_PER_BUCKET=25,Ooyala.PlaytimeTracker.NUM_BUCKETS=1e3/Ooyala.PlaytimeTracker.PER_MILLE_PER_BUCKET,Ooyala.PlaytimeTracker.prototype={processPlayheadUpdate:function(e){var t=this._computeTimeDiff(e),i=this._getRangeBucketsWatched(e),n=i[0];for(i=i[1],this._lastPlayheadPosition=e,t>0&&this._reportTimePlayedHandle(t,e),e=0,n=n;i>n;n++)this._bucketsWatched[n]||(this._bucketsWatched[n]=!0,e++),t=this._bucketToMinMaxPerMille(n),this._reportBucketWatchedHandle.call(void 0,t[0],t[1]);e>0&&(i=this._numBucketsWatched*Ooyala.PlaytimeTracker.PER_MILLE_PER_BUCKET+1,this._numBucketsWatched+=e,this._reportPercentageWatchedHandle.call(void 0,i,this._numBucketsWatched*Ooyala.PlaytimeTracker.PER_MILLE_PER_BUCKET))},_computeTimeDiff:function(e){return 0==e?(this._updateWasSeek=!0,0):e-this._lastPlayheadPosition>Ooyala.PlaytimeTracker.MILLIS_BETWEEN_PLAYHEAD_UPDATES_FOR_SEEK||e<this._lastPlayheadPosition?(this._updateWasSeek=!0,this._estimatedTimeBetweenPlayheadUpdates()):(e-=this._lastPlayheadPosition,this._updateEstimatedTimeBetweenPlayheadUpdates(e),this._updateWasSeek=!1,e)},_getRangeBucketsWatched:function(e){var t=[0,0];return 0==e?t:(this._updateWasSeek?(e=this._timeToBucket(e),-1==e&&e++,t=[e,e+1]):(t=this._timeToBucket(this._lastPlayheadPosition)+1,e=this._timeToBucket(e),t=[t,e+1]),t)},_timeToBucket:function(e){return 0>e?0:e>=this._duration?Ooyala.PlaytimeTracker.NUM_BUCKETS-1:this._perMilleToBucket(parseInt(e/this._duration*1e3))},_perMilleToBucket:function(e){return 0==e?-1:parseInt((e-1)/Ooyala.PlaytimeTracker.PER_MILLE_PER_BUCKET)},_bucketToMinMaxPerMille:function(e){return[e*Ooyala.PlaytimeTracker.PER_MILLE_PER_BUCKET+1,(e+1)*Ooyala.PlaytimeTracker.PER_MILLE_PER_BUCKET]},_estimatedTimeBetweenPlayheadUpdates:function(){return this._totalTimeBetweenPlayheadUpdates/this._numPlayheadUpdateDataPoints},_updateEstimatedTimeBetweenPlayheadUpdates:function(e){this._totalTimeBetweenPlayheadUpdates+=e,this._numPlayheadUpdateDataPoints+=1}},Ooyala.HistoryTracker=function(){this._cookieManager=new Ooyala.Util.CookieManager(Ooyala.HistoryTracker.COOKIE_NAME,Ooyala.HistoryTracker.DAYS_TO_LIVE,Ooyala.HistoryTracker.timestampCompare),this._cookieManager.deDupe()},Ooyala.HistoryTracker.COOKIE_NAME="Ooyala",Ooyala.HistoryTracker.DAYS_TO_LIVE=365,Ooyala.HistoryTracker.timestampCompare=function(e,t){var i=null==e?0:parseFloat(e),n=null==t?0:parseFloat(t);return i-n},Ooyala.HistoryTracker.prototype={getAndSetLastEventTime:function(e,t){if(null==e||null==t)return null;var i=e+"|"+t,n=this._cookieManager.get(i);return n=null==n?null:parseFloat(n),this._currentTimestamp(),this._cookieManager.set(i,this._currentTimestamp()),n},_currentTimestamp:function(){return Math.round((new Date).getTime()/1e3)}},Ooyala.Reporter=function(e,t){if(!e)throw"No Provider Code was provided to the Reporter";this._id=Ooyala.Reporter._next_id.toString(),Ooyala.Reporter._next_id+=1,Ooyala.Reporter._map[this._id]=this,this._pCode=e,this._playerLoaded=!1,this._resetState(null,null);var i=t&&t.accountId;"string"!=typeof i&&(i=null);var n=t&&t.guid;"string"!=typeof n&&(n=null);var a=t&&t.documentUrl;"string"!=typeof a&&(a=null);var r=t&&t.playerBrandingId;"string"!=typeof r&&(r=null),this._logger=new Ooyala.ThriftLogger(this._pCode,i,n,a,r),this._historyTracker=new Ooyala.HistoryTracker,this._logger.wait("SAS_Response"),this._requestSasInformation(),this._logger.logPlayerEvents(this._createEventWithLastEventTime(Ooyala.Logging.PlayerEventType.PLAYER_LOAD,[Ooyala.ThriftLogger.GLOBAL_REPORTING_ID_INDEX,Ooyala.ThriftLogger.PROVIDER_REPORTING_ID_INDEX])),this._playerLoaded=!0,this._adSpot=new Ooyala.AdsLogging.AdSpot,this._adInfo={},(i=t&&t.tags)&&this.setTags(i),this._nextPlaythroughToReport=this._playthroughReportFrequency=25},Ooyala.Reporter._next_id=0,Ooyala.Reporter._map={},Ooyala.Reporter._NULL_PLAYER_EVENT_FIELDS=["bitratePlayed","download","chunkFailover","playhead","cvinfo","DEPRECATED_adClick","buckets","adTracking","metric","bitrateTransition","sharing","payPerView","sasAuthorize","sasAuthorizeV2","personalizationBucketInfo","customEvent","reportingIdIndex","lastEventTime","timePlayed","firstForPlayer","param1","param2","firstForRootContent","firstForVideo","bufferType","bitratesAvailable","reportingIdIndexToPlayheadPositionMillis","autoplay","playthroughPercent","seqnum"],Ooyala.Reporter.AdSource={OOYALA:1,DOUBLECLICK:2,LIGHTNINGCAST:3,YUME:4,TREMOR:5,ADSENSE:6,TV2N:7,OAS:8,ADTECH:9,SCANSCOUT:10,ATLAS:11,FREEWHEEL:12,OPENX:13,LIVERAIL:14,VAST:15,ADIFY:16,DART_ENTERPRISE:17,CBSI:18,BRIGHTROLL:19,UNKNOWN:20,ADAPTV:21,VIDEOPLAZA:22,SPOTXCHANGE:23},Ooyala.Reporter.AdPositionType={PREROLL:1,MIDROLL:2,POSTROLL:3,OVERLAY:4,ENDSLATE:5,STANDALONE:6},Ooyala.Reporter.AdFormat={VIDEO:1,OVERLAY:2,ENDCAP:3,COMPANION:4},Ooyala.Reporter.AdFailureReason={LOAD_ERROR:1,LOAD_TIMEOUT:2,LOAD_IO_ERROR:3,PREFETCH_ERROR:4,PREFETCH_TIMEOUT:5,PREFETCH_IO_ERROR:6,PLAY_ERROR:7,PLAY_TIMEOUT:8,PLAY_IO_ERROR:9,INVALID_PLAYER_CONFIGURATION:10,INVALID_AD_CONFIGURATION:11,AD_NOT_FOUND:12,EXCEPTION:13,AD_ERROR:14,INVALID_AD_RESPONSE:15,CONNECTION_ERROR:16,BUFFERING_TIMEOUT:17,POLICY_RESTRICTION:18},Ooyala.Reporter.prototype={reportPlayerLoad:function(){},initializeVideo:function(e,t){window.Ooyala&&(this._resetState(e,t),this._backoff=Ooyala.Backoff.getAppropriateBackoff(t),this._logger.initializeVideo(e,this._backoff),this._reportGeneralEvent(Ooyala.Logging.PlayerEventType.DISPLAY,this._reportedDisplays,this._firstDisplayForPlayer),this._firstDisplayForPlayer=!1,this._nextPlaythroughToReport=this._playthroughReportFrequency)},reportPlayRequested:function(){window.Ooyala&&(this._reportGeneralEvent(Ooyala.Logging.PlayerEventType.PLAY,this._reportedPlays,this._firstPlayForPlayer),this._firstPlayForPlayer=!1)},reportPlayStarted:function(){this.reportPlayRequested()},reportVideoStarted:function(){window.Ooyala&&(this._reportGeneralEvent(Ooyala.Logging.PlayerEventType.VIDEO_START,this._reportedVideoStarts,this._firstVideoStartForPlayer),this._firstVideoStartForPlayer=!1)},reportPlayheadUpdate:function(e){window.Ooyala&&(this._backoff.setPlayheadPosition(e),this._tracker.processPlayheadUpdate(e),e>0&&(this._reportGeneralEvent(Ooyala.Logging.PlayerEventType.PLAY,this._reportedPlays,this._firstPlayForPlayer),this._reportGeneralEvent(Ooyala.Logging.PlayerEventType.VIDEO_START,this._reportedVideoStarts,this._firstVideoStartForPlayer)))},reportReplay:function(){window.Ooyala&&this._logger.logPlayerEvents(this._createEventWithLastEventTime(Ooyala.Logging.PlayerEventType.REPLAY,[Ooyala.ThriftLogger.GLOBAL_REPORTING_ID_INDEX,Ooyala.ThriftLogger.PROVIDER_REPORTING_ID_INDEX,Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX]))},setAdSource:function(e,t,i){if(("number"!=typeof e||0>=e||e>Object.keys(Ooyala.Reporter.AdSource).length)&&(e=Ooyala.Reporter.AdSource.UNKNOWN),this._adSpot.adSource=e,e===Ooyala.Reporter.AdSource.OOYALA){if(!t||"string"!=typeof t||32!==t.length)throw"No valid embed code specified";if(this._adInfo.ooyalaEmbedCode=t,i&&"string"!=typeof i)throw"Invalid Ad Click URL";this._adInfo.clickUrl=i}},setAdFormat:function(e){if("number"!=typeof e||0>=e||e>Object.keys(Ooyala.Reporter.AdFormat).length)throw"Invalid Ad Format";this._adSpot.adFormat=e},setAdPositionType:function(e){if("number"!=typeof e||0>=e||e>Object.keys(Ooyala.Reporter.AdPositionType).length)throw"Invalid Ad Position Type";this._adSpot.adPositionType=e},setAdPosition:function(e){if("number"!=typeof e)throw"Invalid Ad Position";this._adSpot.adPositionInMillis=e},setAdSourceContentId:function(e){if("number"!=typeof e)throw"Ad Source Content ID should be a number.";this._adSpot.adSourceContentId=e},setAdTagUrl:function(e){if("string"!=typeof e)throw"Invalid Tag URL";this._adSpot.tagUrl=e},setAdId:function(e){if("number"!=typeof e)throw"Ad ID should be a number.";this._adSpot.adId=e},setAdPassthroughParameters:function(e){if("object"!=typeof e)throw"Passthrough params should be given as an object.";this._adSpot.passthroughParameters=e},resetAdInformation:function(){window.Ooyala&&this._resetAdState()},reportAdRequest:function(){this._reportAdEvent(Ooyala.Logging.PlayerEventType.AD_REQUESTED,new Ooyala.AdsLogging.AdTracking)},reportAdImpression:function(){this._adInfo.adImpression=!0,this._reportAdEvent(Ooyala.Logging.PlayerEventType.AD_IMPRESSION,new Ooyala.AdsLogging.AdTracking)},reportAdClickToSite:function(){var e=this._clickTracking();1===this._adSpot.adSource&&(e.clickUrl=this._adInfo.clickUrl),this._reportAdEvent(Ooyala.Logging.PlayerEventType.AD_CLICK,e)},reportAdClickToVideo:function(){var e=this._clickTracking();e.clickToVideo=!0,this._reportAdEvent(Ooyala.Logging.PlayerEventType.AD_CLICK,e)},reportAdPlaythrough:function(e,t){if("number"!=typeof e||"number"!=typeof t)throw"Playhead time and total time should be numbers.";0>=t||(e>=.25*t&&this._reportPlaythroughIfNotReported(25),e>=.5*t&&this._reportPlaythroughIfNotReported(50),e>=.75*t&&this._reportPlaythroughIfNotReported(75),e>=t&&this._reportPlaythroughIfNotReported(100))},reportAdPlayFailure:function(e){if(e&&("number"!=typeof e||0>=e||e>Object.keys(Ooyala.Reporter.AdFailureReason).length))throw"Invalid Ad Failure Reason";var t=new Ooyala.AdsLogging.AdTracking;this._adInfo.adImpression&&(t.failureAfterAdImpression=!0),e&&(t.failureReason=e),this._reportAdEvent(Ooyala.Logging.PlayerEventType.AD_PLAY_FAILED,t)},reportDiscoveryImpression:function(e,t){if(window.Ooyala){if(e.constructor!==Array)throw"The relatedVideos argument must be an Array";if(0===e.length)throw"The relatedVideos array must not be empty";if(!e[0].bucket_info)throw"The relatedVideos[0] element does not have a bucket_info";var i=this._createPlayerEvent(Ooyala.Logging.PlayerEventType.RELATED_VIDEOS_DISPLAYED,[Ooyala.ThriftLogger.GLOBAL_REPORTING_ID_INDEX,Ooyala.ThriftLogger.PROVIDER_REPORTING_ID_INDEX,Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX]),n=null;n=t?this._updateBucketInfoWithCustomData(e[0].bucket_info,t):e[0].bucket_info,i.personalizationBucketInfo=new Ooyala.Logging.PersonalizationBucketInfo,i.personalizationBucketInfo.bucketInfo=n,this._logger.logPlayerEvents([i])}},reportDiscoveryClick:function(e,t){if(window.Ooyala){if(!e.bucket_info)throw"The clickedVideo argument does not have a bucket_info";if(!e.embed_code)throw"The clickedVideo argument does not have an embed_code";var i=[Ooyala.ThriftLogger.GLOBAL_REPORTING_ID_INDEX],n=null;n=e.pcode?this._logger.getOrCreateExtraPcodeId(e.pcode):Ooyala.ThriftLogger.PROVIDER_REPORTING_ID_INDEX,i.push(n),n=this._logger.getOrCreateExtraEmbedCodeId(e.embed_code,n),i.push(n),i=this._createPlayerEvent(Ooyala.Logging.PlayerEventType.RELATED_VIDEO_SELECTED,i),n=null,n=t?this._updateBucketInfoWithCustomData(e.bucket_info,t):e.bucket_info,i.personalizationBucketInfo=new Ooyala.Logging.PersonalizationBucketInfo,i.personalizationBucketInfo.bucketInfo=n,this._logger.logPlayerEvents([i])}},getSessionStartTimeMillis:function(){return this._logger.getSessionStartTimeMillis()},getRandomSessionSeed:function(){return this._logger.getRandomSessionSeed()},getAndIncrementNextEventSeqnum:function(){return this._logger.getAndIncrementNextEventSeqnum()},_reportAdEvent:function(e,t){if(window.Ooyala){var i=[Ooyala.ThriftLogger.GLOBAL_REPORTING_ID_INDEX,Ooyala.ThriftLogger.PROVIDER_REPORTING_ID_INDEX,Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX];if(1===this._adSpot.adSource){var n=this._logger.addReportingId(this._adInfo.ooyalaEmbedCode);i.push(n)}i=this._createPlayerEvent(e,i),i.adTracking=t,i.adTracking.adSpotIndex=this._logger.getOrCreateAdSpotIndex(this._adSpot),this._adSpot.parentContentReportingIdIndex=Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX,this._logger.logPlayerEvents([i])}},_clickTracking:function(){var e=new Ooyala.AdsLogging.AdTracking;return this._adInfo.clicked?e.dupClick=!0:this._adInfo.clicked=!0,e},_reportPlaythroughIfNotReported:function(e){if(this._adInfo.playthrough||(this._adInfo.playthrough=Array(4)),!this._adInfo.playthrough[e/25-1]){this._adInfo.playthrough[e/25-1]=!0;var t=new Ooyala.AdsLogging.AdTracking;t.playThroughCompletion=e,this._reportAdEvent(Ooyala.Logging.PlayerEventType.AD_PLAYTHROUGH,t)}},setTags:function(e){this._logger.removeAllTags();for(var t=0;t<e.length;t++)this._logger.addTag(e[t]);return!0},getTags:function(){return this._logger.getTags()},_reportTimePlayed:function(e,t){var i=this._createPlayerEvent(Ooyala.Logging.PlayerEventType.TOTAL_TIME_PLAYED,[Ooyala.ThriftLogger.GLOBAL_REPORTING_ID_INDEX,Ooyala.ThriftLogger.PROVIDER_REPORTING_ID_INDEX,Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX]);i.timePlayed=e,i.reportingIdIndexToPlayheadPositionMillis={},i.reportingIdIndexToPlayheadPositionMillis[Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX]=t,this._logger.logPlayerEvents([i])},_reportBucketWatched:function(e,t){for(this._reportBucketWatchedEvent(Ooyala.Logging.PlayerEventType.BUCKETS_WATCHED,[Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX],e,t);t/10>this._nextPlaythroughToReport||100==this._nextPlaythroughToReport&&t/10>95;)this._reportPlaythrough(this._nextPlaythroughToReport,[Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX]),this._nextPlaythroughToReport+=this._playthroughReportFrequency},_reportPercentageWatched:function(e,t){this._reportBucketWatchedEvent(Ooyala.Logging.PlayerEventType.PERCENTAGE_WATCHED,[Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX],e,t)},_reportBucketWatchedEvent:function(e,t,i,n){e=this._createPlayerEvent(e,t),e.buckets=new Ooyala.Logging.WatchedBuckets,e.buckets.minPerMille=i,e.buckets.maxPerMille=n,this._logger.logPlayerEvents([e])},_reportPlaythrough:function(e,t){var i=this._createPlayerEvent(Ooyala.Logging.PlayerEventType.PLAYTHROUGH_PERCENT,t);i.playthroughPercent=e,this._logger.logPlayerEvents([i])},_filterAndUpdateAlreadyReported:function(e,t){return Ooyala.Util.Enumerable.select(e,function(e){return t[e]?!1:t[e]=!0})},_reportGeneralEvent:function(e,t,i){var n=[];return t=this._filterAndUpdateAlreadyReported([Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX],t),t.length>0&&(t.push(Ooyala.ThriftLogger.GLOBAL_REPORTING_ID_INDEX),t.push(Ooyala.ThriftLogger.PROVIDER_REPORTING_ID_INDEX),n=this._createEventWithLastEventTime(e,t),i&&Ooyala.Util.Enumerable.foreach(n,function(e){e.firstForPlayer=!0})),this._logger.logPlayerEvents(n),n},_createEventWithLastEventTime:function(e,t){for(var i=[],n=0;n<t.length;n++){var a=this._createPlayerEvent(e,t[n]),r=this._getReportingCode(t[n]);a.lastEventTime=this._historyTracker.getAndSetLastEventTime(r,e),i.push(a)}return i},_getReportingCode:function(e){switch(e){case Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX:return this._embedCode;case Ooyala.ThriftLogger.PROVIDER_REPORTING_ID_INDEX:return this._pCode;case Ooyala.ThriftLogger.GLOBAL_REPORTING_ID_INDEX:return Ooyala.ThriftLogger.OOYALA_GLOBAL_ID}return""},_createPlayerEvent:function(e,t){var i=new Ooyala.Logging.PlayerEvent;if(Ooyala.Util.Enumerable.foreach(Ooyala.Reporter._NULL_PLAYER_EVENT_FIELDS,function(e){i[e]=null}),i.eventType=e,-1==t.constructor.toString().indexOf("Array"))i.reportingIdIndices.push(t);else for(var n=0;n<t.length;n++)i.reportingIdIndices.push(t[n]);return i},_resetState:function(e,t){var i=Ooyala.Util.bind(this._reportTimePlayed,this),n=Ooyala.Util.bind(this._reportBucketWatched,this),a=Ooyala.Util.bind(this._reportPercentageWatched,this);this._tracker=new Ooyala.PlaytimeTracker(t,i,n,a),this._embedCode=e,this._reportedDisplays={},this._firstDisplayForPlayer=!0,this._reportedPlays={},this._firstPlayForPlayer=!0,this._reportedVideoStarts={},this._firstVideoStartForPlayer=!0},_resetAdState:function(){this._adInfo={},this._adSpot=new Ooyala.AdsLogging.AdSpot},_requestSasInformation:function(){var e="callback="+encodeURIComponent("Ooyala.Reporter.processSAS")+"&id="+this._id+"&pcode="+encodeURIComponent(this._pCode);e=Ooyala.Constants.SAS_URL+"?"+e;var t=document.createElement("script");t.setAttribute("src",e),t.setAttribute("type","text/javascript"),document.body.appendChild(t)},_setSASInfo:function(e){this._logger.setKey(e.key),this._logger.setTimezoneId(e.timezone),this._logger.setAuthenticationTime(e.authentication_time),this._logger.setGeoData(e.geo_data),this._logger.signal("SAS_Response")},_updateBucketInfoWithCustomData:function(e,t){if(e&&e.length>0&&"2"==e.charAt(0)){var i=JSON.parse(e.substring(1)),n=JSON.parse(window.atob(i.encoded));if(n.custom)for(var a in t)t.hasOwnProperty(a)&&(n.custom[a]=t[a]);else n.custom=t;return i.encoded=window.btoa(JSON.stringify(n)),"2"+JSON.stringify(i)}throw"Not a version 2 bucket_info: "+e}},Ooyala.Reporter.processSAS=function(e){var t=Ooyala.Reporter._map[e.id];t&&t._setSASInfo(e)},Ooyala.Util.createNamespace("Ooyala.Signing"),Ooyala.Signing.getSignature=function(e,t){return Ooyala.ThirdParty.SHA256.sha256ToBase64String(e+t)},Ooyala.Signing.getXVerify=function(e,t){var i=Ooyala.Signing.getSignature(e,t),n=Ooyala.ThirdParty.CRC32.computeCrc(e);return e+"&sig="+i.substr(1,20)+"&crc="+n.toString()},Ooyala.Util.createNamespace("Ooyala.Backoff"),Ooyala.Backoff.getAppropriateBackoff=function(e){return e>Ooyala.Constants.MIN_DURATION_FOR_LINEAR_BACKOFF?new Ooyala.Backoff.StepBackoff(e):new Ooyala.Backoff.NoBackoff},Ooyala.Backoff.StepBackoff=function(e){this._duration=e,this._playheadPosition=0,this.resetBackoffBehavior()},Ooyala.Backoff.StepBackoff.DURATION_FLUSH_FREQUENCY={},Ooyala.Backoff.StepBackoff.DURATION_FLUSH_FREQUENCY[Ooyala.Constants.LOW_PRIORITY_EVENT]=[[5*Ooyala.Constants.MIN_DURATION_FOR_STEP_BACKOFF,18*Ooyala.Constants.LOW_PRIORITY_EVENT_FLUSH_INTERVAL_MS],[2*Ooyala.Constants.MIN_DURATION_FOR_STEP_BACKOFF,6*Ooyala.Constants.LOW_PRIORITY_EVENT_FLUSH_INTERVAL_MS],[Ooyala.Constants.MIN_DURATION_FOR_STEP_BACKOFF,3*Ooyala.Constants.LOW_PRIORITY_EVENT_FLUSH_INTERVAL_MS],[-1/0,Ooyala.Constants.LOW_PRIORITY_EVENT_FLUSH_INTERVAL_MS]],Ooyala.Backoff.StepBackoff.DURATION_FLUSH_FREQUENCY[Ooyala.Constants.HIGH_PRIORITY_EVENT]=[[2*Ooyala.Constants.MIN_DURATION_FOR_STEP_BACKOFF,30*Ooyala.Constants.HIGH_PRIORITY_EVENT_FLUSH_INTERVAL_MS],[Ooyala.Constants.MIN_DURATION_FOR_STEP_BACKOFF,10*Ooyala.Constants.HIGH_PRIORITY_EVENT_FLUSH_INTERVAL_MS],[-1/0,Ooyala.Constants.HIGH_PRIORITY_EVENT_FLUSH_INTERVAL_MS]],Ooyala.Backoff.StepBackoff.prototype={setPlayheadPosition:function(e){this._playheadPosition=e},getFlushInterval:function(e){for(var t=Ooyala.Backoff.StepBackoff.DURATION_FLUSH_FREQUENCY[e],i=this._playheadPosition-this._resetPosition,n=null,a=0;a<t.length;a++){var r=t[a];if(r[0]<i){n=r;break}}return null!==n?n[1]:e==Ooyala.Constants.HIGH_PRIORITY_EVENT?Ooyala.Constants.HIGH_PRIORITY_EVENT_FLUSH_INTERVAL_MS:Ooyala.Constants.LOW_PRIORITY_EVENT_FLUSH_INTERVAL_MS},resetBackoffBehavior:function(){this._resetPosition=this._playheadPosition}},Ooyala.Backoff.NoBackoff=function(){},Ooyala.Backoff.NoBackoff.prototype={setPlayheadPosition:function(){},resetBackoffBehavior:function(){},getFlushInterval:function(e){return e==Ooyala.Constants.HIGH_PRIORITY_EVENT?Ooyala.Constants.HIGH_PRIORITY_EVENT_FLUSH_INTERVAL_MS:Ooyala.Constants.LOW_PRIORITY_EVENT_FLUSH_INTERVAL_MS}},Ooyala.ThriftLogger=function(e,t,i,n,a){var r=this._createReportingIdDescriptor(Ooyala.Logging.ReportingIdType.GLOBAL),s=this._createReportingIdDescriptor(Ooyala.Logging.ReportingIdType.PROVIDER);this._reportingIdDescriptors=[r,s],this._reportingIds=[Ooyala.ThriftLogger.OOYALA_GLOBAL_ID,e],this._playerEvents=[],this._totalTimePlayedEvent=null,this._serializer=new Ooyala.Thrift.Serializer,this._logTimer=new Ooyala.LogTimer,this._waitConditions=[],this._documentUrl=n?n:window.location.href,this._signingKey="",this._backoff=new Ooyala.Backoff.NoBackoff,this._adSpots=[],this._adSpotToIndex={},this._tags=[],this._flushInturruptedByWaitConditions=!1,this._timezoneId=27,this._user=null,this._guid=i,this._accountId=t,this._playerBrandingId=a,this._sessionStartTimeMillis=Math.round((new Date).getTime()),this._randomSessionSeed=Math.round(4503599627370496*Math.random()),this._nextEventSeqnum=1,this.wait("pinger_ready"),this._pinger=new Ooyala.Pinger.OuterPinger(Ooyala.Util.bind(this._onReady,this))},Ooyala.ThriftLogger.OOYALA_GLOBAL_ID="o",Ooyala.ThriftLogger.GLOBAL_REPORTING_ID_INDEX=0,Ooyala.ThriftLogger.PROVIDER_REPORTING_ID_INDEX=1,Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX=2,Ooyala.ThriftLogger.ANALYTICS_VERSION=2,Ooyala.ThriftLogger.MAX_PLAYER_EVENTS=42,Ooyala.ThriftLogger.EVENT_PRIORITIES={HIGH:Ooyala.Constants.HIGH_PRIORITY_EVENT,LOW:Ooyala.Constants.LOW_PRIORITY_EVENT},Ooyala.ThriftLogger.HIGH_PRIORITY_EVENT_TYPES=[Ooyala.Logging.PlayerEventType.UNKNOWN,Ooyala.Logging.PlayerEventType.DISPLAY,Ooyala.Logging.PlayerEventType.PLAY,Ooyala.Logging.PlayerEventType.PERCENTAGE_WATCHED,Ooyala.Logging.PlayerEventType.SEEK,Ooyala.Logging.PlayerEventType.REPLAY,Ooyala.Logging.PlayerEventType.PAUSE,Ooyala.Logging.PlayerEventType.BUCKETS_WATCHED,Ooyala.Logging.PlayerEventType.AD_CLICK,Ooyala.Logging.PlayerEventType.AD_IMPRESSION,Ooyala.Logging.PlayerEventType.AD_PLAYTHROUGH,Ooyala.Logging.PlayerEventType.AD_PLAY_FAILED,Ooyala.Logging.PlayerEventType.PLAYER_LOAD,Ooyala.Logging.PlayerEventType.SHARE,Ooyala.Logging.PlayerEventType.PAY_PER_VIEW,Ooyala.Logging.PlayerEventType.SAS_AUTHORIZE,Ooyala.Logging.PlayerEventType.SAS_AUTHORIZE_V2,Ooyala.Logging.PlayerEventType.AD_REQUESTED,Ooyala.Logging.PlayerEventType.AD_MOUSEOVER,Ooyala.Logging.PlayerEventType.VIDEO_START,Ooyala.Logging.PlayerEventType.CUSTOM,Ooyala.Logging.PlayerEventType.RELATED_VIDEO_SELECTED,Ooyala.Logging.PlayerEventType.RELATED_VIDEOS_DISPLAYED],Ooyala.ThriftLogger.LOW_PRIORITY_EVENT_TYPES=[Ooyala.Logging.PlayerEventType.TOTAL_TIME_PLAYED,Ooyala.Logging.PlayerEventType.BITRATE_PLAYED,Ooyala.Logging.PlayerEventType.DOWNLOAD,Ooyala.Logging.PlayerEventType.CHUNK_FAILOVER,Ooyala.Logging.PlayerEventType.BUFFER,Ooyala.Logging.PlayerEventType.CV_INFO,Ooyala.Logging.PlayerEventType.METRIC,Ooyala.Logging.PlayerEventType.BITRATE_TRANSITION,Ooyala.Logging.PlayerEventType.BITRATES_AVAILABLE],Ooyala.ThriftLogger.EVENT_TYPE_TO_PRIORITY=null,Ooyala.ThriftLogger.BUCKETIZED_EVENT_TYPES=[Ooyala.Logging.PlayerEventType.PERCENTAGE_WATCHED,Ooyala.Logging.PlayerEventType.BUCKETS_WATCHED],Ooyala.ThriftLogger._NULL_PLAYER_LOG_ENTRY_FIELDS=["logTime","ipaddr","userAgent","logServer","country","clientStat","adSpots","rootContentReportingIdIndex","flashCookieAge","bucketInfo","accountId","logTimeMillis"],Ooyala.ThriftLogger._NULL_USER_FIELDS=["region","county","city","lat","lon","dmaCode","pmsaCode","cookie","clientIP"],Ooyala.ThriftLogger.prototype={initializeVideo:function(e,t){if(this._backoff=t||new Ooyala.Backoff.NoBackoff,this._reportingIds.length>=3&&this._reportingIds[Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX]!=e)this.flushEventBufferInAtMostMillis(0),this._reportingIds[Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX]=e;else if(this._reportingIds.length<3){var i=this._createReportingIdDescriptor(Ooyala.Logging.ReportingIdType.VIDEO);i.providerReportingIdIndex=Ooyala.ThriftLogger.PROVIDER_REPORTING_ID_INDEX,this._reportingIdDescriptors.push(i),this._reportingIds.push(e)}this._clearExtraReportingIds()},getOrCreateExtraPcodeId:function(e){for(var t=-1,i=0;i<this._reportingIds.length;i++)this._reportingIds[i]===e&&(t=i);return t>=0?t:(t=this._reportingIds.length,this._reportingIds.push(e),this._reportingIdDescriptors.push(this._createReportingIdDescriptor(Ooyala.Logging.ReportingIdType.PROVIDER)),t)},getOrCreateExtraEmbedCodeId:function(e,t){for(var i=-1,n=0;n<this._reportingIds.length;n++)this._reportingIds[n]===e&&(i=n);return i>=0?i:(i=this._reportingIds.length,this._reportingIds.push(e),n=this._createReportingIdDescriptor(Ooyala.Logging.ReportingIdType.VIDEO),n.providerReportingIdIndex=t,this._reportingIdDescriptors.push(n),i)},_clearExtraReportingIds:function(){this._reportingIds.length>3&&(this._reportingIds=this._reportingIds.slice(0,3),this._reportingIdDescriptors=this._reportingIdDescriptors.slice(0,3))},getOrCreateAdSpotIndex:function(e){var t=this._adSpotToIndex[e];return t||(this._adSpotToIndex[e]=t=this._adSpots.length,this._adSpots.push(e)),t},addReportingId:function(e){return this._reportingIds.push(e),e=this._createReportingIdDescriptor(Ooyala.Logging.ReportingIdType.VIDEO),e.providerReportingIdIndex=Ooyala.ThriftLogger.PROVIDER_REPORTING_ID_INDEX,this._reportingIdDescriptors.push(e),this._reportingIds.length-1},logPlayerEvents:function(e){for(var t=0;t<e.length;t++)this._logPlayerEvent(e[t]);this._playerEvents.length>=Ooyala.ThriftLogger.MAX_PLAYER_EVENTS&&this.flushEventBufferInAtMostMillis(0)},flushEventBufferInAtMostMillis:function(e){!e||0>=e?this.flushEventBuffer():this._logTimer.setLogTimeout(Ooyala.Util.bind(this.flushEventBuffer,this),e)},flushEventBuffer:function(){if(0!=this._playerEvents.length)if(this._waitConditions.length>0)this._flushInturruptedByWaitConditions=!0;else{var e=this._serializer.serialize(this._playerEventsToPlayerLogEntry());e=Ooyala.Util.base64Encode(e),this._pinger.sendMessage(Ooyala.Signing.getXVerify(e,this._signingKey)),this._resetPlayerEvents(),this._clearExtraReportingIds()}},arrayIndexOf:function(e,t){for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1},wait:function(e){this._waitConditions.push(e)},signal:function(e){return e=this.arrayIndexOf(this._waitConditions,e),0>e?!1:(this._waitConditions[e]=this._waitConditions[this._waitConditions.length-1],this._waitConditions.pop(),0==this._waitConditions.length&&this._flushInturruptedByWaitConditions&&(this._flushInturruptedByWaitConditions=!1,this.flushEventBuffer()),!0)},setKey:function(e){this._signingKey=e},setTimezoneId:function(e){this._timezoneId=e},setAuthenticationTime:function(e){this._authenticationTime=e},setGeoData:function(e){var t=new Ooyala.Logging.User;Ooyala.Util.Enumerable.foreach(Ooyala.ThriftLogger._NULL_USER_FIELDS,function(e){t[e]=null}),t.country=e,t.source=Ooyala.Logging.UserInfoSource.ENCRYPTED_SAS,this._user=t},addTag:function(e){return this.arrayIndexOf(this._tags,e)>=0?!1:(this._tags.push(e),!0)},getTags:function(){return[].concat(this._tags)},removeTag:function(e){return e=this.arrayIndexOf(this._tags,e),0>e?!1:(this._tags[e]=this._tags[this._tags.length-1],this._tags.pop(),!0)},removeAllTags:function(){return this._tags=[],!0},getSessionStartTimeMillis:function(){return this._sessionStartTimeMillis},getRandomSessionSeed:function(){return this._randomSessionSeed},getAndIncrementNextEventSeqnum:function(){var e=this._nextEventSeqnum;return this._nextEventSeqnum+=1,e},_onReady:function(e){this._guid=this._guid||e,this.signal("pinger_ready")},_logPlayerEvent:function(e){switch(e.eventType){case Ooyala.Logging.PlayerEventType.TOTAL_TIME_PLAYED:this._logTotalTimePlayedEvent(e);break;default:this._playerEvents.push(e)}this.flushEventBufferInAtMostMillis(this._playerEventTypeToFlushInterval(e.eventType))},_logTotalTimePlayedEvent:function(e){var t=this._totalTimePlayedEvent;t?(t.timePlayed+=e.timePlayed,t.reportingIdIndexToPlayheadPositionMillis=e.reportingIdIndexToPlayheadPositionMillis):(this._totalTimePlayedEvent=e,this._playerEvents.push(e))},_playerEventTypeToFlushInterval:function(e){return Ooyala.ThriftLogger.EVENT_TYPE_TO_PRIORITY||this._initializeEventTypeToPriorityHash(),this._backoff.getFlushInterval(Ooyala.ThriftLogger.EVENT_TYPE_TO_PRIORITY[e]||Ooyala.ThriftLogger.EVENT_PRIORITIES.HIGH)},_initializeEventTypeToPriorityHash:function(){if(!Ooyala.ThriftLogger.EVENT_TYPE_TO_PRIORITY){Ooyala.ThriftLogger.EVENT_TYPE_TO_PRIORITY={};for(var e=0;e<Ooyala.ThriftLogger.HIGH_PRIORITY_EVENT_TYPES.length;e++){var t=Ooyala.ThriftLogger.HIGH_PRIORITY_EVENT_TYPES[e];Ooyala.ThriftLogger.EVENT_TYPE_TO_PRIORITY[t]=Ooyala.ThriftLogger.EVENT_PRIORITIES.HIGH}for(e=0;e<Ooyala.ThriftLogger.LOW_PRIORITY_EVENT_TYPES.length;e++)t=Ooyala.ThriftLogger.LOW_PRIORITY_EVENT_TYPES[e],Ooyala.ThriftLogger.EVENT_TYPE_TO_PRIORITY[t]=Ooyala.ThriftLogger.EVENT_PRIORITIES.LOW}},_compressAllBucketizedEvents:function(e){for(var t=0;t<Ooyala.ThriftLogger.BUCKETIZED_EVENT_TYPES.length;t++)e=this._compressBucketizedEventsForType(Ooyala.ThriftLogger.BUCKETIZED_EVENT_TYPES[t],e);return e},_compressBucketizedEventsForType:function(e,t){if(!this._isBucketizedEventType(e))return t;var i=Ooyala.Util.Enumerable.select(t,function(t){return t.eventType==e});if(!i||i.length<2)return t;i.sort(function(e,t){return e.buckets.minPerMille-t.buckets.minPerMille||e.buckets.maxPerMille-t.buckets.maxPerMille});for(var n=[],a=i.shift(),r=!1;0!=i.length;){var s=i.shift();a.buckets.maxPerMille!=s.buckets.minPerMille-1?(n.push(a),a=s):(a.buckets.maxPerMille=s.buckets.maxPerMille,r=!0)}return r?(n.push(a),t=Ooyala.Util.Enumerable.reject(t,function(t){return t.eventType==e}),t=t.concat(n)):t},_isBucketizedEventType:function(e){for(var t=0;t<Ooyala.ThriftLogger.BUCKETIZED_EVENT_TYPES.length;t++)if(e==Ooyala.ThriftLogger.BUCKETIZED_EVENT_TYPES[t])return!0;
return!1},_resetPlayerEvents:function(){this._playerEvents=[],this._totalTimePlayedEvent=null},_playerEventsToPlayerLogEntry:function(){var e=new Ooyala.Logging.PlayerLogEntry,t=new Date,i=t.getTimezoneOffset();for(Ooyala.Util.Enumerable.foreach(Ooyala.ThriftLogger._NULL_PLAYER_LOG_ENTRY_FIELDS,function(t){e[t]=null}),e.user=this._user,e.guid=this._guid,e.playerBrandingId=this._playerBrandingId,e.version=Ooyala.ThriftLogger.ANALYTICS_VERSION,e.userTimeMillis=Math.round(t.getTime()),e.userTime=Math.round(e.userTimeMillis/1e3),e.userTimezone=i,e.documentUrl=this._documentUrl,e.authenticationTime=this._authenticationTime,e.reportingIds=this._reportingIds.slice(0),Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX<e.reportingIds.length&&(e.rootContentReportingIdIndex=Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX),e.reportingIdDescriptors=this._reportingIdDescriptors.slice(0),e.timezoneIds=[0],e.tags=this._tags,e.sessionStartTimeMillis=this._sessionStartTimeMillis,e.randomSessionSeed=this._randomSessionSeed,this._accountId&&(e.accountId=this._accountId),t=0;t<this._playerEvents.length;t++)i=this._playerEvents[t],i.adTracking&&"number"==typeof i.adTracking.adSpotIndex&&(e.adSpots||(e.adSpots=[]),e.adSpots.push(this._adSpots[i.adTracking.adSpotIndex]));for(;e.timezoneIds.length<e.reportingIds.length;)e.timezoneIds.push(this._timezoneId);for(e.events=this._compressAllBucketizedEvents(this._playerEvents),e.providerReportingIdIndex=Ooyala.ThriftLogger.PROVIDER_REPORTING_ID_INDEX,e.playerEmbedType=Ooyala.Logging.PlayerEmbedType.EXTERNAL_ANALYTICS,e.isUntrustedDocUrl=!1,t=0;t<e.events.length;t++)e.events[t].seqnum=this._nextEventSeqnum,this._nextEventSeqnum+=1;return e},_isPlayerLogEntryValid:function(e){return e.events&&0!=e.events.length&&e.documentUrl&&0!=e.documentUrl.length&&e.reportingIds&&0!=e.reportingIds.length&&e.reportingIdDescriptors&&0!=e.reportingIdDescriptors.length?!0:!1},_createReportingIdDescriptor:function(e){var t=new Ooyala.Logging.ReportingIdDescriptor;return t.reportingIdType=e,Ooyala.Util.Enumerable.foreach(["providerReportingIdIndex","parentContentIdIndex","syndicationDestinationIdIndex","adSetId"],function(e){t[e]=null}),t}},Ooyala.LogTimer=function(){this._nextTimeout=this._timeoutId=null},Ooyala.LogTimer.prototype={setLogTimeout:function(e,t){var i=(new Date).getTime(),n=i+t;return null!==this._nextTimeout&&n>this._nextTimeout||i>n?!1:(this._clearLogTimer(),this._nextTimeout=n,i=Ooyala.Util.bind(this._clearTimerAndCallCallback,this,e),this._timeoutId=setTimeout(i,t),!0)},_clearTimerAndCallCallback:function(e){this._clearLogTimer(),e()},_clearLogTimer:function(){null!==this._timeoutId&&(clearTimeout(this._timeoutId),this._nextTimeout=this._timeoutId=null)}},global=this,global.Ooyala=Ooyala,global.Ooyala.Reporter=Ooyala.Reporter,global.Ooyala.Reporter.prototype.reportPlayerLoad=Ooyala.Reporter.prototype.reportPlayerLoad,global.Ooyala.Reporter.prototype.initializeVideo=Ooyala.Reporter.prototype.initializeVideo,global.Ooyala.Reporter.prototype.reportPlayheadUpdate=Ooyala.Reporter.prototype.reportPlayheadUpdate,global.Ooyala.Reporter.prototype.reportReplay=Ooyala.Reporter.prototype.reportReplay}(OO,OO.$,OO._),function(e,t,i){e.AnalyticsBase=function(){},i.extend(e.AnalyticsBase.prototype,{loadSucceed:function(){},reportEvent:function(){throw"Please override this function"},setup:function(e,t,n){this.mb=e,this.elementId=t,this._loaded=!1,this._bufferedEvents=[],this.mb.subscribe("*",n,i.bind(this._onAnalyticsEvent,this))},loadExternalAnalyticsJs:function(n){t.getScriptRetry(n,i.bind(this._onLoaded,this),{error:function(){e.log("can not load url",n)}})},_onLoaded:function(){this._loaded=!0,this.loadSucceed(),this._bufferedEvents&&i.each(this._bufferedEvents,function(e){this._safeReportEvent.apply(this,e)},this)},_onAnalyticsEvent:function(){this._loaded?this._safeReportEvent.apply(this,arguments):this._bufferedEvents.push(arguments)},_safeReportEvent:function(){try{this.reportEvent.apply(this,arguments)}catch(t){e.log("can not log event")}},__place_holder:!0})}(OO,OO.$,OO._),function(e,t,i){var n="ooyala_analytics",a=e.inherit(e.AnalyticsBase,function(t,a){e.requiredInEnvironment("html5-playback")&&(this.setup(t,a,n),this.lastEmbedCode="",this.currentEmbedcode="",this.playingInstreamAd=!1,this.guid=void 0,this.accountId=void 0,this.accountIdSet=!1,this.guidSet=!1,this.parameters=void 0,this.documentUrl=void 0,t.subscribe(e.EVENTS.AUTHORIZATION_FETCHED,n,i.bind(this._onAuthorizationFetched,this)),t.subscribe(e.EVENTS.ERROR,n,i.bind(this._onErrorEvent,this)),t.subscribe(e.EVENTS.GUID_SET,n,i.bind(this._onGuidSet,this)),t.subscribe(e.EVENTS.REPORT_DISCOVERY_IMPRESSION,n,i.bind(this._onReportDiscoveryImpression,this)),t.subscribe(e.EVENTS.REPORT_DISCOVERY_CLICK,n,i.bind(this._onReportDiscoveryClick,this)),t.subscribe(e.EVENTS.PLAYER_CREATED,n,i.bind(this._onPlayerCreated,this)),t.subscribe(e.EVENTS.ASSET_CHANGED,n,i.bind(this._onFirstAssetChanged,this)))});i.extend(a.prototype,{_onGuidSet:function(e,t){this.guid=t,this.guidSet=!0,this._onGuidAndAccountIdSet()},_onPlayerCreated:function(e,t,i){this.parameters=i,this.parameters&&this.parameters.docUrl?this.documentUrl=this.parameters.docUrl:this.parameters&&this.parameters.flashParams&&this.parameters.flashParams.docUrl&&(this.documentUrl=this.parameters.flashParams.docUrl)},_onAuthorizationFetched:function(t,a){a.user_info&&a.user_info.account_id?this.accountId=a.user_info.account_id:a.debug_data&&a.debug_data.user_info&&a.debug_data.user_info.account_id&&(this.accountId=a.debug_data.user_info.account_id),this.mb.unsubscribe(e.EVENTS.ERROR,n),this.mb.unsubscribe(e.EVENTS.AUTHORIZATION_FETCHED,n),i.isNumber(this.accountId)&&(this.accountId=this.accountId.toString()),i.isString(this.accountId)?e.d("OO.OoyalaAnalytics: SAS authorization fetched with accountId == "+this.accountId):(this.accountId=void 0,e.d("OO.OoyalaAnalytics: SAS authorization fetched without an accountId")),this.accountIdSet=!0,this._onGuidAndAccountIdSet()},_onGuidAndAccountIdSet:function(){this.guidSet&&this.accountIdSet&&(e.d("Loading Analytics Module..."),this._loadAnalytics())},_onErrorEvent:function(t,n){if(n&&n.code){var a=n.code,r=!1;i.each(e.ERROR.API.SAS,function(e){e===a&&(r=!0)}),r&&this._onAuthorizationError(t,a)}},_onAuthorizationError:function(){this.mb.unsubscribe(e.EVENTS.ERROR,n),this.mb.unsubscribe(e.EVENTS.AUTHORIZATION_FETCHED,n),e.d("OO.OoyalaAnalytics: SAS authorization failed, loading external analytics module ..."),this._loadAnalytics()},_onReportDiscoveryImpression:function(t,i){if(this.reporter)try{this.reporter.reportDiscoveryImpression(i.relatedVideos,i.custom)}catch(n){e.log("Failed to report a discovery impression event with params "+JSON.stringify(i)+": "+n)}},_onReportDiscoveryClick:function(t,i){if(this.reporter)try{this.reporter.reportDiscoveryClick(i.clickedVideo,i.custom)}catch(n){e.log("Failed to report a discovery click event with params "+JSON.stringify(i)+": "+n)}},_loadAnalytics:function(){i.bind(this._onLoaded,this)()},_onFirstAssetChanged:function(t,i){i.ooyalaAsset&&(this.mb.unsubscribe(e.EVENTS.ASSET_CHANGED,n,this._onFirstAssetChanged),this.accountId=void 0,this.accountIdSet=!0,this._onGuidAndAccountIdSet())},loadSucceed:function(){if(window.Ooyala&&window.Ooyala.Reporter&&(a.Reporter=Ooyala.Reporter,a.Pinger=Ooyala.Pinger,this.reporter=null,e.playerParams.pcode)){var t={accountId:this.accountId,guid:this.guid,playerBrandingId:e.playerParams.playerBrandingId};this.documentUrl&&(t=i.extend(t,{documentUrl:this.documentUrl})),this.reporter=new a.Reporter(e.playerParams.pcode,t)}},reportEvent:function(t,a,r){if(this.reporter)switch(t){case e.EVENTS.PLAYER_CREATED:this.reporter.reportPlayerLoad();break;case e.EVENTS.EMBED_CODE_CHANGED:this.lastEmbedCode=a!=this.currentEmbedcode?this.currentEmbedcode:"",this.currentEmbedcode=a;break;case e.EVENTS.CONTENT_TREE_FETCHED:this.reporter.initializeVideo(this.currentEmbedcode,a.duration);break;case e.EVENTS.ASSET_CHANGED:if(!a)break;if(this.lastEmbedCode=a.id!=this.currentEmbedcode?this.currentEmbedcode:"",!asset.ooyalaAsset){this.embedCode="";break}this.mb.unsubscribe(e.EVENTS.ERROR,n),this.currentEmbedcode=a.id,this.reporter.initializeVideo(this.currentEmbedcode,asset.content.duration);break;case e.EVENTS.WILL_PLAY_FROM_BEGINNING:this.lastEmbedCode===this.currentEmbedcode?this.reporter.reportReplay():(this.reporter.reportVideoStarted(),this.lastEmbedCode=this.currentEmbedcode);break;case e.EVENTS.WILL_PLAY_ADS:this.playingInstreamAd=!0;var s=Ooyala.Reporter.AdSource.UNKNOWN;a&&a.type&&"string"==typeof a.type&&(s=Ooyala.Reporter.AdSource[a.type.toUpperCase()]),this.reporter.setAdSource(s,this.currentEmbedcode,a&&a.click_url),this.reporter.reportAdImpression();break;case e.EVENTS.ADS_PLAYED:this.playingInstreamAd=!1;break;case e.EVENTS.ADS_CLICKED:this.reporter.reportAdClickToVideo();break;case e.EVENTS.PLAYHEAD_TIME_CHANGED:if(this.playingInstreamAd)this.reporter.reportAdPlaythrough(a,r);else{var o="undefined"!=typeof arguments[6]?arguments[6]:a;i.isFinite(o)&&o>0&&this.reporter.reportPlayheadUpdate(Math.floor(1e3*o))}break;case e.EVENTS.REPORT_EXPERIMENT_VARIATIONS:this.reporter.reportExperimentVariation(a.variationIds);break;case e.EVENTS.INITIAL_PLAY:this.reporter.reportPlayRequested()}},__place_holder:!0}),e.registerModule(n,function(e,t){return new a(e,t)})}(OO,OO.$,OO._),OO.plugin("Librato",function(e,t,i){var n=Math.floor(10*Math.random());if(n>0)return function(){};var a="-above-range",r="-below-range",s="-within-range",o={events:[{name:"v4-load-time",low:500,high:2e3},{name:"v4-playback-ready",low:1e3,high:3e3},{name:"v4-time-to-first-content-frame",low:1e3,high:5e3},{name:"v4-time-to-first-ad-frame",low:1e3,high:5e3}]},l=function(){this.basic_auth_token="abelrios@ooyala.com:95d53e8841835839469f2a2f96fd95b564342ffadff759ad9d49f1897805db1b",this.basic_auth_token=window.btoa?btoa(this.basic_auth_token):window.base64.encode(this.basic_auth_token),this.source=this._generateSourceString()};t.extend(l.prototype,{_measureDurationMilli:function(e,t){return t-e},_addMetricValue:function(e,t,i){return e[t]={value:i,source:this.source},e},_reportSingleMetric:function(e,t){var i={};this._addMetricValue(i,e,t),this._sendReport(i)},_sendReport:function(e){i.ajax({url:"https://metrics-api.librato.com/v1/metrics",type:"post",data:{gauges:e},dataType:"json",headers:{Authorization:"Basic "+this.basic_auth_token},success:function(){}})},_getThresholdText:function(e,t){var i=s;return e>t.high?i=a:e<t.low&&(i=r),t.name+i},_matchEvent:function(e){var i;return t.each(o.events,function(t){t.name===e&&(i=t)}),i},_generateSourceString:function(){var i={},n=t.template("<%= platform %>-<%= os %>-<%= browser %>");return i.platform=e.featureEnabled("flash-playback")?"flash":"html5",i.os=e.isIos?"ios":e.isAndroid?"android":e.isMacOs?"macosx":e.isWinPhone?"winphone":e.isWindows?"windows":"generic",i.browser=e.isChrome?"chrome":e.isFirefox?"firefox":e.isIE11Plus?"ie11plus":e.isIE?"ieold":e.isSafari?"safari":"generic",n(i)},start:function(){var e={};if(this._addMetricValue(e,"v4-load",1),window.performance&&window.performance.getEntries){var i=".*v4.*core",n=t.find(window.performance.getEntriesByType("resource"),function(e){return e.name.match(i)});n&&n.duration>0&&this._addMetricValue(e,this._getThresholdText(n.duration,this._matchEvent("v4-load-time")),1)}this._sendReport(e)}});var u=new l;t.defer(t.bind(u.start,u));var d=function(i,n){this.id=n,this.mb=i,this.initializationTs=this._takeTimestamp(),this.mb.subscribe(e.EVENTS.SET_EMBED_CODE,"librato",t.bind(this._onSetEmbedCode,this)),this.mb.subscribe(e.EVENTS.SET_EMBED_CODE_AFTER_OOYALA_AD,"librato",t.bind(this._onSetEmbedCode,this)),this.mb.subscribe(e.EVENTS.PLAYBACK_READY,"librato",t.bind(this._onPlaybackReady,this)),this.mb.subscribe(e.EVENTS.INITIAL_PLAY,"librato",t.bind(this._onInitialPlay,this)),this.mb.subscribe(e.EVENTS.PLAY,"librato",t.bind(this._onInitialPlay,this)),this.mb.subscribe(e.EVENTS.PLAYING,"librato",t.bind(this._onInitialPlay,this)),this.mb.subscribe(e.EVENTS.ADS_PLAYED,"librato",t.bind(this._onAdsPlayed,this)),this.mb.subscribe(e.EVENTS.PLAYHEAD_TIME_CHANGED,"librato",t.bind(this._onPlayheadTimeChanged,this)),this.mb.subscribe(e.EVENTS.PLAY_FAILED,"librato",t.bind(this._onPlayerPlayFailure,this)),this.mb.subscribe(e.EVENTS.ERROR,"librato",t.bind(this._onPlayerError,this)),this.mb.subscribe(e.EVENTS.WILL_PLAY_ADS,"librato",t.bind(this._willPlayAds,this))};return t.extend(d.prototype,{_takeTimestamp:function(){return(new Date).getTime()},_onSetEmbedCode:function(){this.setEmbedCodeTs=this._takeTimestamp(),this.wasPlayStartReported=!1,this.wasTimeToFirstFrameReported=!1,this.wasTimeToFirstAdFrameReported=!1,this.adsPlaying=!1},_onPlaybackReady:function(){u._reportSingleMetric("v4-playback-ready",1),this.playbackReadyTs=this._takeTimestamp();var e=u._measureDurationMilli(this.setEmbedCodeTs,this.playbackReadyTs);u._reportSingleMetric(u._getThresholdText(e,u._matchEvent("v4-playback-ready")),1)},_onInitialPlay:function(){this.wasPlayStartReported||(this.lastStateChangeTs=this._takeTimestamp(),this.wasPlayStartReported=!0,u._reportSingleMetric("v4-play",1))},_willPlayAds:function(){this.lastStateChangeTs=this._takeTimestamp(),this.adsPlaying=!0,u._reportSingleMetric("v4-play-ad",1)},_onAdsPlayed:function(){this.lastStateChangeTs=this._takeTimestamp(),this.adsPlaying=!1},_onPlayheadTimeChanged:function(e,t){if(!(this.wasTimeToFirstFrameReported&&this.wasTimeToFirstAdFrameReported||!t||0>=t)){this.firstFrameTs=this._takeTimestamp();var i=u._measureDurationMilli(this.lastStateChangeTs,this.firstFrameTs);this.wasTimeToFirstFrameReported||this.adsPlaying||(u._reportSingleMetric(u._getThresholdText(i,u._matchEvent("v4-time-to-first-content-frame")),1),this.wasTimeToFirstFrameReported=!0),this.adsPlaying&&!this.wasTimeToFirstAdFrameReported&&(u._reportSingleMetric(u._getThresholdText(i,u._matchEvent("v4-time-to-first-ad-frame")),1),this.wasTimeToFirstAdFrameReported=!0)}},_onPlayerPlayFailure:function(){u._reportSingleMetric("v4-play-fail",1)},_onPlayerError:function(){this.errorTs=this._takeTimestamp(),u._reportSingleMetric("v4-error",1)}}),d}),function(e,t){t.event.special.mresize={add:function(){var e=t(this);e.data("mresize")||("static"===e.css("position")&&e.css("position","relative"),e.append("<div class='resize' style='position:absolute; width:auto; height:auto; top:0; right:0; bottom:0; left:0; margin:0; padding:0; overflow:hidden; visibility:hidden; z-index:-1'><iframe style='width:100%; height:0; border:0; visibility:visible; margin:0' /><iframe style='width:0; height:100%; border:0; visibility:visible; margin:0' /></div>").data("mresize",{w:e.width(),h:e.height(),t:null,throttle:100}).find(".resize iframe").each(function(){t(this.contentWindow||this).on("resize",function(){var t=e.data("mresize");(t.w!==e.width()||t.h!==e.height())&&(t.t&&clearTimeout(t.t),t.t=setTimeout(function(){e.triggerHandler("mresize"),t.w=e.width(),t.h=e.height()},t.throttle))})}))},remove:function(){t(this).removeData("mresize").find(".resize").remove()}}}(OO,OO.$,OO._),OO.exposeStaticApi("EVENTS",OO.EVENTS),OO.exposeStaticApi("CONSTANTS",OO.CONSTANTS),OO.publicApi.log=OO.log,OO.exposeStaticApi("ERROR",OO.ERROR),OO.exposeStaticApi("STATE",OO.STATE),OO.exposeStaticApi("VERSION",OO.VERSION),OO.exposeStaticApi("VIDEO",OO.VIDEO),OO.publicApi.$=OO.$,OO.publicApi._=OO._,OO.publicApi.__static.apiReady=!0,OO.$(document).ready(function(){OO.publicApi.__static.docReady=!0,OO.tryCallReady()})}()}catch(err){err&&window.console&&window.console.log&&window.console.log(err,err.stack)}